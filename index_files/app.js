function loadCoreJS(){var i,t,n,r,u;window.matchMedia("(min-width: 768px)").matches?($(document).find(".hc-related-news-events-button").hide(),$(".hc-filter-content").show(),$(".hc-related-news-events-column").mouseenter(function(){$(this).find(".hc-related-news-events-dimmer").stop();$(this).find(".hc-related-news-events-extra-text").stop();$(this).find(".hc-related-news-events-button").stop();$(this).find(".hc-related-news-events-top").addClass("hovered");$(this).find(".hc-related-news-events-bottom").addClass("hovered");$(this).find(".hc-related-news-events-dimmer").fadeIn(200);$(this).find(".hc-related-news-events-extra-text").fadeIn(200);$(this).find(".hc-related-news-events-button").fadeIn(200)}),$(".hc-related-news-events-column").mouseleave(function(){$(this).find(".hc-related-news-events-dimmer").stop();$(this).find(".hc-related-news-events-extra-text").stop();$(this).find(".hc-related-news-events-button").stop();$(this).find(".hc-related-news-events-dimmer").fadeOut(200);$(this).find(".hc-related-news-events-extra-text").fadeOut(200);$(this).find(".hc-related-news-events-button").fadeOut(200);$(this).find(".hc-related-news-events-top").removeClass("hovered");$(this).find(".hc-related-news-events-bottom").removeClass("hovered")}),$(".hc-related-news-events-column").keydown(function(n){n.which==13&&($(this).find(".hc-related-news-events-top").hasClass("hovered")?($(this).find(".hc-related-news-events-dimmer").fadeOut(200),$(this).find(".hc-related-news-events-extra-text").fadeOut(200),$(this).find(".hc-related-news-events-button").fadeOut(200),$(this).find(".hc-related-news-events-top").removeClass("hovered"),$(this).find(".hc-related-news-events-bottom").removeClass("hovered")):($(this).find(".hc-related-news-events-top").addClass("hovered"),$(this).find(".hc-related-news-events-bottom").addClass("hovered"),$(this).find(".hc-related-news-events-dimmer").fadeIn(200),$(this).find(".hc-related-news-events-extra-text").fadeIn(200),$(this).find(".hc-related-news-events-button").fadeIn(200)))}),$(".hc-content-with-left-nav.match-height-filter")[0]&&(i=$(".hc-left-nav").height(),$(".hc-content-with-left-nav").css("min-height",i)),$(".hc-left-slide-nav").show(),t=!1,n=!1,$(document).find(".hc-left-slide-nav").length>0&&(r=$(document).find(".hc-left-slide-partner-content-section").last(),u=$(window).height()-jQuery(r).outerHeight(!0),$(".spacer").height(u-$(window).width()*.14),$(".hc-slide-content-container").height($(".hc-left-slide-partner-content").height()),$(".hc-left-slide-nav").height($(".hc-slide-content-container").height()),$(".hc-left-slide-partner-content").width($(window).width()-$(".hc-left-slide-nav").width()-40),$(window).scroll(function(){var i=$(".hc-left-slide-nav-cells")[0],u=$(".hc-left-slide-nav")[0].offsetTop,r=$(window).scrollTop(),o=r+$(window).height(),f=jQuery(i).offset().top+jQuery(i).height(),e=$(".hc-slide-content-container").offset().top+$(".hc-slide-content-container").height();r>u?f>e+1?n||(jQuery(i).removeClass("fixed"),jQuery(i).addClass("bottom"),n=!0,t=!1):r<jQuery(i).offset().top&&n?(n=!1,console.log("going above bottom")):t||n||(jQuery(i).removeClass("bottom"),jQuery(i).addClass("fixed"),t=!0):r<$(".hc-slide-content-container").offset().top&&(jQuery(i).removeClass("fixed"),t=!1);$(".hc-left-slide-partner-content-section").each(function(){var i=$(this).outerHeight(),t=$(this)[0].offsetTop+$(".hc-navbar").height(),n;Math.abs(t-r)<20?(n=$(".hc-left-slide-nav-cell.selected"),n.removeClass("selected"),$(".hc-left-slide-nav").find("a[href$="+$(this)[0].id+"]").find(".hc-left-slide-nav-cell").addClass("selected")):$(window).scrollTop()+$(window).height()==$(document).height()&&(n=$(".hc-left-slide-nav-cell.selected"),n.removeClass("selected"),$(".hc-left-slide-nav-cell").last().addClass("selected"))})}))):($(window).off("scroll"),$(".hc-related-news-events-column").off(),$(document).find(".hc-related-news-events-button").show(),$(".hc-left-slide-nav-cells").removeClass("fixed"),$(".hc-left-slide-nav-cells").removeClass("bottom"),$(".hc-left-slide-nav").css({height:"auto"}),$(".hc-content-with-left-nav.stretch-right").css("margin-right","auto"))}function handleFilterChange(){$("#hc-filter-form input[name=n]").val(0);$("#hc-filter-form, form.calendar-filter").submit()}function loadServiceGroupJS(){$(".service-group-content-section-header").off();window.matchMedia("(min-width: 768px)").matches?$(".service-group-content-section-collapsible").show():($(".hc-left-nav-cell.selected").find(".hc-left-nav-cell-subcell-container").show(),$(".service-group-content-section-header").click(function(){var n=$(this);$(document).find(".service-group-content-section-header").each(function(){$(this).hasClass("selected")&&!$(this).is(n)&&($(this).removeClass("selected"),$(this).parent().find(".service-group-content-section-collapsible").slideUp(200,function(){}),$(this).find(".glyphicon").removeClass("glyphicon-menu-up"),$(this).find(".glyphicon").addClass("glyphicon-menu-down"))});$(this).hasClass("selected")?($(this).removeClass("selected"),$(this).parent().find(".service-group-content-section-collapsible").slideUp(200,function(){}),$(this).find(".glyphicon").removeClass("glyphicon-menu-up"),$(this).find(".glyphicon").addClass("glyphicon-menu-down")):($(this).addClass("selected"),$(this).parent().find(".service-group-content-section-collapsible").slideDown(200,function(){}),$(this).find(".glyphicon").removeClass("glyphicon-menu-down"),$(this).find(".glyphicon").addClass("glyphicon-menu-up"))}))}function loadNewsArchivesJS(){window.matchMedia("(min-width: 768px)").matches&&$(".hc-left-nav.na").height($(".hc-body-content").height())}function loadSearchResultsJS(){window.matchMedia("(min-width: 768px)").matches&&$(".hc-left-nav.sr").height($(".hc-body-content").height()-$(".hc-medium-header").height())}function showEventAction(n){window.matchMedia("(min-width: 768px)").matches&&(jQuery(n).addClass("expanded"),jQuery(n).find(".hc-cal-event-text-content").addClass("showing-calendar-action"),jQuery(n).find(".hc-cal-event-action").fadeIn(200))}function hideEventAction(n){window.matchMedia("(min-width: 768px)").matches&&(jQuery(n).removeClass("expanded"),jQuery(n).find(".hc-cal-event-action").fadeOut(200),jQuery(n).find(".hc-cal-event-text-content").removeClass("showing-calendar-action"))}function toggleEventAction(n,t){n.which==13&&(jQuery(t).hasClass("expanded")?hideEventAction(t):showEventAction(t))}if(!function(n,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=n.document?t(n,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(n)}("undefined"!=typeof window?window:this,function(n,t){function ii(n){var t=!!n&&"length"in n&&n.length,r=i.type(n);return"function"===r||i.isWindow(n)?!1:"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in n}function ri(n,t,r){if(i.isFunction(t))return i.grep(n,function(n,i){return!!t.call(n,i,n)!==r});if(t.nodeType)return i.grep(n,function(n){return n===t!==r});if("string"==typeof t){if(pe.test(t))return i.filter(t,n,r);t=i.filter(t,n)}return i.grep(n,function(n){return i.inArray(n,t)>-1!==r})}function kr(n,t){do n=n[t];while(n&&1!==n.nodeType);return n}function we(n){var t={};return i.each(n.match(s)||[],function(n,i){t[i]=!0}),t}function dr(){u.addEventListener?(u.removeEventListener("DOMContentLoaded",v),n.removeEventListener("load",v)):(u.detachEvent("onreadystatechange",v),n.detachEvent("onload",v))}function v(){(u.addEventListener||"load"===n.event.type||"complete"===u.readyState)&&(dr(),i.ready())}function nu(n,t,r){if(void 0===r&&1===n.nodeType){var u="data-"+t.replace(ke,"-$1").toLowerCase();if(r=n.getAttribute(u),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:be.test(r)?i.parseJSON(r):r}catch(f){}i.data(n,t,r)}else r=void 0}return r}function fi(n){for(var t in n)if(("data"!==t||!i.isEmptyObject(n[t]))&&"toJSON"!==t)return!1;return!0}function tu(n,t,r,u){if(ot(n)){var s,e,h=i.expando,l=n.nodeType,o=l?i.cache:n,f=l?n[h]:n[h]&&h;if(f&&o[f]&&(u||o[f].data)||void 0!==r||"string"!=typeof t)return f||(f=l?n[h]=c.pop()||i.guid++:h),o[f]||(o[f]=l?{}:{toJSON:i.noop}),"object"!=typeof t&&"function"!=typeof t||(u?o[f]=i.extend(o[f],t):o[f].data=i.extend(o[f].data,t)),e=o[f],u||(e.data||(e.data={}),e=e.data),void 0!==r&&(e[i.camelCase(t)]=r),"string"==typeof t?(s=e[t],null==s&&(s=e[i.camelCase(t)])):s=e,s}}function iu(n,t,u){if(ot(n)){var o,s,h=n.nodeType,f=h?i.cache:n,e=h?n[i.expando]:i.expando;if(f[e]){if(t&&(o=u?f[e]:f[e].data)){for(i.isArray(t)?t=t.concat(i.map(t,i.camelCase)):(t in o)?t=[t]:(t=i.camelCase(t),t=(t in o)?[t]:t.split(" ")),s=t.length;s--;)delete o[t[s]];if(u?!fi(o):!i.isEmptyObject(o))return}(u||(delete f[e].data,fi(f[e])))&&(h?i.cleanData([n],!0):r.deleteExpando||f!=f.window?delete f[e]:f[e]=void 0)}}}function ru(n,t,r,u){var h,e=1,l=20,c=u?function(){return u.cur()}:function(){return i.css(n,t,"")},s=c(),o=r&&r[3]||(i.cssNumber[t]?"":"px"),f=(i.cssNumber[t]||"px"!==o&&+s)&&oi.exec(i.css(n,t));if(f&&f[3]!==o){o=o||f[3];r=r||[];f=+s||1;do e=e||".5",f/=e,i.style(n,t,f+o);while(e!==(e=c()/s)&&1!==e&&--l)}return r&&(f=+f||+s||0,h=r[1]?f+(r[1]+1)*r[2]:+r[2],u&&(u.unit=o,u.start=f,u.end=h)),h}function ou(n){var i=eu.split("|"),t=n.createDocumentFragment();if(t.createElement)while(i.length)t.createElement(i.pop());return t}function f(n,t){var e,u,o=0,r="undefined"!=typeof n.getElementsByTagName?n.getElementsByTagName(t||"*"):"undefined"!=typeof n.querySelectorAll?n.querySelectorAll(t||"*"):void 0;if(!r)for(r=[],e=n.childNodes||n;null!=(u=e[o]);o++)!t||i.nodeName(u,t)?r.push(u):i.merge(r,f(u,t));return void 0===t||t&&i.nodeName(n,t)?i.merge([n],r):r}function ci(n,t){for(var u,r=0;null!=(u=n[r]);r++)i._data(u,"globalEval",!t||i._data(t[r],"globalEval"))}function de(n){si.test(n.type)&&(n.defaultChecked=n.checked)}function hu(n,t,u,e,s){for(var l,h,k,c,w,b,v,d=n.length,y=ou(t),a=[],p=0;d>p;p++)if(h=n[p],h||0===h)if("object"===i.type(h))i.merge(a,h.nodeType?[h]:h);else if(su.test(h)){for(c=c||y.appendChild(t.createElement("div")),w=(uu.exec(h)||["",""])[1].toLowerCase(),v=o[w]||o._default,c.innerHTML=v[1]+i.htmlPrefilter(h)+v[2],l=v[0];l--;)c=c.lastChild;if(!r.leadingWhitespace&&hi.test(h)&&a.push(t.createTextNode(hi.exec(h)[0])),!r.tbody)for(h="table"!==w||li.test(h)?"<table>"!==v[1]||li.test(h)?0:c:c.firstChild,l=h&&h.childNodes.length;l--;)i.nodeName(b=h.childNodes[l],"tbody")&&!b.childNodes.length&&h.removeChild(b);for(i.merge(a,c.childNodes),c.textContent="";c.firstChild;)c.removeChild(c.firstChild);c=y.lastChild}else a.push(t.createTextNode(h));for(c&&y.removeChild(c),r.appendChecked||i.grep(f(a,"input"),de),p=0;h=a[p++];)if(e&&i.inArray(h,e)>-1)s&&s.push(h);else if(k=i.contains(h.ownerDocument,h),c=f(y.appendChild(h),"script"),k&&ci(c),u)for(l=0;h=c[l++];)fu.test(h.type||"")&&u.push(h);return c=null,y}function vt(){return!0}function rt(){return!1}function au(){try{return u.activeElement}catch(n){}}function vi(n,t,r,u,f,e){var o,s;if("object"==typeof t){"string"!=typeof r&&(u=u||r,r=void 0);for(s in t)vi(n,s,r,u,t[s],e);return n}if(null==u&&null==f?(f=r,u=r=void 0):null==f&&("string"==typeof r?(f=u,u=void 0):(f=u,u=r,r=void 0)),f===!1)f=rt;else if(!f)return n;return 1===e&&(o=f,f=function(n){return i().off(n),o.apply(this,arguments)},f.guid=o.guid||(o.guid=i.guid++)),n.each(function(){i.event.add(this,t,f,u,r)})}function yu(n,t){return i.nodeName(n,"table")&&i.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?n.getElementsByTagName("tbody")[0]||n.appendChild(n.ownerDocument.createElement("tbody")):n}function pu(n){return n.type=(null!==i.find.attr(n,"type"))+"/"+n.type,n}function wu(n){var t=fo.exec(n.type);return t?n.type=t[1]:n.removeAttribute("type"),n}function bu(n,t){if(1===t.nodeType&&i.hasData(n)){var u,f,o,s=i._data(n),r=i._data(t,s),e=s.events;if(e){delete r.handle;r.events={};for(u in e)for(f=0,o=e[u].length;o>f;f++)i.event.add(t,u,e[u][f])}r.data&&(r.data=i.extend({},r.data))}}function so(n,t){var u,e,f;if(1===t.nodeType){if(u=t.nodeName.toLowerCase(),!r.noCloneEvent&&t[i.expando]){f=i._data(t);for(e in f.events)i.removeEvent(t,e,f.handle);t.removeAttribute(i.expando)}"script"===u&&t.text!==n.text?(pu(t).text=n.text,wu(t)):"object"===u?(t.parentNode&&(t.outerHTML=n.outerHTML),r.html5Clone&&n.innerHTML&&!i.trim(t.innerHTML)&&(t.innerHTML=n.innerHTML)):"input"===u&&si.test(n.type)?(t.defaultChecked=t.checked=n.checked,t.value!==n.value&&(t.value=n.value)):"option"===u?t.defaultSelected=t.selected=n.defaultSelected:"input"!==u&&"textarea"!==u||(t.defaultValue=n.defaultValue)}}function k(n,t,u,e){t=sr.apply([],t);var l,o,a,h,p,c,s=0,v=n.length,b=v-1,y=t[0],w=i.isFunction(y);if(w||v>1&&"string"==typeof y&&!r.checkClone&&uo.test(y))return n.each(function(i){var r=n.eq(i);w&&(t[0]=y.call(this,i,r.html()));k(r,t,u,e)});if(v&&(c=hu(t,n[0].ownerDocument,!1,n,e),l=c.firstChild,1===c.childNodes.length&&(c=l),l||e)){for(h=i.map(f(c,"script"),pu),a=h.length;v>s;s++)o=c,s!==b&&(o=i.clone(o,!0,!0),a&&i.merge(h,f(o,"script"))),u.call(n[s],o,s);if(a)for(p=h[h.length-1].ownerDocument,i.map(h,wu),s=0;a>s;s++)o=h[s],fu.test(o.type||"")&&!i._data(o,"globalEval")&&i.contains(p,o)&&(o.src?i._evalUrl&&i._evalUrl(o.src):i.globalEval((o.text||o.textContent||o.innerHTML||"").replace(eo,"")));c=l=null}return n}function ku(n,t,r){for(var u,o=t?i.filter(t,n):n,e=0;null!=(u=o[e]);e++)r||1!==u.nodeType||i.cleanData(f(u)),u.parentNode&&(r&&i.contains(u.ownerDocument,u)&&ci(f(u,"script")),u.parentNode.removeChild(u));return n}function du(n,t){var r=i(t.createElement(n)).appendTo(t.body),u=i.css(r[0],"display");return r.detach(),u}function yt(n){var r=u,t=pi[n];return t||(t=du(n,r),"none"!==t&&t||(ht=(ht||i("<iframe frameborder='0' width='0' height='0'/>")).appendTo(r.documentElement),r=(ht[0].contentWindow||ht[0].contentDocument).document,r.write(),r.close(),t=du(n,r),ht.detach()),pi[n]=t),t}function bi(n,t){return{get:function(){return n()?void delete this.get:(this.get=t).apply(this,arguments)}}}function ef(n){if(n in ff)return n;for(var i=n.charAt(0).toUpperCase()+n.slice(1),t=uf.length;t--;)if(n=uf[t]+i,n in ff)return n}function of(n,t){for(var f,r,o,e=[],u=0,s=n.length;s>u;u++)r=n[u],r.style&&(e[u]=i._data(r,"olddisplay"),f=r.style.display,t?(e[u]||"none"!==f||(r.style.display=""),""===r.style.display&&st(r)&&(e[u]=i._data(r,"olddisplay",yt(r.nodeName)))):(o=st(r),(f&&"none"!==f||!o)&&i._data(r,"olddisplay",o?f:i.css(r,"display"))));for(u=0;s>u;u++)r=n[u],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?e[u]||"":"none"));return n}function sf(n,t,i){var r=lo.exec(t);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):t}function hf(n,t,r,u,f){for(var e=r===(u?"border":"content")?4:"width"===t?1:0,o=0;4>e;e+=2)"margin"===r&&(o+=i.css(n,r+b[e],!0,f)),u?("content"===r&&(o-=i.css(n,"padding"+b[e],!0,f)),"margin"!==r&&(o-=i.css(n,"border"+b[e]+"Width",!0,f))):(o+=i.css(n,"padding"+b[e],!0,f),"padding"!==r&&(o+=i.css(n,"border"+b[e]+"Width",!0,f)));return o}function cf(t,f,e){var h=!0,o="width"===f?t.offsetWidth:t.offsetHeight,s=d(t),c=r.boxSizing&&"border-box"===i.css(t,"boxSizing",!1,s);if(u.msFullscreenElement&&n.top!==n&&t.getClientRects().length&&(o=Math.round(100*t.getBoundingClientRect()[f])),0>=o||null==o){if(o=p(t,f,s),(0>o||null==o)&&(o=t.style[f]),pt.test(o))return o;h=c&&(r.boxSizingReliable()||o===t.style[f]);o=parseFloat(o)||0}return o+hf(t,f,e||(c?"border":"content"),h,s)+"px"}function e(n,t,i,r,u){return new e.prototype.init(n,t,i,r,u)}function vf(){return n.setTimeout(function(){ut=void 0}),ut=i.now()}function bt(n,t){var r,i={height:n},u=0;for(t=t?1:0;4>u;u+=2-t)r=b[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function yf(n,t,i){for(var u,f=(h.tweeners[t]||[]).concat(h.tweeners["*"]),r=0,e=f.length;e>r;r++)if(u=f[r].call(i,t,n))return u}function vo(n,t,u){var f,a,p,v,s,w,h,b,l=this,y={},o=n.style,c=n.nodeType&&st(n),e=i._data(n,"fxshow");u.queue||(s=i._queueHooks(n,"fx"),null==s.unqueued&&(s.unqueued=0,w=s.empty.fire,s.empty.fire=function(){s.unqueued||w()}),s.unqueued++,l.always(function(){l.always(function(){s.unqueued--;i.queue(n,"fx").length||s.empty.fire()})}));1===n.nodeType&&("height"in t||"width"in t)&&(u.overflow=[o.overflow,o.overflowX,o.overflowY],h=i.css(n,"display"),b="none"===h?i._data(n,"olddisplay")||yt(n.nodeName):h,"inline"===b&&"none"===i.css(n,"float")&&(r.inlineBlockNeedsLayout&&"inline"!==yt(n.nodeName)?o.zoom=1:o.display="inline-block"));u.overflow&&(o.overflow="hidden",r.shrinkWrapBlocks()||l.always(function(){o.overflow=u.overflow[0];o.overflowX=u.overflow[1];o.overflowY=u.overflow[2]}));for(f in t)if(a=t[f],lf.exec(a)){if(delete t[f],p=p||"toggle"===a,a===(c?"hide":"show")){if("show"!==a||!e||void 0===e[f])continue;c=!0}y[f]=e&&e[f]||i.style(n,f)}else h=void 0;if(i.isEmptyObject(y))"inline"===("none"===h?yt(n.nodeName):h)&&(o.display=h);else{e?"hidden"in e&&(c=e.hidden):e=i._data(n,"fxshow",{});p&&(e.hidden=!c);c?i(n).show():l.done(function(){i(n).hide()});l.done(function(){var t;i._removeData(n,"fxshow");for(t in y)i.style(n,t,y[t])});for(f in y)v=yf(c?e[f]:0,f,l),f in e||(e[f]=v.start,c&&(v.end=v.start,v.start="width"===f||"height"===f?1:0))}}function yo(n,t){var r,f,e,u,o;for(r in n)if(f=i.camelCase(r),e=t[f],u=n[r],i.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function h(n,t,r){var e,o,s=0,a=h.prefilters.length,f=i.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var s=ut||vf(),t=Math.max(0,u.startTime+u.duration-s),h=t/u.duration||0,i=1-h,r=0,e=u.tweens.length;e>r;r++)u.tweens[r].run(i);return f.notifyWith(n,[u,i,t]),1>i&&e?t:(f.resolveWith(n,[u]),!1)},u=f.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{},easing:i.easing._default},r),originalProperties:t,originalOptions:r,startTime:ut||vf(),duration:r.duration,tweens:[],createTween:function(t,r){var f=i.Tween(n,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(f),f},stop:function(t){var i=0,r=t?u.tweens.length:0;if(o)return this;for(o=!0;r>i;i++)u.tweens[i].run(1);return t?(f.notifyWith(n,[u,1,0]),f.resolveWith(n,[u,t])):f.rejectWith(n,[u,t]),this}}),c=u.props;for(yo(c,u.opts.specialEasing);a>s;s++)if(e=h.prefilters[s].call(u,n,c,u.opts))return i.isFunction(e.stop)&&(i._queueHooks(u.elem,u.opts.queue).stop=i.proxy(e.stop,e)),e;return i.map(c,yf,u),i.isFunction(u.opts.start)&&u.opts.start.call(n,u),i.fx.timer(i.extend(l,{elem:n,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function nt(n){return i.attr(n,"class")||""}function re(n){return function(t,r){"string"!=typeof t&&(r=t,t="*");var u,f=0,e=t.toLowerCase().match(s)||[];if(i.isFunction(r))while(u=e[f++])"+"===u.charAt(0)?(u=u.slice(1)||"*",(n[u]=n[u]||[]).unshift(r)):(n[u]=n[u]||[]).push(r)}}function ue(n,t,r,u){function e(s){var h;return f[s]=!0,i.each(n[s]||[],function(n,i){var s=i(t,r,u);return"string"!=typeof s||o||f[s]?o?!(h=s):void 0:(t.dataTypes.unshift(s),e(s),!1)}),h}var f={},o=n===tr;return e(t.dataTypes[0])||!f["*"]&&e("*")}function rr(n,t){var u,r,f=i.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((f[r]?n:u||(u={}))[r]=t[r]);return u&&i.extend(!0,n,u),n}function ts(n,t,i){for(var o,e,u,f,s=n.contents,r=n.dataTypes;"*"===r[0];)r.shift(),void 0===e&&(e=n.mimeType||t.getResponseHeader("Content-Type"));if(e)for(f in s)if(s[f]&&s[f].test(e)){r.unshift(f);break}if(r[0]in i)u=r[0];else{for(f in i){if(!r[0]||n.converters[f+" "+r[0]]){u=f;break}o||(o=f)}u=u||o}if(u)return(u!==r[0]&&r.unshift(u),i[u])}function is(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift())if("*"===u)u=e;else if("*"!==e&&e!==u){if(f=o[e+" "+u]||o["* "+u],!f)for(h in o)if(s=h.split(" "),s[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]])){f===!0?f=o[h]:o[h]!==!0&&(u=s[0],c.unshift(s[1]));break}if(f!==!0)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(l){return{state:"parsererror",error:f?l:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}function rs(n){return n.style&&n.style.display||i.css(n,"display")}function us(n){while(n&&1===n.nodeType){if("none"===rs(n)||"hidden"===n.type)return!0;n=n.parentNode}return!1}function ur(n,t,r,u){var f;if(i.isArray(t))i.each(t,function(t,i){r||es.test(n)?u(n,i):ur(n+"["+("object"==typeof i&&null!=i?t:"")+"]",i,r,u)});else if(r||"object"!==i.type(t))u(n,t);else for(f in t)ur(n+"["+f+"]",t[f],r,u)}function fr(){try{return new n.XMLHttpRequest}catch(t){}}function ee(){try{return new n.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function oe(n){return i.isWindow(n)?n:9===n.nodeType?n.defaultView||n.parentWindow:!1}var c=[],u=n.document,a=c.slice,sr=c.concat,ti=c.push,hr=c.indexOf,lt={},ce=lt.toString,tt=lt.hasOwnProperty,r={},cr="1.12.3",i=function(n,t){return new i.fn.init(n,t)},le=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,ve=/-([\da-z])/gi,ye=function(n,t){return t.toUpperCase()},w,ui,yr,pr,wr,br,s,at,gr,o,su,li,ht,pi,d,p,tf,ut,wt,lf,af,pf,wf,kf,df,dt,er,ni,or,se,he;i.fn=i.prototype={jquery:cr,constructor:i,selector:"",length:0,toArray:function(){return a.call(this)},get:function(n){return null!=n?0>n?this[n+this.length]:this[n]:a.call(this)},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t.context=this.context,t},each:function(n){return i.each(this,n)},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(n){var i=this.length,t=+n+(0>n?i:0);return this.pushStack(t>=0&&i>t?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:ti,sort:c.sort,splice:c.splice};i.extend=i.fn.extend=function(){var r,e,t,f,o,s,n=arguments[0]||{},u=1,c=arguments.length,h=!1;for("boolean"==typeof n&&(h=n,n=arguments[u]||{},u++),"object"==typeof n||i.isFunction(n)||(n={}),u===c&&(n=this,u--);c>u;u++)if(null!=(o=arguments[u]))for(f in o)r=n[f],t=o[f],n!==t&&(h&&t&&(i.isPlainObject(t)||(e=i.isArray(t)))?(e?(e=!1,s=r&&i.isArray(r)?r:[]):s=r&&i.isPlainObject(r)?r:{},n[f]=i.extend(h,s,t)):void 0!==t&&(n[f]=t));return n};i.extend({expando:"jQuery"+(cr+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n);},noop:function(){},isFunction:function(n){return"function"===i.type(n)},isArray:Array.isArray||function(n){return"array"===i.type(n)},isWindow:function(n){return null!=n&&n==n.window},isNumeric:function(n){var t=n&&n.toString();return!i.isArray(n)&&t-parseFloat(t)+1>=0},isEmptyObject:function(n){for(var t in n)return!1;return!0},isPlainObject:function(n){var t;if(!n||"object"!==i.type(n)||n.nodeType||i.isWindow(n))return!1;try{if(n.constructor&&!tt.call(n,"constructor")&&!tt.call(n.constructor.prototype,"isPrototypeOf"))return!1}catch(u){return!1}if(!r.ownFirst)for(t in n)return tt.call(n,t);for(t in n);return void 0===t||tt.call(n,t)},type:function(n){return null==n?n+"":"object"==typeof n||"function"==typeof n?lt[ce.call(n)]||"object":typeof n},globalEval:function(t){t&&i.trim(t)&&(n.execScript||function(t){n.eval.call(n,t)})(t)},camelCase:function(n){return n.replace(ae,"ms-").replace(ve,ye)},nodeName:function(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()},each:function(n,t){var r,i=0;if(ii(n)){for(r=n.length;r>i;i++)if(t.call(n[i],i,n[i])===!1)break}else for(i in n)if(t.call(n[i],i,n[i])===!1)break;return n},trim:function(n){return null==n?"":(n+"").replace(le,"")},makeArray:function(n,t){var r=t||[];return null!=n&&(ii(Object(n))?i.merge(r,"string"==typeof n?[n]:n):ti.call(r,n)),r},inArray:function(n,t,i){var r;if(t){if(hr)return hr.call(t,n,i);for(r=t.length,i=i?0>i?Math.max(0,r+i):i:0;r>i;i++)if(i in t&&t[i]===n)return i}return-1},merge:function(n,t){for(var r=+t.length,i=0,u=n.length;r>i;)n[u++]=t[i++];if(r!==r)while(void 0!==t[i])n[u++]=t[i++];return n.length=u,n},grep:function(n,t,i){for(var u,f=[],r=0,e=n.length,o=!i;e>r;r++)u=!t(n[r],r),u!==o&&f.push(n[r]);return f},map:function(n,t,i){var e,u,r=0,f=[];if(ii(n))for(e=n.length;e>r;r++)u=t(n[r],r,i),null!=u&&f.push(u);else for(r in n)u=t(n[r],r,i),null!=u&&f.push(u);return sr.apply([],f)},guid:1,proxy:function(n,t){var u,r,f;return"string"==typeof t&&(f=n[t],t=n,n=f),i.isFunction(n)?(u=a.call(arguments,2),r=function(){return n.apply(t||this,u.concat(a.call(arguments)))},r.guid=n.guid=n.guid||i.guid++,r):void 0},now:function(){return+new Date},support:r});"function"==typeof Symbol&&(i.fn[Symbol.iterator]=c[Symbol.iterator]);i.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(n,t){lt["[object "+t+"]"]=t.toLowerCase()});w=function(n){function u(n,t,r,u){var l,w,a,s,nt,d,y,g,p=t&&t.ownerDocument,v=t?t.nodeType:9;if(r=r||[],"string"!=typeof n||!n||1!==v&&9!==v&&11!==v)return r;if(!u&&((t?t.ownerDocument||t:c)!==i&&b(t),t=t||i,h)){if(11!==v&&(d=sr.exec(n)))if(l=d[1]){if(9===v){if(!(a=t.getElementById(l)))return r;if(a.id===l)return r.push(a),r}else if(p&&(a=p.getElementById(l))&&et(t,a)&&a.id===l)return r.push(a),r}else{if(d[2])return k.apply(r,t.getElementsByTagName(n)),r;if((l=d[3])&&f.getElementsByClassName&&t.getElementsByClassName)return k.apply(r,t.getElementsByClassName(l)),r}if(f.qsa&&!lt[n+" "]&&(!o||!o.test(n))){if(1!==v)p=t,g=n;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(hr,"\\$&"):t.setAttribute("id",s=e),y=ft(n),w=y.length,nt=yi.test(s)?"#"+s:"[id='"+s+"']";w--;)y[w]=nt+" "+yt(y[w]);g=y.join(",");p=gt.test(n)&&ii(t.parentNode)||t}if(g)try{return k.apply(r,p.querySelectorAll(g)),r}catch(tt){}finally{s===e&&t.removeAttribute("id")}}}return si(n.replace(at,"$1"),t,r,u)}function ni(){function n(r,u){return i.push(r+" ")>t.cacheLength&&delete n[i.shift()],n[r+" "]=u}var i=[];return n}function l(n){return n[e]=!0,n}function a(n){var t=i.createElement("div");try{return!!n(t)}catch(r){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function ti(n,i){for(var r=n.split("|"),u=r.length;u--;)t.attrHandle[r[u]]=i}function wi(n,t){var i=t&&n,r=i&&1===n.nodeType&&1===t.nodeType&&(~t.sourceIndex||li)-(~n.sourceIndex||li);if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function cr(n){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===n}}function lr(n){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===n}}function it(n){return l(function(t){return t=+t,l(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function ii(n){return n&&"undefined"!=typeof n.getElementsByTagName&&n}function bi(){}function yt(n){for(var t=0,r=n.length,i="";r>t;t++)i+=n[t].value;return i}function ri(n,t,i){var r=t.dir,u=i&&"parentNode"===r,f=ki++;return t.first?function(t,i,f){while(t=t[r])if(1===t.nodeType||u)return n(t,i,f)}:function(t,i,o){var s,h,c,l=[v,f];if(o){while(t=t[r])if((1===t.nodeType||u)&&n(t,i,o))return!0}else while(t=t[r])if(1===t.nodeType||u){if(c=t[e]||(t[e]={}),h=c[t.uniqueID]||(c[t.uniqueID]={}),(s=h[r])&&s[0]===v&&s[1]===f)return l[2]=s[2];if(h[r]=l,l[2]=n(t,i,o))return!0}}}function ui(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function ar(n,t,i){for(var r=0,f=t.length;f>r;r++)u(n,t[r],i);return i}function pt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=null!=t;s>f;f++)(e=n[f])&&(i&&!i(e,r,u)||(o.push(e),h&&t.push(f)));return o}function fi(n,t,i,r,u,f){return r&&!r[e]&&(r=fi(r)),u&&!u[e]&&(u=fi(u,f)),l(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,b=f||ar(t||"*",o.nodeType?[o]:o,[]),v=!n||!f&&t?b:pt(b,p,n,o,s),h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=pt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?nt(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=pt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):k.apply(e,h)})}function ei(n){for(var o,u,r,s=n.length,h=t.relative[n[0].type],c=h||t.relative[" "],i=h?1:0,l=ri(function(n){return n===o},c,!0),a=ri(function(n){return nt(o,n)>-1},c,!0),f=[function(n,t,i){var r=!h&&(i||t!==ht)||((o=t).nodeType?l(n,t,i):a(n,t,i));return o=null,r}];s>i;i++)if(u=t.relative[n[i].type])f=[ri(ui(f),u)];else{if(u=t.filter[n[i].type].apply(null,n[i].matches),u[e]){for(r=++i;s>r;r++)if(t.relative[n[r].type])break;return fi(i>1&&ui(f),i>1&&yt(n.slice(0,i-1).concat({value:" "===n[i-2].type?"*":""})).replace(at,"$1"),u,r>i&&ei(n.slice(i,r)),s>r&&ei(n=n.slice(r)),s>r&&yt(n))}f.push(u)}return ui(f)}function vr(n,r){var f=r.length>0,e=n.length>0,o=function(o,s,c,l,a){var y,nt,d,g=0,p="0",tt=o&&[],w=[],it=ht,rt=o||e&&t.find.TAG("*",a),ut=v+=null==it?1:Math.random()||.1,ft=rt.length;for(a&&(ht=s===i||s||a);p!==ft&&null!=(y=rt[p]);p++){if(e&&y){for(nt=0,s||y.ownerDocument===i||(b(y),c=!h);d=n[nt++];)if(d(y,s||i,c)){l.push(y);break}a&&(v=ut)}f&&((y=!d&&y)&&g--,o&&tt.push(y))}if(g+=p,f&&p!==g){for(nt=0;d=r[nt++];)d(tt,w,s,c);if(o){if(g>0)while(p--)tt[p]||w[p]||(w[p]=gi.call(l));w=pt(w)}k.apply(l,w);a&&!o&&w.length>0&&g+r.length>1&&u.uniqueSort(l)}return a&&(v=ut,ht=it),tt};return f?l(o):o}var rt,f,t,st,oi,ft,wt,si,ht,w,ut,b,i,s,h,o,d,ct,et,e="sizzle"+1*new Date,c=n.document,v=0,ki=0,hi=ni(),ci=ni(),lt=ni(),bt=function(n,t){return n===t&&(ut=!0),0},li=-2147483648,di={}.hasOwnProperty,g=[],gi=g.pop,nr=g.push,k=g.push,ai=g.slice,nt=function(n,t){for(var i=0,r=n.length;r>i;i++)if(n[i]===t)return i;return-1},kt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",r="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",vi="\\["+r+"*("+tt+")(?:"+r+"*([*^$|!~]?=)"+r+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+tt+"))|)"+r+"*\\]",dt=":("+tt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+vi+")*)|.*)\\)|)",tr=new RegExp(r+"+","g"),at=new RegExp("^"+r+"+|((?:^|[^\\\\])(?:\\\\.)*)"+r+"+$","g"),ir=new RegExp("^"+r+"*,"+r+"*"),rr=new RegExp("^"+r+"*([>+~]|"+r+")"+r+"*"),ur=new RegExp("="+r+"*([^\\]'\"]*?)"+r+"*\\]","g"),fr=new RegExp(dt),yi=new RegExp("^"+tt+"$"),vt={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),TAG:new RegExp("^("+tt+"|[*])"),ATTR:new RegExp("^"+vi),PSEUDO:new RegExp("^"+dt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+r+"*(even|odd|(([+-]|)(\\d*)n|)"+r+"*(?:([+-]|)"+r+"*(\\d+)|))"+r+"*\\)|)","i"),bool:new RegExp("^(?:"+kt+")$","i"),needsContext:new RegExp("^"+r+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+r+"*((?:-\\d)?\\d*)"+r+"*\\)|)(?=[^-]|$)","i")},er=/^(?:input|select|textarea|button)$/i,or=/^h\d$/i,ot=/^[^{]+\{\s*\[native \w/,sr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/[+~]/,hr=/'|\\/g,y=new RegExp("\\\\([\\da-f]{1,6}"+r+"?|("+r+")|.)","ig"),p=function(n,t,i){var r="0x"+t-65536;return r!==r||i?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},pi=function(){b()};try{k.apply(g=ai.call(c.childNodes),c.childNodes);g[c.childNodes.length].nodeType}catch(yr){k={apply:g.length?function(n,t){nr.apply(n,ai.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}f=u.support={};oi=u.isXML=function(n){var t=n&&(n.ownerDocument||n).documentElement;return t?"HTML"!==t.nodeName:!1};b=u.setDocument=function(n){var v,u,l=n?n.ownerDocument||n:c;return l!==i&&9===l.nodeType&&l.documentElement?(i=l,s=i.documentElement,h=!oi(i),(u=i.defaultView)&&u.top!==u&&(u.addEventListener?u.addEventListener("unload",pi,!1):u.attachEvent&&u.attachEvent("onunload",pi)),f.attributes=a(function(n){return n.className="i",!n.getAttribute("className")}),f.getElementsByTagName=a(function(n){return n.appendChild(i.createComment("")),!n.getElementsByTagName("*").length}),f.getElementsByClassName=ot.test(i.getElementsByClassName),f.getById=a(function(n){return s.appendChild(n).id=e,!i.getElementsByName||!i.getElementsByName(e).length}),f.getById?(t.find.ID=function(n,t){if("undefined"!=typeof t.getElementById&&h){var i=t.getElementById(n);return i?[i]:[]}},t.filter.ID=function(n){var t=n.replace(y,p);return function(n){return n.getAttribute("id")===t}}):(delete t.find.ID,t.filter.ID=function(n){var t=n.replace(y,p);return function(n){var i="undefined"!=typeof n.getAttributeNode&&n.getAttributeNode("id");return i&&i.value===t}}),t.find.TAG=f.getElementsByTagName?function(n,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(n):f.qsa?t.querySelectorAll(n):void 0}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if("*"===n){while(i=u[f++])1===i.nodeType&&r.push(i);return r}return u},t.find.CLASS=f.getElementsByClassName&&function(n,t){if("undefined"!=typeof t.getElementsByClassName&&h)return t.getElementsByClassName(n)},d=[],o=[],(f.qsa=ot.test(i.querySelectorAll))&&(a(function(n){s.appendChild(n).innerHTML="<a id='"+e+"'><\/a><select id='"+e+"-\r\\' msallowcapture=''><option selected=''><\/option><\/select>";n.querySelectorAll("[msallowcapture^='']").length&&o.push("[*^$]="+r+"*(?:''|\"\")");n.querySelectorAll("[selected]").length||o.push("\\["+r+"*(?:value|"+kt+")");n.querySelectorAll("[id~="+e+"-]").length||o.push("~=");n.querySelectorAll(":checked").length||o.push(":checked");n.querySelectorAll("a#"+e+"+*").length||o.push(".#.+[+~]")}),a(function(n){var t=i.createElement("input");t.setAttribute("type","hidden");n.appendChild(t).setAttribute("name","D");n.querySelectorAll("[name=d]").length&&o.push("name"+r+"*[*^$|!~]?=");n.querySelectorAll(":enabled").length||o.push(":enabled",":disabled");n.querySelectorAll("*,:x");o.push(",.*:")})),(f.matchesSelector=ot.test(ct=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&a(function(n){f.disconnectedMatch=ct.call(n,"div");ct.call(n,"[s!='']:x");d.push("!=",dt)}),o=o.length&&new RegExp(o.join("|")),d=d.length&&new RegExp(d.join("|")),v=ot.test(s.compareDocumentPosition),et=v||ot.test(s.contains)?function(n,t){var r=9===n.nodeType?n.documentElement:n,i=t&&t.parentNode;return n===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):n.compareDocumentPosition&&16&n.compareDocumentPosition(i)))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},bt=v?function(n,t){if(n===t)return ut=!0,0;var r=!n.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(n.ownerDocument||n)===(t.ownerDocument||t)?n.compareDocumentPosition(t):1,1&r||!f.sortDetached&&t.compareDocumentPosition(n)===r?n===i||n.ownerDocument===c&&et(c,n)?-1:t===i||t.ownerDocument===c&&et(c,t)?1:w?nt(w,n)-nt(w,t):0:4&r?-1:1)}:function(n,t){if(n===t)return ut=!0,0;var r,u=0,o=n.parentNode,s=t.parentNode,f=[n],e=[t];if(!o||!s)return n===i?-1:t===i?1:o?-1:s?1:w?nt(w,n)-nt(w,t):0;if(o===s)return wi(n,t);for(r=n;r=r.parentNode;)f.unshift(r);for(r=t;r=r.parentNode;)e.unshift(r);while(f[u]===e[u])u++;return u?wi(f[u],e[u]):f[u]===c?-1:e[u]===c?1:0},i):i};u.matches=function(n,t){return u(n,null,null,t)};u.matchesSelector=function(n,t){if((n.ownerDocument||n)!==i&&b(n),t=t.replace(ur,"='$1']"),f.matchesSelector&&h&&!lt[t+" "]&&(!d||!d.test(t))&&(!o||!o.test(t)))try{var r=ct.call(n,t);if(r||f.disconnectedMatch||n.document&&11!==n.document.nodeType)return r}catch(e){}return u(t,i,null,[n]).length>0};u.contains=function(n,t){return(n.ownerDocument||n)!==i&&b(n),et(n,t)};u.attr=function(n,r){(n.ownerDocument||n)!==i&&b(n);var e=t.attrHandle[r.toLowerCase()],u=e&&di.call(t.attrHandle,r.toLowerCase())?e(n,r,!h):void 0;return void 0!==u?u:f.attributes||!h?n.getAttribute(r):(u=n.getAttributeNode(r))&&u.specified?u.value:null};u.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};u.uniqueSort=function(n){var r,u=[],t=0,i=0;if(ut=!f.detectDuplicates,w=!f.sortStable&&n.slice(0),n.sort(bt),ut){while(r=n[i++])r===n[i]&&(t=u.push(i));while(t--)n.splice(u[t],1)}return w=null,n};st=u.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(1===t||9===t||11===t){if("string"==typeof n.textContent)return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=st(n)}else if(3===t||4===t)return n.nodeValue}else while(r=n[u++])i+=st(r);return i};t=u.selectors={cacheLength:50,createPseudo:l,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(y,p),n[3]=(n[3]||n[4]||n[5]||"").replace(y,p),"~="===n[2]&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),"nth"===n[1].slice(0,3)?(n[3]||u.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*("even"===n[3]||"odd"===n[3])),n[5]=+(n[7]+n[8]||"odd"===n[3])):n[3]&&u.error(n[0]),n},PSEUDO:function(n){var i,t=!n[6]&&n[2];return vt.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":t&&fr.test(t)&&(i=ft(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(y,p).toLowerCase();return"*"===n?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=hi[n+" "];return t||(t=new RegExp("(^|"+r+")"+n+"("+r+"|$)"))&&hi(n,function(n){return t.test("string"==typeof n.className&&n.className||"undefined"!=typeof n.getAttribute&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(r){var f=u.attr(r,n);return null==f?"!="===t:t?(f+="","="===t?f===i:"!="===t?f!==i:"^="===t?i&&0===f.indexOf(i):"*="===t?i&&f.indexOf(i)>-1:"$="===t?i&&f.slice(-i.length)===i:"~="===t?(" "+f.replace(tr," ")+" ").indexOf(i)>-1:"|="===t?f===i||f.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,t,i,r,u){var s="nth"!==n.slice(0,3),o="last"!==n.slice(-4),f="of-type"===t;return 1===r&&0===u?function(n){return!!n.parentNode}:function(t,i,h){var p,w,y,c,a,b,k=s!==o?"nextSibling":"previousSibling",d=t.parentNode,nt=f&&t.nodeName.toLowerCase(),g=!h&&!f,l=!1;if(d){if(s){while(k){for(c=t;c=c[k];)if(f?c.nodeName.toLowerCase()===nt:1===c.nodeType)return!1;b=k="only"===n&&!b&&"nextSibling"}return!0}if(b=[o?d.firstChild:d.lastChild],o&&g){for(c=d,y=c[e]||(c[e]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),p=w[n]||[],a=p[0]===v&&p[1],l=a&&p[2],c=a&&d.childNodes[a];c=++a&&c&&c[k]||(l=a=0)||b.pop();)if(1===c.nodeType&&++l&&c===t){w[n]=[v,a,l];break}}else if(g&&(c=t,y=c[e]||(c[e]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),p=w[n]||[],a=p[0]===v&&p[1],l=a),l===!1)while(c=++a&&c&&c[k]||(l=a=0)||b.pop())if((f?c.nodeName.toLowerCase()===nt:1===c.nodeType)&&++l&&(g&&(y=c[e]||(c[e]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),w[n]=[v,l]),c===t))break;return l-=u,l===r||l%r==0&&l/r>=0}}},PSEUDO:function(n,i){var f,r=t.pseudos[n]||t.setFilters[n.toLowerCase()]||u.error("unsupported pseudo: "+n);return r[e]?r(i):r.length>1?(f=[n,n,"",i],t.setFilters.hasOwnProperty(n.toLowerCase())?l(function(n,t){for(var u,f=r(n,i),e=f.length;e--;)u=nt(n,f[e]),n[u]=!(t[u]=f[e])}):function(n){return r(n,0,f)}):r}},pseudos:{not:l(function(n){var t=[],r=[],i=wt(n.replace(at,"$1"));return i[e]?l(function(n,t,r,u){for(var e,o=i(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(t[f]=e))}):function(n,u,f){return t[0]=n,i(t,null,f,r),t[0]=null,!r.pop()}}),has:l(function(n){return function(t){return u(n,t).length>0}}),contains:l(function(n){return n=n.replace(y,p),function(t){return(t.textContent||t.innerText||st(t)).indexOf(n)>-1}}),lang:l(function(n){return yi.test(n||"")||u.error("unsupported lang: "+n),n=n.replace(y,p).toLowerCase(),function(t){var i;do if(i=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===n||0===i.indexOf(n+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===s},focus:function(n){return n===i.activeElement&&(!i.hasFocus||i.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:function(n){return n.disabled===!1},disabled:function(n){return n.disabled===!0},checked:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&!!n.checked||"option"===t&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!t.pseudos.empty(n)},header:function(n){return or.test(n.nodeName)},input:function(n){return er.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&"button"===n.type||"button"===t},text:function(n){var t;return"input"===n.nodeName.toLowerCase()&&"text"===n.type&&(null==(t=n.getAttribute("type"))||"text"===t.toLowerCase())},first:it(function(){return[0]}),last:it(function(n,t){return[t-1]}),eq:it(function(n,t,i){return[0>i?i+t:i]}),even:it(function(n,t){for(var i=0;t>i;i+=2)n.push(i);return n}),odd:it(function(n,t){for(var i=1;t>i;i+=2)n.push(i);return n}),lt:it(function(n,t,i){for(var r=0>i?i+t:i;--r>=0;)n.push(r);return n}),gt:it(function(n,t,i){for(var r=0>i?i+t:i;++r<t;)n.push(r);return n})}};t.pseudos.nth=t.pseudos.eq;for(rt in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[rt]=cr(rt);for(rt in{submit:!0,reset:!0})t.pseudos[rt]=lr(rt);return bi.prototype=t.filters=t.pseudos,t.setFilters=new bi,ft=u.tokenize=function(n,i){var e,f,s,o,r,h,c,l=ci[n+" "];if(l)return i?0:l.slice(0);for(r=n,h=[],c=t.preFilter;r;){(!e||(f=ir.exec(r)))&&(f&&(r=r.slice(f[0].length)||r),h.push(s=[]));e=!1;(f=rr.exec(r))&&(e=f.shift(),s.push({value:e,type:f[0].replace(at," ")}),r=r.slice(e.length));for(o in t.filter)(f=vt[o].exec(r))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),r=r.slice(e.length));if(!e)break}return i?r.length:r?u.error(n):ci(n,h).slice(0)},wt=u.compile=function(n,t){var r,u=[],f=[],i=lt[n+" "];if(!i){for(t||(t=ft(n)),r=t.length;r--;)i=ei(t[r]),i[e]?u.push(i):f.push(i);i=lt(n,vr(f,u));i.selector=n}return i},si=u.select=function(n,i,r,u){var s,e,o,a,v,l="function"==typeof n&&n,c=!u&&ft(n=l.selector||n);if(r=r||[],1===c.length){if(e=c[0]=c[0].slice(0),e.length>2&&"ID"===(o=e[0]).type&&f.getById&&9===i.nodeType&&h&&t.relative[e[1].type]){if(i=(t.find.ID(o.matches[0].replace(y,p),i)||[])[0],!i)return r;l&&(i=i.parentNode);n=n.slice(e.shift().value.length)}for(s=vt.needsContext.test(n)?0:e.length;s--;){if(o=e[s],t.relative[a=o.type])break;if((v=t.find[a])&&(u=v(o.matches[0].replace(y,p),gt.test(e[0].type)&&ii(i.parentNode)||i))){if(e.splice(s,1),n=u.length&&yt(e),!n)return k.apply(r,u),r;break}}}return(l||wt(n,c))(u,i,!h,r,!i||gt.test(n)&&ii(i.parentNode)||i),r},f.sortStable=e.split("").sort(bt).join("")===e,f.detectDuplicates=!!ut,b(),f.sortDetached=a(function(n){return 1&n.compareDocumentPosition(i.createElement("div"))}),a(function(n){return n.innerHTML="<a href='#'><\/a>","#"===n.firstChild.getAttribute("href")})||ti("type|href|height|width",function(n,t,i){if(!i)return n.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&a(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),""===n.firstChild.getAttribute("value")})||ti("value",function(n,t,i){if(!i&&"input"===n.nodeName.toLowerCase())return n.defaultValue}),a(function(n){return null==n.getAttribute("disabled")})||ti(kt,function(n,t,i){var r;if(!i)return n[t]===!0?t.toLowerCase():(r=n.getAttributeNode(t))&&r.specified?r.value:null}),u}(n);i.find=w;i.expr=w.selectors;i.expr[":"]=i.expr.pseudos;i.uniqueSort=i.unique=w.uniqueSort;i.text=w.getText;i.isXMLDoc=w.isXML;i.contains=w.contains;var it=function(n,t,r){for(var u=[],f=void 0!==r;(n=n[t])&&9!==n.nodeType;)if(1===n.nodeType){if(f&&i(n).is(r))break;u.push(n)}return u},lr=function(n,t){for(var i=[];n;n=n.nextSibling)1===n.nodeType&&n!==t&&i.push(n);return i},ar=i.expr.match.needsContext,vr=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,pe=/^.[^:#\[\.,]*$/;i.filter=function(n,t,r){var u=t[0];return r&&(n=":not("+n+")"),1===t.length&&1===u.nodeType?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return 1===n.nodeType}))};i.fn.extend({find:function(n){var t,r=[],u=this,f=u.length;if("string"!=typeof n)return this.pushStack(i(n).filter(function(){for(t=0;f>t;t++)if(i.contains(u[t],this))return!0}));for(t=0;f>t;t++)i.find(n,u[t],r);return r=this.pushStack(f>1?i.unique(r):r),r.selector=this.selector?this.selector+" "+n:n,r},filter:function(n){return this.pushStack(ri(this,n||[],!1))},not:function(n){return this.pushStack(ri(this,n||[],!0))},is:function(n){return!!ri(this,"string"==typeof n&&ar.test(n)?i(n):n||[],!1).length}});yr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;pr=i.fn.init=function(n,t,r){var f,e;if(!n)return this;if(r=r||ui,"string"==typeof n){if(f="<"===n.charAt(0)&&">"===n.charAt(n.length-1)&&n.length>=3?[null,n,null]:yr.exec(n),!f||!f[1]&&t)return!t||t.jquery?(t||r).find(n):this.constructor(t).find(n);if(f[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(f[1],t&&t.nodeType?t.ownerDocument||t:u,!0)),vr.test(f[1])&&i.isPlainObject(t))for(f in t)i.isFunction(this[f])?this[f](t[f]):this.attr(f,t[f]);return this}if(e=u.getElementById(f[2]),e&&e.parentNode){if(e.id!==f[2])return ui.find(n);this.length=1;this[0]=e}return this.context=u,this.selector=n,this}return n.nodeType?(this.context=this[0]=n,this.length=1,this):i.isFunction(n)?"undefined"!=typeof r.ready?r.ready(n):n(i):(void 0!==n.selector&&(this.selector=n.selector,this.context=n.context),i.makeArray(n,this))};pr.prototype=i.fn;ui=i(u);wr=/^(?:parents|prev(?:Until|All))/;br={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({has:function(n){var t,r=i(n,this),u=r.length;return this.filter(function(){for(t=0;u>t;t++)if(i.contains(this,r[t]))return!0})},closest:function(n,t){for(var r,f=0,o=this.length,u=[],e=ar.test(n)||"string"!=typeof n?i(n,t||this.context):0;o>f;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(e?e.index(r)>-1:1===r.nodeType&&i.find.matchesSelector(r,n))){u.push(r);break}return this.pushStack(u.length>1?i.uniqueSort(u):u)},index:function(n){return n?"string"==typeof n?i.inArray(this[0],i(n)):i.inArray(n.jquery?n[0]:n,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){return this.pushStack(i.uniqueSort(i.merge(this.get(),i(n,t))))},addBack:function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&11!==t.nodeType?t:null},parents:function(n){return it(n,"parentNode")},parentsUntil:function(n,t,i){return it(n,"parentNode",i)},next:function(n){return kr(n,"nextSibling")},prev:function(n){return kr(n,"previousSibling")},nextAll:function(n){return it(n,"nextSibling")},prevAll:function(n){return it(n,"previousSibling")},nextUntil:function(n,t,i){return it(n,"nextSibling",i)},prevUntil:function(n,t,i){return it(n,"previousSibling",i)},siblings:function(n){return lr((n.parentNode||{}).firstChild,n)},children:function(n){return lr(n.firstChild)},contents:function(n){return i.nodeName(n,"iframe")?n.contentDocument||n.contentWindow.document:i.merge([],n.childNodes)}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return"Until"!==n.slice(-5)&&(u=r),u&&"string"==typeof u&&(f=i.filter(u,f)),this.length>1&&(br[n]||(f=i.uniqueSort(f)),wr.test(n)&&(f=f.reverse())),this.pushStack(f)}});s=/\S+/g;i.Callbacks=function(n){n="string"==typeof n?we(n):i.extend({},n);var e,r,h,f,t=[],o=[],u=-1,c=function(){for(f=n.once,h=e=!0;o.length;u=-1)for(r=o.shift();++u<t.length;)t[u].apply(r[0],r[1])===!1&&n.stopOnFalse&&(u=t.length,r=!1);n.memory||(r=!1);e=!1;f&&(t=r?[]:"")},s={add:function(){return t&&(r&&!e&&(u=t.length-1,o.push(r)),function f(r){i.each(r,function(r,u){i.isFunction(u)?n.unique&&s.has(u)||t.push(u):u&&u.length&&"string"!==i.type(u)&&f(u)})}(arguments),r&&!e&&c()),this},remove:function(){return i.each(arguments,function(n,r){for(var f;(f=i.inArray(r,t,f))>-1;)t.splice(f,1),u>=f&&u--}),this},has:function(n){return n?i.inArray(n,t)>-1:t.length>0},empty:function(){return t&&(t=[]),this},disable:function(){return f=o=[],t=r="",this},disabled:function(){return!t},lock:function(){return f=!0,r||s.disable(),this},locked:function(){return!!f},fireWith:function(n,t){return f||(t=t||[],t=[n,t.slice?t.slice():t],o.push(t),e||c()),this},fire:function(){return s.fireWith(this,arguments),this},fired:function(){return!!h}};return s};i.extend({Deferred:function(n){var u=[["resolve","done",i.Callbacks("once memory"),"resolved"],["reject","fail",i.Callbacks("once memory"),"rejected"],["notify","progress",i.Callbacks("memory")]],f="pending",r={state:function(){return f},always:function(){return t.done(arguments).fail(arguments),this},then:function(){var n=arguments;return i.Deferred(function(f){i.each(u,function(u,e){var o=i.isFunction(n[u])&&n[u];t[e[1]](function(){var n=o&&o.apply(this,arguments);n&&i.isFunction(n.promise)?n.promise().progress(f.notify).done(f.resolve).fail(f.reject):f[e[0]+"With"](this===r?f.promise():this,o?[n]:arguments)})});n=null}).promise()},promise:function(n){return null!=n?i.extend(n,r):r}},t={};return r.pipe=r.then,i.each(u,function(n,i){var e=i[2],o=i[3];r[i[1]]=e.add;o&&e.add(function(){f=o},u[1^n][2].disable,u[2][2].lock);t[i[0]]=function(){return t[i[0]+"With"](this===t?r:this,arguments),this};t[i[0]+"With"]=e.fireWith}),r.promise(t),n&&n.call(t,t),t},when:function(n){var t=0,u=a.call(arguments),r=u.length,e=1!==r||n&&i.isFunction(n.promise)?r:0,f=1===e?n:i.Deferred(),h=function(n,t,i){return function(r){t[n]=this;i[n]=arguments.length>1?a.call(arguments):r;i===o?f.notifyWith(t,i):--e||f.resolveWith(t,i)}},o,c,s;if(r>1)for(o=new Array(r),c=new Array(r),s=new Array(r);r>t;t++)u[t]&&i.isFunction(u[t].promise)?u[t].promise().progress(h(t,c,o)).done(h(t,s,u)).fail(f.reject):--e;return e||f.resolveWith(s,u),f.promise()}});i.fn.ready=function(n){return i.ready.promise().done(n),this};i.extend({isReady:!1,readyWait:1,holdReady:function(n){n?i.readyWait++:i.ready(!0)},ready:function(n){(n===!0?--i.readyWait:i.isReady)||(i.isReady=!0,n!==!0&&--i.readyWait>0||(at.resolveWith(u,[i]),i.fn.triggerHandler&&(i(u).triggerHandler("ready"),i(u).off("ready"))))}});i.ready.promise=function(t){if(!at)if(at=i.Deferred(),"complete"!==u.readyState&&("loading"===u.readyState||u.documentElement.doScroll))if(u.addEventListener)u.addEventListener("DOMContentLoaded",v),n.addEventListener("load",v);else{u.attachEvent("onreadystatechange",v);n.attachEvent("onload",v);var r=!1;try{r=null==n.frameElement&&u.documentElement}catch(e){}r&&r.doScroll&&!function f(){if(!i.isReady){try{r.doScroll("left")}catch(t){return n.setTimeout(f,50)}dr();i.ready()}}()}else n.setTimeout(i.ready);return at.promise(t)};i.ready.promise();for(gr in i(r))break;r.ownFirst="0"===gr;r.inlineBlockNeedsLayout=!1;i(function(){var f,t,n,i;n=u.getElementsByTagName("body")[0];n&&n.style&&(t=u.createElement("div"),i=u.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",r.inlineBlockNeedsLayout=f=3===t.offsetWidth,f&&(n.style.zoom=1)),n.removeChild(i))}),function(){var n=u.createElement("div");r.deleteExpando=!0;try{delete n.test}catch(t){r.deleteExpando=!1}n=null}();var ot=function(n){var t=i.noData[(n.nodeName+" ").toLowerCase()],r=+n.nodeType||1;return 1!==r&&9!==r?!1:!t||t!==!0&&n.getAttribute("classid")===t},be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ke=/([A-Z])/g;i.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(n){return n=n.nodeType?i.cache[n[i.expando]]:n[i.expando],!!n&&!fi(n)},data:function(n,t,i){return tu(n,t,i)},removeData:function(n,t){return iu(n,t)},_data:function(n,t,i){return tu(n,t,i,!0)},_removeData:function(n,t){return iu(n,t,!0)}});i.fn.extend({data:function(n,t){var f,u,e,r=this[0],o=r&&r.attributes;if(void 0===n){if(this.length&&(e=i.data(r),1===r.nodeType&&!i._data(r,"parsedAttrs"))){for(f=o.length;f--;)o[f]&&(u=o[f].name,0===u.indexOf("data-")&&(u=i.camelCase(u.slice(5)),nu(r,u,e[u])));i._data(r,"parsedAttrs",!0)}return e}return"object"==typeof n?this.each(function(){i.data(this,n)}):arguments.length>1?this.each(function(){i.data(this,n,t)}):r?nu(r,n,i.data(r,n)):void 0},removeData:function(n){return this.each(function(){i.removeData(this,n)})}});i.extend({queue:function(n,t,r){var u;if(n)return(t=(t||"fx")+"queue",u=i._data(n,t),r&&(!u||i.isArray(r)?u=i._data(n,t,i.makeArray(r)):u.push(r)),u||[])},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};"inprogress"===u&&(u=r.shift(),e--);u&&("fx"===t&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var r=t+"queueHooks";return i._data(n,r)||i._data(n,r,{empty:i.Callbacks("once memory").add(function(){i._removeData(n,t+"queue");i._removeData(n,r)})})}});i.fn.extend({queue:function(n,t){var r=2;return"string"!=typeof n&&(t=n,n="fx",r--),arguments.length<r?i.queue(this[0],n):void 0===t?this:this.each(function(){var r=i.queue(this,n,t);i._queueHooks(this,n);"fx"===n&&"inprogress"!==r[0]&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,t){var r,f=1,e=i.Deferred(),u=this,o=this.length,s=function(){--f||e.resolveWith(u,[u])};for("string"!=typeof n&&(t=n,n=void 0),n=n||"fx";o--;)r=i._data(u[o],n+"queueHooks"),r&&r.empty&&(f++,r.empty.add(s));return s(),e.promise(t)}}),function(){var n;r.shrinkWrapBlocks=function(){if(null!=n)return n;n=!1;var t,i,r;return i=u.getElementsByTagName("body")[0],i&&i.style?(t=u.createElement("div"),r=u.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(r).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(u.createElement("div")).style.width="5px",n=3!==t.offsetWidth),i.removeChild(r),n):void 0}}();var ei=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,oi=new RegExp("^(?:([+-])=|)("+ei+")([a-z%]*)$","i"),b=["Top","Right","Bottom","Left"],st=function(n,t){return n=t||n,"none"===i.css(n,"display")||!i.contains(n.ownerDocument,n)};var y=function(n,t,r,u,f,e,o){var s=0,c=n.length,h=null==r;if("object"===i.type(r)){f=!0;for(s in r)y(n,t,s,r[s],!0,e,o)}else if(void 0!==u&&(f=!0,i.isFunction(u)||(o=!0),h&&(o?(t.call(n,u),t=null):(h=t,t=function(n,t,r){return h.call(i(n),r)})),t))for(;c>s;s++)t(n[s],r,o?u:u.call(n[s],s,t(n[s],r)));return f?n:h?t.call(n):c?t(n[0],r):e},si=/^(?:checkbox|radio)$/i,uu=/<([\w:-]+)/,fu=/^$|\/(?:java|ecma)script/i,hi=/^\s+/,eu="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var n=u.createElement("div"),f=u.createDocumentFragment(),t=u.createElement("input");n.innerHTML="  <link/><table><\/table><a href='/a'>a<\/a><input type='checkbox'/>";r.leadingWhitespace=3===n.firstChild.nodeType;r.tbody=!n.getElementsByTagName("tbody").length;r.htmlSerialize=!!n.getElementsByTagName("link").length;r.html5Clone="<:nav><\/:nav>"!==u.createElement("nav").cloneNode(!0).outerHTML;t.type="checkbox";t.checked=!0;f.appendChild(t);r.appendChecked=t.checked;n.innerHTML="<textarea>x<\/textarea>";r.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue;f.appendChild(n);t=u.createElement("input");t.setAttribute("type","radio");t.setAttribute("checked","checked");t.setAttribute("name","t");n.appendChild(t);r.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked;r.noCloneEvent=!!n.addEventListener;n[i.expando]=1;r.attributes=!n.getAttribute(i.expando)}();o={option:[1,"<select multiple='multiple'>","<\/select>"],legend:[1,"<fieldset>","<\/fieldset>"],area:[1,"<map>","<\/map>"],param:[1,"<object>","<\/object>"],thead:[1,"<table>","<\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],col:[2,"<table><tbody><\/tbody><colgroup>","<\/colgroup><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:r.htmlSerialize?[0,"",""]:[1,"X<div>","<\/div>"]};o.optgroup=o.option;o.tbody=o.tfoot=o.colgroup=o.caption=o.thead;o.th=o.td;su=/<|&#?\w+;/;li=/<tbody/i;!function(){var t,i,f=u.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})i="on"+t,(r[t]=i in n)||(f.setAttribute(i,"t"),r[t]=f.attributes[i].expando===!1);f=null}();var ai=/^(?:input|select|textarea)$/i,ge=/^key/,no=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,cu=/^(?:focusinfocus|focusoutblur)$/,lu=/^([^.]*)(?:\.(.+)|)/;i.event={global:{},add:function(n,t,r,u,f){var p,v,w,y,o,h,c,l,e,b,k,a=i._data(n);if(a){for(r.handler&&(y=r,r=y.handler,f=y.selector),r.guid||(r.guid=i.guid++),(v=a.events)||(v=a.events={}),(h=a.handle)||(h=a.handle=function(n){if("undefined"!=typeof i&&(!n||i.event.triggered!==n.type))return i.event.dispatch.apply(h.elem,arguments)},h.elem=n),t=(t||"").match(s)||[""],w=t.length;w--;)p=lu.exec(t[w])||[],e=k=p[1],b=(p[2]||"").split(".").sort(),e&&(o=i.event.special[e]||{},e=(f?o.delegateType:o.bindType)||e,o=i.event.special[e]||{},c=i.extend({type:e,origType:k,data:u,handler:r,guid:r.guid,selector:f,needsContext:f&&i.expr.match.needsContext.test(f),namespace:b.join(".")},y),(l=v[e])||(l=v[e]=[],l.delegateCount=0,o.setup&&o.setup.call(n,u,b,h)!==!1||(n.addEventListener?n.addEventListener(e,h,!1):n.attachEvent&&n.attachEvent("on"+e,h))),o.add&&(o.add.call(n,c),c.handler.guid||(c.handler.guid=r.guid)),f?l.splice(l.delegateCount++,0,c):l.push(c),i.event.global[e]=!0);n=null}},remove:function(n,t,r,u,f){var y,o,h,b,p,a,c,l,e,w,k,v=i.hasData(n)&&i._data(n);if(v&&(a=v.events)){for(t=(t||"").match(s)||[""],p=t.length;p--;)if(h=lu.exec(t[p])||[],e=k=h[1],w=(h[2]||"").split(".").sort(),e){for(c=i.event.special[e]||{},e=(u?c.delegateType:c.bindType)||e,l=a[e]||[],h=h[2]&&new RegExp("(^|\\.)"+w.join("\\.(?:.*\\.|)")+"(\\.|$)"),b=y=l.length;y--;)o=l[y],!f&&k!==o.origType||r&&r.guid!==o.guid||h&&!h.test(o.namespace)||u&&u!==o.selector&&("**"!==u||!o.selector)||(l.splice(y,1),o.selector&&l.delegateCount--,c.remove&&c.remove.call(n,o));b&&!l.length&&(c.teardown&&c.teardown.call(n,w,v.handle)!==!1||i.removeEvent(n,e,v.handle),delete a[e])}else for(e in a)i.event.remove(n,e+t[p],r,u,!0);i.isEmptyObject(a)&&(delete v.handle,i._removeData(n,"events"))}},trigger:function(t,r,f,e){var l,a,o,p,c,h,w,y=[f||u],s=tt.call(t,"type")?t.type:t,v=tt.call(t,"namespace")?t.namespace.split("."):[];if(o=h=f=f||u,3!==f.nodeType&&8!==f.nodeType&&!cu.test(s+i.event.triggered)&&(s.indexOf(".")>-1&&(v=s.split("."),s=v.shift(),v.sort()),a=s.indexOf(":")<0&&"on"+s,t=t[i.expando]?t:new i.Event(s,"object"==typeof t&&t),t.isTrigger=e?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=f),r=null==r?[t]:i.makeArray(r,[t]),c=i.event.special[s]||{},e||!c.trigger||c.trigger.apply(f,r)!==!1)){if(!e&&!c.noBubble&&!i.isWindow(f)){for(p=c.delegateType||s,cu.test(p+s)||(o=o.parentNode);o;o=o.parentNode)y.push(o),h=o;h===(f.ownerDocument||u)&&y.push(h.defaultView||h.parentWindow||n)}for(w=0;(o=y[w++])&&!t.isPropagationStopped();)t.type=w>1?p:c.bindType||s,l=(i._data(o,"events")||{})[t.type]&&i._data(o,"handle"),l&&l.apply(o,r),l=a&&o[a],l&&l.apply&&ot(o)&&(t.result=l.apply(o,r),t.result===!1&&t.preventDefault());if(t.type=s,!e&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(y.pop(),r)===!1)&&ot(f)&&a&&f[s]&&!i.isWindow(f)){h=f[a];h&&(f[a]=null);i.event.triggered=s;try{f[s]()}catch(b){}i.event.triggered=void 0;h&&(f[a]=h)}return t.result}},dispatch:function(n){n=i.event.fix(n);var e,o,f,r,t,s=[],h=a.call(arguments),c=(i._data(this,"events")||{})[n.type]||[],u=i.event.special[n.type]||{};if(h[0]=n,n.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,n)!==!1){for(s=i.event.handlers.call(this,n,c),e=0;(r=s[e++])&&!n.isPropagationStopped();)for(n.currentTarget=r.elem,o=0;(t=r.handlers[o++])&&!n.isImmediatePropagationStopped();)n.rnamespace&&!n.rnamespace.test(t.namespace)||(n.handleObj=t,n.data=t.data,f=((i.event.special[t.origType]||{}).handle||t.handler).apply(r.elem,h),void 0!==f&&(n.result=f)===!1&&(n.preventDefault(),n.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,n),n.result}},handlers:function(n,t){var e,u,f,o,h=[],s=t.delegateCount,r=n.target;if(s&&r.nodeType&&("click"!==n.type||isNaN(n.button)||n.button<1))for(;r!=this;r=r.parentNode||this)if(1===r.nodeType&&(r.disabled!==!0||"click"!==n.type)){for(u=[],e=0;s>e;e++)o=t[e],f=o.selector+" ",void 0===u[f]&&(u[f]=o.needsContext?i(f,this).index(r)>-1:i.find(f,this,null,[r]).length),u[f]&&u.push(o);u.length&&h.push({elem:r,handlers:u})}return s<t.length&&h.push({elem:this,handlers:t.slice(s)}),h},fix:function(n){if(n[i.expando])return n;var e,o,s,r=n.type,f=n,t=this.fixHooks[r];for(t||(this.fixHooks[r]=t=no.test(r)?this.mouseHooks:ge.test(r)?this.keyHooks:{}),s=t.props?this.props.concat(t.props):this.props,n=new i.Event(f),e=s.length;e--;)o=s[e],n[o]=f[o];return n.target||(n.target=f.srcElement||u),3===n.target.nodeType&&(n.target=n.target.parentNode),n.metaKey=!!n.metaKey,t.filter?t.filter(n,f):n},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(n,t){return null==n.which&&(n.which=null!=t.charCode?t.charCode:t.keyCode),n}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(n,t){var i,e,r,f=t.button,o=t.fromElement;return null==n.pageX&&null!=t.clientX&&(e=n.target.ownerDocument||u,r=e.documentElement,i=e.body,n.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),n.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!n.relatedTarget&&o&&(n.relatedTarget=o===n.target?t.toElement:o),n.which||void 0===f||(n.which=1&f?1:2&f?3:4&f?2:0),n}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==au()&&this.focus)try{return this.focus(),!1}catch(n){}},delegateType:"focusin"},blur:{trigger:function(){if(this===au()&&this.blur)return(this.blur(),!1)},delegateType:"focusout"},click:{trigger:function(){if(i.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return(this.click(),!1)},_default:function(n){return i.nodeName(n.target,"a")}},beforeunload:{postDispatch:function(n){void 0!==n.result&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}},simulate:function(n,t,r){var u=i.extend(new i.Event,r,{type:n,isSimulated:!0});i.event.trigger(u,null,t);u.isDefaultPrevented()&&r.preventDefault()}};i.removeEvent=u.removeEventListener?function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i)}:function(n,t,i){var r="on"+t;n.detachEvent&&("undefined"==typeof n[r]&&(n[r]=null),n.detachEvent(r,i))};i.Event=function(n,t){return this instanceof i.Event?(n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||void 0===n.defaultPrevented&&n.returnValue===!1?vt:rt):this.type=n,t&&i.extend(this,t),this.timeStamp=n&&n.timeStamp||i.now(),void(this[i.expando]=!0)):new i.Event(n,t)};i.Event.prototype={constructor:i.Event,isDefaultPrevented:rt,isPropagationStopped:rt,isImmediatePropagationStopped:rt,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=vt;n&&(n.preventDefault?n.preventDefault():n.returnValue=!1)},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=vt;n&&!this.isSimulated&&(n.stopPropagation&&n.stopPropagation(),n.cancelBubble=!0)},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=vt;n&&n.stopImmediatePropagation&&n.stopImmediatePropagation();this.stopPropagation()}};i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return r&&(r===f||i.contains(f,r))||(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}});r.submit||(i.event.special.submit={setup:function(){return i.nodeName(this,"form")?!1:void i.event.add(this,"click._submit keypress._submit",function(n){var r=n.target,t=i.nodeName(r,"input")||i.nodeName(r,"button")?i.prop(r,"form"):void 0;t&&!i._data(t,"submit")&&(i.event.add(t,"submit._submit",function(n){n._submitBubble=!0}),i._data(t,"submit",!0))})},postDispatch:function(n){n._submitBubble&&(delete n._submitBubble,this.parentNode&&!n.isTrigger&&i.event.simulate("submit",this.parentNode,n))},teardown:function(){return i.nodeName(this,"form")?!1:void i.event.remove(this,"._submit")}});r.change||(i.event.special.change={setup:function(){return ai.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(i.event.add(this,"propertychange._change",function(n){"checked"===n.originalEvent.propertyName&&(this._justChanged=!0)}),i.event.add(this,"click._change",function(n){this._justChanged&&!n.isTrigger&&(this._justChanged=!1);i.event.simulate("change",this,n)})),!1):void i.event.add(this,"beforeactivate._change",function(n){var t=n.target;ai.test(t.nodeName)&&!i._data(t,"change")&&(i.event.add(t,"change._change",function(n){!this.parentNode||n.isSimulated||n.isTrigger||i.event.simulate("change",this.parentNode,n)}),i._data(t,"change",!0))})},handle:function(n){var t=n.target;if(this!==t||n.isSimulated||n.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return n.handleObj.handler.apply(this,arguments)},teardown:function(){return i.event.remove(this,"._change"),!ai.test(this.nodeName)}});r.focusin||i.each({focus:"focusin",blur:"focusout"},function(n,t){var r=function(n){i.event.simulate(t,n.target,i.event.fix(n))};i.event.special[t]={setup:function(){var u=this.ownerDocument||this,f=i._data(u,t);f||u.addEventListener(n,r,!0);i._data(u,t,(f||0)+1)},teardown:function(){var u=this.ownerDocument||this,f=i._data(u,t)-1;f?i._data(u,t,f):(u.removeEventListener(n,r,!0),i._removeData(u,t))}}});i.fn.extend({on:function(n,t,i,r){return vi(this,n,t,i,r)},one:function(n,t,i,r){return vi(this,n,t,i,r,1)},off:function(n,t,r){var u,f;if(n&&n.preventDefault&&n.handleObj)return u=n.handleObj,i(n.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if("object"==typeof n){for(f in n)this.off(f,t,n[f]);return this}return t!==!1&&"function"!=typeof t||(r=t,t=void 0),r===!1&&(r=rt),this.each(function(){i.event.remove(this,n,r,t)})},trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});var to=/ jQuery\d+="(?:null|\d+)"/g,vu=new RegExp("<(?:"+eu+")[\\s/>]","i"),io=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ro=/<script|<style|<link/i,uo=/checked\s*(?:[^=]|=\s*.checked.)/i,fo=/^true\/(.*)/,eo=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,oo=ou(u),yi=oo.appendChild(u.createElement("div"));i.extend({htmlPrefilter:function(n){return n.replace(io,"<$1><\/$2>")},clone:function(n,t,u){var e,c,s,o,h,l=i.contains(n.ownerDocument,n);if(r.html5Clone||i.isXMLDoc(n)||!vu.test("<"+n.nodeName+">")?s=n.cloneNode(!0):(yi.innerHTML=n.outerHTML,yi.removeChild(s=yi.firstChild)),!(r.noCloneEvent&&r.noCloneChecked||1!==n.nodeType&&11!==n.nodeType||i.isXMLDoc(n)))for(e=f(s),h=f(n),o=0;null!=(c=h[o]);++o)e[o]&&so(c,e[o]);if(t)if(u)for(h=h||f(n),e=e||f(s),o=0;null!=(c=h[o]);o++)bu(c,e[o]);else bu(n,s);return e=f(s,"script"),e.length>0&&ci(e,!l&&f(n,"script")),e=h=c=null,s},cleanData:function(n,t){for(var u,e,f,o,l=0,s=i.expando,h=i.cache,a=r.attributes,v=i.event.special;null!=(u=n[l]);l++)if((t||ot(u))&&(f=u[s],o=f&&h[f])){if(o.events)for(e in o.events)v[e]?i.event.remove(u,e):i.removeEvent(u,e,o.handle);h[f]&&(delete h[f],a||"undefined"==typeof u.removeAttribute?u[s]=void 0:u.removeAttribute(s),c.push(f))}}});i.fn.extend({domManip:k,detach:function(n){return ku(this,n,!0)},remove:function(n){return ku(this,n)},text:function(n){return y(this,function(n){return void 0===n?i.text(this):this.empty().append((this[0]&&this[0].ownerDocument||u).createTextNode(n))},null,n,arguments.length)},append:function(){return k(this,arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=yu(this,n);t.appendChild(n)}})},prepend:function(){return k(this,arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=yu(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return k(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return k(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},empty:function(){for(var n,t=0;null!=(n=this[t]);t++){for(1===n.nodeType&&i.cleanData(f(n,!1));n.firstChild;)n.removeChild(n.firstChild);n.options&&i.nodeName(n,"select")&&(n.options.length=0)}return this},clone:function(n,t){return n=null==n?!1:n,t=null==t?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return y(this,function(n){var t=this[0]||{},u=0,e=this.length;if(void 0===n)return 1===t.nodeType?t.innerHTML.replace(to,""):void 0;if("string"==typeof n&&!ro.test(n)&&(r.htmlSerialize||!vu.test(n))&&(r.leadingWhitespace||!hi.test(n))&&!o[(uu.exec(n)||["",""])[1].toLowerCase()]){n=i.htmlPrefilter(n);try{for(;e>u;u++)t=this[u]||{},1===t.nodeType&&(i.cleanData(f(t,!1)),t.innerHTML=n);t=0}catch(s){}}t&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var n=[];return k(this,arguments,function(t){var r=this.parentNode;i.inArray(this,n)<0&&(i.cleanData(f(this)),r&&r.replaceChild(t,this))},n)}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,r=0,f=[],e=i(n),o=e.length-1;o>=r;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),ti.apply(f,u.get());return this.pushStack(f)}});pi={HTML:"block",BODY:"block"};var gu=/^margin/,pt=new RegExp("^("+ei+")(?!px)[a-z%]+$","i"),wi=function(n,t,i,r){var f,u,e={};for(u in t)e[u]=n.style[u],n.style[u]=t[u];f=i.apply(n,r||[]);for(u in t)n.style[u]=e[u];return f},nf=u.documentElement;!function(){var f,h,c,e,l,a,s=u.createElement("div"),t=u.createElement("div");if(t.style){t.style.cssText="float:left;opacity:.5";r.opacity="0.5"===t.style.opacity;r.cssFloat=!!t.style.cssFloat;t.style.backgroundClip="content-box";t.cloneNode(!0).style.backgroundClip="";r.clearCloneStyle="content-box"===t.style.backgroundClip;s=u.createElement("div");s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute";t.innerHTML="";s.appendChild(t);r.boxSizing=""===t.style.boxSizing||""===t.style.MozBoxSizing||""===t.style.WebkitBoxSizing;i.extend(r,{reliableHiddenOffsets:function(){return null==f&&o(),e},boxSizingReliable:function(){return null==f&&o(),c},pixelMarginRight:function(){return null==f&&o(),h},pixelPosition:function(){return null==f&&o(),f},reliableMarginRight:function(){return null==f&&o(),l},reliableMarginLeft:function(){return null==f&&o(),a}});function o(){var i,r,o=u.documentElement;o.appendChild(s);t.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";f=c=a=!1;h=l=!0;n.getComputedStyle&&(r=n.getComputedStyle(t),f="1%"!==(r||{}).top,a="2px"===(r||{}).marginLeft,c="4px"===(r||{width:"4px"}).width,t.style.marginRight="50%",h="4px"===(r||{marginRight:"4px"}).marginRight,i=t.appendChild(u.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",l=!parseFloat((n.getComputedStyle(i)||{}).marginRight),t.removeChild(i));t.style.display="none";e=0===t.getClientRects().length;e&&(t.style.display="",t.innerHTML="<table><tr><td><\/td><td>t<\/td><\/tr><\/table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",e=0===i[0].offsetHeight,e&&(i[0].style.display="",i[1].style.display="none",e=0===i[0].offsetHeight));o.removeChild(s)}}}();tf=/^(top|right|bottom|left)$/;n.getComputedStyle?(d=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=n),i.getComputedStyle(t)},p=function(n,t,u){var o,s,h,f,e=n.style;return u=u||d(n),f=u?u.getPropertyValue(t)||u[t]:void 0,""!==f&&void 0!==f||i.contains(n.ownerDocument,n)||(f=i.style(n,t)),u&&!r.pixelMarginRight()&&pt.test(f)&&gu.test(t)&&(o=e.width,s=e.minWidth,h=e.maxWidth,e.minWidth=e.maxWidth=e.width=f,f=u.width,e.width=o,e.minWidth=s,e.maxWidth=h),void 0===f?f:f+""}):nf.currentStyle&&(d=function(n){return n.currentStyle},p=function(n,t,i){var o,f,e,r,u=n.style;return i=i||d(n),r=i?i[t]:void 0,null==r&&u&&u[t]&&(r=u[t]),pt.test(r)&&!tf.test(t)&&(o=u.left,f=n.runtimeStyle,e=f&&f.left,e&&(f.left=n.currentStyle.left),u.left="fontSize"===t?"1em":r,r=u.pixelLeft+"px",u.left=o,e&&(f.left=e)),void 0===r?r:r+""||"auto"});var ki=/alpha\([^)]*\)/i,ho=/opacity\s*=\s*([^)]*)/i,co=/^(none|table(?!-c[ea]).+)/,lo=new RegExp("^("+ei+")(.*)$","i"),ao={position:"absolute",visibility:"hidden",display:"block"},rf={letterSpacing:"0",fontWeight:"400"},uf=["Webkit","O","Moz","ms"],ff=u.createElement("div").style;i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=p(n,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:r.cssFloat?"cssFloat":"styleFloat"},style:function(n,t,u,f){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var e,h,o,s=i.camelCase(t),c=n.style;if(t=i.cssProps[s]||(i.cssProps[s]=ef(s)||s),o=i.cssHooks[t]||i.cssHooks[s],void 0===u)return o&&"get"in o&&void 0!==(e=o.get(n,!1,f))?e:c[t];if(h=typeof u,"string"===h&&(e=oi.exec(u))&&e[1]&&(u=ru(n,t,e),h="number"),null!=u&&u===u&&("number"===h&&(u+=e&&e[3]||(i.cssNumber[s]?"":"px")),r.clearCloneStyle||""!==u||0!==t.indexOf("background")||(c[t]="inherit"),!(o&&"set"in o&&void 0===(u=o.set(n,u,f)))))try{c[t]=u}catch(l){}}},css:function(n,t,r,u){var s,f,o,e=i.camelCase(t);return t=i.cssProps[e]||(i.cssProps[e]=ef(e)||e),o=i.cssHooks[t]||i.cssHooks[e],o&&"get"in o&&(f=o.get(n,!0,r)),void 0===f&&(f=p(n,t,u)),"normal"===f&&t in rf&&(f=rf[t]),""===r||r?(s=parseFloat(f),r===!0||isFinite(s)?s||0:f):f}});i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return co.test(i.css(n,"display"))&&0===n.offsetWidth?wi(n,ao,function(){return cf(n,t,u)}):cf(n,t,u)},set:function(n,u,f){var e=f&&d(n);return sf(n,u,f?hf(n,t,f,r.boxSizing&&"border-box"===i.css(n,"boxSizing",!1,e),e):0)}}});r.opacity||(i.cssHooks.opacity={get:function(n,t){return ho.test((t&&n.currentStyle?n.currentStyle.filter:n.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(n,t){var r=n.style,u=n.currentStyle,e=i.isNumeric(t)?"alpha(opacity="+100*t+")":"",f=u&&u.filter||r.filter||"";r.zoom=1;(t>=1||""===t)&&""===i.trim(f.replace(ki,""))&&r.removeAttribute&&(r.removeAttribute("filter"),""===t||u&&!u.filter)||(r.filter=ki.test(f)?f.replace(ki,e):f+" "+e)}});i.cssHooks.marginRight=bi(r.reliableMarginRight,function(n,t){if(t)return wi(n,{display:"inline-block"},p,[n,"marginRight"])});i.cssHooks.marginLeft=bi(r.reliableMarginLeft,function(n,t){if(t)return(parseFloat(p(n,"marginLeft"))||(i.contains(n.ownerDocument,n)?n.getBoundingClientRect().left-wi(n,{marginLeft:0},function(){return n.getBoundingClientRect().left}):0))+"px"});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u="string"==typeof i?i.split(" "):[i];4>r;r++)f[n+b[r]+t]=u[r]||u[r-2]||u[0];return f}};gu.test(n)||(i.cssHooks[n+t].set=sf)});i.fn.extend({css:function(n,t){return y(this,function(n,t,r){var f,e,o={},u=0;if(i.isArray(t)){for(f=d(n),e=t.length;e>u;u++)o[t[u]]=i.css(n,t[u],!1,f);return o}return void 0!==r?i.style(n,t,r):i.css(n,t)},n,t,arguments.length>1)},show:function(){return of(this,!0)},hide:function(){return of(this)},toggle:function(n){return"boolean"==typeof n?n?this.show():this.hide():this.each(function(){st(this)?i(this).show():i(this).hide()})}});i.Tween=e;e.prototype={constructor:e,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||i.easing._default;this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=e.propHooks[this.prop];return n&&n.get?n.get(this):e.propHooks._default.get(this)},run:function(n){var t,r=e.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):e.propHooks._default.set(this),this}};e.prototype.init.prototype=e.prototype;e.propHooks={_default:{get:function(n){var t;return 1!==n.elem.nodeType||null!=n.elem[n.prop]&&null==n.elem.style[n.prop]?n.elem[n.prop]:(t=i.css(n.elem,n.prop,""),t&&"auto"!==t?t:0)},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):1!==n.elem.nodeType||null==n.elem.style[i.cssProps[n.prop]]&&!i.cssHooks[n.prop]?n.elem[n.prop]=n.now:i.style(n.elem,n.prop,n.now+n.unit)}}};e.propHooks.scrollTop=e.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2},_default:"swing"};i.fx=e.prototype.init;i.fx.step={};lf=/^(?:toggle|show|hide)$/;af=/queueHooks$/;i.Animation=i.extend(h,{tweeners:{"*":[function(n,t){var i=this.createTween(n,t);return ru(i.elem,n,oi.exec(t),i),i}]},tweener:function(n,t){i.isFunction(n)?(t=n,n=["*"]):n=n.match(s);for(var r,u=0,f=n.length;f>u;u++)r=n[u],h.tweeners[r]=h.tweeners[r]||[],h.tweeners[r].unshift(t)},prefilters:[vo],prefilter:function(n,t){t?h.prefilters.unshift(n):h.prefilters.push(n)}});i.speed=function(n,t,r){var u=n&&"object"==typeof n?i.extend({},n):{complete:r||!r&&t||i.isFunction(n)&&n,duration:n,easing:r&&t||t&&!i.isFunction(t)&&t};return u.duration=i.fx.off?0:"number"==typeof u.duration?u.duration:u.duration in i.fx.speeds?i.fx.speeds[u.duration]:i.fx.speeds._default,null!=u.queue&&u.queue!==!0||(u.queue="fx"),u.old=u.complete,u.complete=function(){i.isFunction(u.old)&&u.old.call(this);u.queue&&i.dequeue(this,u.queue)},u};i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(st).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,r,u){var o=i.isEmptyObject(n),e=i.speed(t,r,u),f=function(){var t=h(this,i.extend({},n),e);(o||i._data(this,"finish"))&&t.stop(!0)};return f.finish=f,o||e.queue===!1?this.each(f):this.queue(e.queue,f)},stop:function(n,t,r){var u=function(n){var t=n.stop;delete n.stop;t(r)};return"string"!=typeof n&&(r=t,t=n,n=void 0),t&&n!==!1&&this.queue(n||"fx",[]),this.each(function(){var o=!0,t=null!=n&&n+"queueHooks",e=i.timers,f=i._data(this);if(t)f[t]&&f[t].stop&&u(f[t]);else for(t in f)f[t]&&f[t].stop&&af.test(t)&&u(f[t]);for(t=e.length;t--;)e[t].elem!==this||null!=n&&e[t].queue!==n||(e[t].anim.stop(r),o=!1,e.splice(t,1));!o&&r||i.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var t,f=i._data(this),r=f[n+"queue"],e=f[n+"queueHooks"],u=i.timers,o=r?r.length:0;for(f.finish=!0,i.queue(this,n,[]),e&&e.stop&&e.stop.call(this,!0),t=u.length;t--;)u[t].elem===this&&u[t].queue===n&&(u[t].anim.stop(!0),u.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete f.finish})}});i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return null==n||"boolean"==typeof n?r.apply(this,arguments):this.animate(bt(t,!0),n,i,u)}});i.each({slideDown:bt("show"),slideUp:bt("hide"),slideToggle:bt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.timers=[];i.fx.tick=function(){var r,n=i.timers,t=0;for(ut=i.now();t<n.length;t++)r=n[t],r()||n[t]!==r||n.splice(t--,1);n.length||i.fx.stop();ut=void 0};i.fx.timer=function(n){i.timers.push(n);n()?i.fx.start():i.timers.pop()};i.fx.interval=13;i.fx.start=function(){wt||(wt=n.setInterval(i.fx.tick,i.fx.interval))};i.fx.stop=function(){n.clearInterval(wt);wt=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fn.delay=function(t,r){return t=i.fx?i.fx.speeds[t]||t:t,r=r||"fx",this.queue(r,function(i,r){var u=n.setTimeout(i,t);r.stop=function(){n.clearTimeout(u)}})},function(){var i,n=u.createElement("input"),t=u.createElement("div"),f=u.createElement("select"),e=f.appendChild(u.createElement("option"));t=u.createElement("div");t.setAttribute("className","t");t.innerHTML="  <link/><table><\/table><a href='/a'>a<\/a><input type='checkbox'/>";i=t.getElementsByTagName("a")[0];n.setAttribute("type","checkbox");t.appendChild(n);i=t.getElementsByTagName("a")[0];i.style.cssText="top:1px";r.getSetAttribute="t"!==t.className;r.style=/top/.test(i.getAttribute("style"));r.hrefNormalized="/a"===i.getAttribute("href");r.checkOn=!!n.value;r.optSelected=e.selected;r.enctype=!!u.createElement("form").enctype;f.disabled=!0;r.optDisabled=!e.disabled;n=u.createElement("input");n.setAttribute("value","");r.input=""===n.getAttribute("value");n.value="t";n.setAttribute("type","radio");r.radioValue="t"===n.value}();pf=/\r/g;wf=/[\x20\t\r\n\f]+/g;i.fn.extend({val:function(n){var t,r,f,u=this[0];return arguments.length?(f=i.isFunction(n),this.each(function(r){var u;1===this.nodeType&&(u=f?n.call(this,r,i(this).val()):n,null==u?u="":"number"==typeof u?u+="":i.isArray(u)&&(u=i.map(u,function(n){return null==n?"":n+""})),t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,u,"value")||(this.value=u))})):u?(t=i.valHooks[u.type]||i.valHooks[u.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(r=t.get(u,"value"))?r:(r=u.value,"string"==typeof r?r.replace(pf,""):null==r?"":r)):void 0}});i.extend({valHooks:{option:{get:function(n){var t=i.find.attr(n,"value");return null!=t?t:i.trim(i.text(n)).replace(wf," ")}},select:{get:function(n){for(var o,t,s=n.options,u=n.selectedIndex,f="select-one"===n.type||0>u,h=f?null:[],c=f?u+1:s.length,e=0>u?c:f?u:0;c>e;e++)if(t=s[e],(t.selected||e===u)&&(r.optDisabled?!t.disabled:null===t.getAttribute("disabled"))&&(!t.parentNode.disabled||!i.nodeName(t.parentNode,"optgroup"))){if(o=i(t).val(),f)return o;h.push(o)}return h},set:function(n,t){for(var f,r,u=n.options,o=i.makeArray(t),e=u.length;e--;)if(r=u[e],i.inArray(i.valHooks.option.get(r),o)>-1)try{r.selected=f=!0}catch(s){r.scrollHeight}else r.selected=!1;return f||(n.selectedIndex=-1),u}}}});i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,t){if(i.isArray(t))return n.checked=i.inArray(i(n).val(),t)>-1}};r.checkOn||(i.valHooks[this].get=function(n){return null===n.getAttribute("value")?"on":n.value})});var ft,bf,l=i.expr.attrHandle,di=/^(?:checked|selected)$/i,g=r.getSetAttribute,kt=r.input;i.fn.extend({attr:function(n,t){return y(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})}});i.extend({attr:function(n,t,r){var u,f,e=n.nodeType;if(3!==e&&8!==e&&2!==e)return"undefined"==typeof n.getAttribute?i.prop(n,t,r):(1===e&&i.isXMLDoc(n)||(t=t.toLowerCase(),f=i.attrHooks[t]||(i.expr.match.bool.test(t)?bf:ft)),void 0!==r?null===r?void i.removeAttr(n,t):f&&"set"in f&&void 0!==(u=f.set(n,r,t))?u:(n.setAttribute(t,r+""),r):f&&"get"in f&&null!==(u=f.get(n,t))?u:(u=i.find.attr(n,t),null==u?void 0:u))},attrHooks:{type:{set:function(n,t){if(!r.radioValue&&"radio"===t&&i.nodeName(n,"input")){var u=n.value;return n.setAttribute("type",t),u&&(n.value=u),t}}}},removeAttr:function(n,t){var r,u,e=0,f=t&&t.match(s);if(f&&1===n.nodeType)while(r=f[e++])u=i.propFix[r]||r,i.expr.match.bool.test(r)?kt&&g||!di.test(r)?n[u]=!1:n[i.camelCase("default-"+r)]=n[u]=!1:i.attr(n,r,""),n.removeAttribute(g?r:u)}});bf={set:function(n,t,r){return t===!1?i.removeAttr(n,r):kt&&g||!di.test(r)?n.setAttribute(!g&&i.propFix[r]||r,r):n[i.camelCase("default-"+r)]=n[r]=!0,r}};i.each(i.expr.match.bool.source.match(/\w+/g),function(n,t){var r=l[t]||i.find.attr;l[t]=kt&&g||!di.test(t)?function(n,t,i){var u,f;return i||(f=l[t],l[t]=u,u=null!=r(n,t,i)?t.toLowerCase():null,l[t]=f),u}:function(n,t,r){if(!r)return n[i.camelCase("default-"+t)]?t.toLowerCase():null}});kt&&g||(i.attrHooks.value={set:function(n,t,r){return i.nodeName(n,"input")?void(n.defaultValue=t):ft&&ft.set(n,t,r)}});g||(ft={set:function(n,t,i){var r=n.getAttributeNode(i);return r||n.setAttributeNode(r=n.ownerDocument.createAttribute(i)),r.value=t+="","value"===i||t===n.getAttribute(i)?t:void 0}},l.id=l.name=l.coords=function(n,t,i){var r;if(!i)return(r=n.getAttributeNode(t))&&""!==r.value?r.value:null},i.valHooks.button={get:function(n,t){var i=n.getAttributeNode(t);if(i&&i.specified)return i.value},set:ft.set},i.attrHooks.contenteditable={set:function(n,t,i){ft.set(n,""===t?!1:t,i)}},i.each(["width","height"],function(n,t){i.attrHooks[t]={set:function(n,i){if(""===i)return(n.setAttribute(t,"auto"),i)}}}));r.style||(i.attrHooks.style={get:function(n){return n.style.cssText||void 0},set:function(n,t){return n.style.cssText=t+""}});kf=/^(?:input|select|textarea|button|object)$/i;df=/^(?:a|area)$/i;i.fn.extend({prop:function(n,t){return y(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return n=i.propFix[n]||n,this.each(function(){try{this[n]=void 0;delete this[n]}catch(t){}})}});i.extend({prop:function(n,t,r){var f,u,e=n.nodeType;if(3!==e&&8!==e&&2!==e)return 1===e&&i.isXMLDoc(n)||(t=i.propFix[t]||t,u=i.propHooks[t]),void 0!==r?u&&"set"in u&&void 0!==(f=u.set(n,r,t))?f:n[t]=r:u&&"get"in u&&null!==(f=u.get(n,t))?f:n[t]},propHooks:{tabIndex:{get:function(n){var t=i.find.attr(n,"tabindex");return t?parseInt(t,10):kf.test(n.nodeName)||df.test(n.nodeName)&&n.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});r.hrefNormalized||i.each(["href","src"],function(n,t){i.propHooks[t]={get:function(n){return n.getAttribute(t,4)}}});r.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(n){var t=n.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});r.enctype||(i.propFix.enctype="encoding");dt=/[\t\r\n\f]/g;i.fn.extend({addClass:function(n){var o,t,r,u,f,h,e,c=0;if(i.isFunction(n))return this.each(function(t){i(this).addClass(n.call(this,t,nt(this)))});if("string"==typeof n&&n)for(o=n.match(s)||[];t=this[c++];)if(u=nt(t),r=1===t.nodeType&&(" "+u+" ").replace(dt," ")){for(h=0;f=o[h++];)r.indexOf(" "+f+" ")<0&&(r+=f+" ");e=i.trim(r);u!==e&&i.attr(t,"class",e)}return this},removeClass:function(n){var o,r,t,u,f,h,e,c=0;if(i.isFunction(n))return this.each(function(t){i(this).removeClass(n.call(this,t,nt(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof n&&n)for(o=n.match(s)||[];r=this[c++];)if(u=nt(r),t=1===r.nodeType&&(" "+u+" ").replace(dt," ")){for(h=0;f=o[h++];)while(t.indexOf(" "+f+" ")>-1)t=t.replace(" "+f+" "," ");e=i.trim(t);u!==e&&i.attr(r,"class",e)}return this},toggleClass:function(n,t){var r=typeof n;return"boolean"==typeof t&&"string"===r?t?this.addClass(n):this.removeClass(n):i.isFunction(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,nt(this),t),t)}):this.each(function(){var t,f,u,e;if("string"===r)for(f=0,u=i(this),e=n.match(s)||[];t=e[f++];)u.hasClass(t)?u.removeClass(t):u.addClass(t);else void 0!==n&&"boolean"!==r||(t=nt(this),t&&i._data(this,"__className__",t),i.attr(this,"class",t||n===!1?"":i._data(this,"__className__")||""))})},hasClass:function(n){for(var t,r=0,i=" "+n+" ";t=this[r++];)if(1===t.nodeType&&(" "+nt(t)+" ").replace(dt," ").indexOf(i)>-1)return!0;return!1}});i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}});i.fn.extend({hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)}});var po=n.location,gi=i.now(),nr=/\?/,wo=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;i.parseJSON=function(t){if(n.JSON&&n.JSON.parse)return n.JSON.parse(t+"");var f,r=null,u=i.trim(t+"");return u&&!i.trim(u.replace(wo,function(n,t,i,u){return f&&t&&(r=0),0===r?n:(f=i||t,r+=!u-!i,"")}))?Function("return "+u)():i.error("Invalid JSON: "+t)};i.parseXML=function(t){var r,u;if(!t||"string"!=typeof t)return null;try{n.DOMParser?(u=new n.DOMParser,r=u.parseFromString(t,"text/xml")):(r=new n.ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(t))}catch(f){r=void 0}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||i.error("Invalid XML: "+t),r};var bo=/#.*$/,gf=/([?&])_=[^&]*/,ko=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,go=/^(?:GET|HEAD)$/,ns=/^\/\//,ne=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,te={},tr={},ie="*/".concat("*"),ir=po.href,et=ne.exec(ir.toLowerCase())||[];i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ir,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(et[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ie,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":i.parseJSON,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?rr(rr(n,i.ajaxSettings),t):rr(i.ajaxSettings,n)},ajaxPrefilter:re(te),ajaxTransport:re(tr),ajax:function(t,r){function w(t,r,s,c){var y,rt,it,w,tt,l=r;2!==o&&(o=2,k&&n.clearTimeout(k),v=void 0,b=c||"",f.readyState=t>0?4:0,y=t>=200&&300>t||304===t,s&&(w=ts(u,f,s)),w=is(u,w,f,y),y?(u.ifModified&&(tt=f.getResponseHeader("Last-Modified"),tt&&(i.lastModified[e]=tt),tt=f.getResponseHeader("etag"),tt&&(i.etag[e]=tt)),204===t||"HEAD"===u.type?l="nocontent":304===t?l="notmodified":(l=w.state,rt=w.data,it=w.error,y=!it)):(it=l,!t&&l||(l="error",0>t&&(t=0))),f.status=t,f.statusText=(r||l)+"",y?g.resolveWith(h,[rt,l,f]):g.rejectWith(h,[f,l,it]),f.statusCode(p),p=void 0,a&&d.trigger(y?"ajaxSuccess":"ajaxError",[f,u,y?rt:it]),nt.fireWith(h,[f,l]),a&&(d.trigger("ajaxComplete",[f,u]),--i.active||i.event.trigger("ajaxStop")))}"object"==typeof t&&(r=t,t=void 0);r=r||{};var c,l,e,b,k,a,v,y,u=i.ajaxSetup({},r),h=u.context||u,d=u.context&&(h.nodeType||h.jquery)?i(h):i.event,g=i.Deferred(),nt=i.Callbacks("once memory"),p=u.statusCode||{},tt={},it={},o=0,rt="canceled",f={readyState:0,getResponseHeader:function(n){var t;if(2===o){if(!y)for(y={};t=ko.exec(b);)y[t[1].toLowerCase()]=t[2];t=y[n.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===o?b:null},setRequestHeader:function(n,t){var i=n.toLowerCase();return o||(n=it[i]=it[i]||n,tt[n]=t),this},overrideMimeType:function(n){return o||(u.mimeType=n),this},statusCode:function(n){var t;if(n)if(2>o)for(t in n)p[t]=[p[t],n[t]];else f.always(n[f.status]);return this},abort:function(n){var t=n||rt;return v&&v.abort(t),w(0,t),this}};if(g.promise(f).complete=nt.add,f.success=f.done,f.error=f.fail,u.url=((t||u.url||ir)+"").replace(bo,"").replace(ns,et[1]+"//"),u.type=r.method||r.type||u.method||u.type,u.dataTypes=i.trim(u.dataType||"*").toLowerCase().match(s)||[""],null==u.crossDomain&&(c=ne.exec(u.url.toLowerCase()),u.crossDomain=!(!c||c[1]===et[1]&&c[2]===et[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(et[3]||("http:"===et[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=i.param(u.data,u.traditional)),ue(te,u,r,f),2===o)return f;a=i.event&&u.global;a&&0==i.active++&&i.event.trigger("ajaxStart");u.type=u.type.toUpperCase();u.hasContent=!go.test(u.type);e=u.url;u.hasContent||(u.data&&(e=u.url+=(nr.test(e)?"&":"?")+u.data,delete u.data),u.cache===!1&&(u.url=gf.test(e)?e.replace(gf,"$1_="+gi++):e+(nr.test(e)?"&":"?")+"_="+gi++));u.ifModified&&(i.lastModified[e]&&f.setRequestHeader("If-Modified-Since",i.lastModified[e]),i.etag[e]&&f.setRequestHeader("If-None-Match",i.etag[e]));(u.data&&u.hasContent&&u.contentType!==!1||r.contentType)&&f.setRequestHeader("Content-Type",u.contentType);f.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+ie+"; q=0.01":""):u.accepts["*"]);for(l in u.headers)f.setRequestHeader(l,u.headers[l]);if(u.beforeSend&&(u.beforeSend.call(h,f,u)===!1||2===o))return f.abort();rt="abort";for(l in{success:1,error:1,complete:1})f[l](u[l]);if(v=ue(tr,u,r,f)){if(f.readyState=1,a&&d.trigger("ajaxSend",[f,u]),2===o)return f;u.async&&u.timeout>0&&(k=n.setTimeout(function(){f.abort("timeout")},u.timeout));try{o=1;v.send(tt,w)}catch(ut){if(!(2>o))throw ut;w(-1,ut)}}else w(-1,"No Transport");return f},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,t){return i.get(n,void 0,t,"script")}});i.each(["get","post"],function(n,t){i[t]=function(n,r,u,f){return i.isFunction(r)&&(f=f||u,u=r,r=void 0),i.ajax(i.extend({url:n,type:t,dataType:f,data:r,success:u},i.isPlainObject(n)&&n))}});i._evalUrl=function(n){return i.ajax({url:n,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})};i.fn.extend({wrapAll:function(n){if(i.isFunction(n))return this.each(function(t){i(this).wrapAll(n.call(this,t))});if(this[0]){var t=i(n,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]);t.map(function(){for(var n=this;n.firstChild&&1===n.firstChild.nodeType;)n=n.firstChild;return n}).append(this)}return this},wrapInner:function(n){return i.isFunction(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=i.isFunction(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,"body")||i(this).replaceWith(this.childNodes)}).end()}});i.expr.filters.hidden=function(n){return r.reliableHiddenOffsets()?n.offsetWidth<=0&&n.offsetHeight<=0&&!n.getClientRects().length:us(n)};i.expr.filters.visible=function(n){return!i.expr.filters.hidden(n)};var fs=/%20/g,es=/\[\]$/,fe=/\r?\n/g,os=/^(?:submit|button|image|reset|file)$/i,ss=/^(?:input|select|textarea|keygen)/i;i.param=function(n,t){var r,u=[],f=function(n,t){t=i.isFunction(t)?t():null==t?"":t;u[u.length]=encodeURIComponent(n)+"="+encodeURIComponent(t)};if(void 0===t&&(t=i.ajaxSettings&&i.ajaxSettings.traditional),i.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){f(this.name,this.value)});else for(r in n)ur(r,n[r],t,f);return u.join("&").replace(fs,"+")};i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&ss.test(this.nodeName)&&!os.test(n)&&(this.checked||!si.test(n))}).map(function(n,t){var r=i(this).val();return null==r?null:i.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(fe,"\r\n")}}):{name:t.name,value:r.replace(fe,"\r\n")}}).get()}});i.ajaxSettings.xhr=void 0!==n.ActiveXObject?function(){return this.isLocal?ee():u.documentMode>8?fr():/^(get|post|head|put|delete|options)$/i.test(this.type)&&fr()||ee()}:fr;var hs=0,gt={},ct=i.ajaxSettings.xhr();return n.attachEvent&&n.attachEvent("onunload",function(){for(var n in gt)gt[n](void 0,!0)}),r.cors=!!ct&&"withCredentials"in ct,ct=r.ajax=!!ct,ct&&i.ajaxTransport(function(t){if(!t.crossDomain||r.cors){var u;return{send:function(r,f){var o,e=t.xhr(),s=++hs;if(e.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)e[o]=t.xhrFields[o];t.mimeType&&e.overrideMimeType&&e.overrideMimeType(t.mimeType);t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)void 0!==r[o]&&e.setRequestHeader(o,r[o]+"");e.send(t.hasContent&&t.data||null);u=function(n,r){var o,c,h;if(u&&(r||4===e.readyState))if(delete gt[s],u=void 0,e.onreadystatechange=i.noop,r)4!==e.readyState&&e.abort();else{h={};o=e.status;"string"==typeof e.responseText&&(h.text=e.responseText);try{c=e.statusText}catch(l){c=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=h.text?200:404}h&&f(o,c,h,e.getAllResponseHeaders())};t.async?4===e.readyState?n.setTimeout(u):e.onreadystatechange=gt[s]=u:u()},abort:function(){u&&u(void 0,!0)}}}}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",function(n){void 0===n.cache&&(n.cache=!1);n.crossDomain&&(n.type="GET",n.global=!1)}),i.ajaxTransport("script",function(n){if(n.crossDomain){var t,r=u.head||i("head")[0]||u.documentElement;return{send:function(i,f){t=u.createElement("script");t.async=!0;n.scriptCharset&&(t.charset=n.scriptCharset);t.src=n.url;t.onload=t.onreadystatechange=function(n,i){(i||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,i||f(200,"success"))};r.insertBefore(t,r.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}}),er=[],ni=/(=)\?(?=&|$)|\?\?/,i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=er.pop()||i.expando+"_"+gi++;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",function(t,r,u){var f,e,o,s=t.jsonp!==!1&&(ni.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ni.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return(f=t.jsonpCallback=i.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ni,"$1"+f):t.jsonp!==!1&&(t.url+=(nr.test(t.url)?"&":"?")+t.jsonp+"="+f),t.converters["script json"]=function(){return o||i.error(f+" was not called"),o[0]},t.dataTypes[0]="json",e=n[f],n[f]=function(){o=arguments},u.always(function(){void 0===e?i(n).removeProp(f):n[f]=e;t[f]&&(t.jsonpCallback=r.jsonpCallback,er.push(f));o&&i.isFunction(e)&&e(o[0]);o=e=void 0}),"script")}),i.parseHTML=function(n,t,r){if(!n||"string"!=typeof n)return null;"boolean"==typeof t&&(r=t,t=!1);t=t||u;var f=vr.exec(n),e=!r&&[];return f?[t.createElement(f[1])]:(f=hu([n],t,e),e&&e.length&&i(e).remove(),i.merge([],f.childNodes))},or=i.fn.load,i.fn.load=function(n,t,r){if("string"!=typeof n&&or)return or.apply(this,arguments);var u,o,s,f=this,e=n.indexOf(" ");return e>-1&&(u=i.trim(n.slice(e,n.length)),n=n.slice(0,e)),i.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(o="POST"),f.length>0&&i.ajax({url:n,type:o||"GET",dataType:"html",data:t}).done(function(n){s=arguments;f.html(u?i("<div>").append(i.parseHTML(n)).find(u):n)}).always(r&&function(n,t){f.each(function(){r.apply(this,s||[n.responseText,t,n])})}),this},i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}}),i.expr.filters.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length},i.offset={setOffset:function(n,t,r){var e,o,s,h,u,c,v,l=i.css(n,"position"),a=i(n),f={};"static"===l&&(n.style.position="relative");u=a.offset();s=i.css(n,"top");c=i.css(n,"left");v=("absolute"===l||"fixed"===l)&&i.inArray("auto",[s,c])>-1;v?(e=a.position(),h=e.top,o=e.left):(h=parseFloat(s)||0,o=parseFloat(c)||0);i.isFunction(t)&&(t=t.call(n,r,i.extend({},u)));null!=t.top&&(f.top=t.top-u.top+h);null!=t.left&&(f.left=t.left-u.left+o);"using"in t?t.using.call(n,f):a.css(f)}},i.fn.extend({offset:function(n){if(arguments.length)return void 0===n?this:this.each(function(t){i.offset.setOffset(this,n,t)});var t,f,u={top:0,left:0},r=this[0],e=r&&r.ownerDocument;if(e)return t=e.documentElement,i.contains(t,r)?("undefined"!=typeof r.getBoundingClientRect&&(u=r.getBoundingClientRect()),f=oe(e),{top:u.top+(f.pageYOffset||t.scrollTop)-(t.clientTop||0),left:u.left+(f.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):u},position:function(){if(this[0]){var n,r,t={top:0,left:0},u=this[0];return"fixed"===i.css(u,"position")?r=u.getBoundingClientRect():(n=this.offsetParent(),r=this.offset(),i.nodeName(n[0],"html")||(t=n.offset()),t.top+=i.css(n[0],"borderTopWidth",!0),t.left+=i.css(n[0],"borderLeftWidth",!0)),{top:r.top-t.top-i.css(u,"marginTop",!0),left:r.left-t.left-i.css(u,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent;n&&!i.nodeName(n,"html")&&"static"===i.css(n,"position");)n=n.offsetParent;return n||nf})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,t){var r=/Y/.test(t);i.fn[n]=function(u){return y(this,function(n,u,f){var e=oe(n);return void 0===f?e?t in e?e[t]:e.document.documentElement[u]:n[u]:void(e?e.scrollTo(r?i(e).scrollLeft():f,r?f:i(e).scrollTop()):n[u]=f)},n,u,arguments.length,null)}}),i.each(["top","left"],function(n,t){i.cssHooks[t]=bi(r.pixelPosition,function(n,r){if(r)return(r=p(n,t),pt.test(r)?i(n).position()[t]+"px":r)})}),i.each({Height:"height",Width:"width"},function(n,t){i.each({padding:"inner"+n,content:t,"":"outer"+n},function(r,u){i.fn[u]=function(u,f){var e=arguments.length&&(r||"boolean"!=typeof u),o=r||(u===!0||f===!0?"margin":"border");return y(this,function(t,r,u){var f;return i.isWindow(t)?t.document.documentElement["client"+n]:9===t.nodeType?(f=t.documentElement,Math.max(t.body["scroll"+n],f["scroll"+n],t.body["offset"+n],f["offset"+n],f["client"+n])):void 0===u?i.css(t,r,o):i.style(t,r,u,o)},t,e?u:void 0,e,null)}})}),i.fn.extend({bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return 1===arguments.length?this.off(n,"**"):this.off(t,n||"**",i)}}),i.fn.size=function(){return this.length},i.fn.andSelf=i.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return i}),se=n.jQuery,he=n.$,i.noConflict=function(t){return n.$===i&&(n.$=he),t&&n.jQuery===i&&(n.jQuery=se),i},t||(n.jQuery=n.$=i),i}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(n){"use strict";var t=n.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3");}(jQuery);+function(n){"use strict";function t(){var i=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var t in n)if(void 0!==i.style[t])return{end:n[t]};return!1}n.fn.emulateTransitionEnd=function(t){var i=!1,u=this,r;n(this).one("bsTransitionEnd",function(){i=!0});return r=function(){i||n(u).trigger(n.support.transition.end)},setTimeout(r,t),this};n(function(){n.support.transition=t();n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery);+function(n){"use strict";function u(i){return this.each(function(){var r=n(this),u=r.data("bs.alert");u||r.data("bs.alert",u=new t(this));"string"==typeof i&&u[i].call(r)})}var i='[data-dismiss="alert"]',t=function(t){n(t).on("click",i,this.close)},r;t.VERSION="3.3.6";t.TRANSITION_DURATION=150;t.prototype.close=function(i){function e(){r.detach().trigger("closed.bs.alert").remove()}var f=n(this),u=f.attr("data-target"),r;u||(u=f.attr("href"),u=u&&u.replace(/.*(?=#[^\s]*$)/,""));r=n(u);i&&i.preventDefault();r.length||(r=f.closest(".alert"));r.trigger(i=n.Event("close.bs.alert"));i.isDefaultPrevented()||(r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e())};r=n.fn.alert;n.fn.alert=u;n.fn.alert.Constructor=t;n.fn.alert.noConflict=function(){return n.fn.alert=r,this};n(document).on("click.bs.alert.data-api",i,t.prototype.close)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.button"),f="object"==typeof i&&i;r||u.data("bs.button",r=new t(this,f));"toggle"==i?r.toggle():i&&r.setState(i)})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.isLoading=!1},r;t.VERSION="3.3.6";t.DEFAULTS={loadingText:"loading..."};t.prototype.setState=function(t){var r="disabled",i=this.$element,f=i.is("input")?"val":"html",u=i.data();t+="Text";null==u.resetText&&i.data("resetText",i[f]());setTimeout(n.proxy(function(){i[f](null==u[t]?this.options[t]:u[t]);"loadingText"==t?(this.isLoading=!0,i.addClass(r).attr(r,r)):this.isLoading&&(this.isLoading=!1,i.removeClass(r).removeAttr(r))},this),0)};t.prototype.toggle=function(){var t=!0,i=this.$element.closest('[data-toggle="buttons"]'),n;i.length?(n=this.$element.find("input"),"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),i.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")):(this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active"))};r=n.fn.button;n.fn.button=i;n.fn.button.Constructor=t;n.fn.button.noConflict=function(){return n.fn.button=r,this};n(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var r=n(t.target);r.hasClass("btn")||(r=r.closest(".btn"));i.call(r,"toggle");n(t.target).is('input[type="radio"]')||n(t.target).is('input[type="checkbox"]')||t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){n(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.carousel"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i),e="string"==typeof i?i:f.slide;r||u.data("bs.carousel",r=new t(this,f));"number"==typeof i?r.to(i):e?r[e]():f.interval&&r.pause().cycle()})}var t=function(t,i){this.$element=n(t);this.$indicators=this.$element.find(".carousel-indicators");this.options=i;this.paused=null;this.sliding=null;this.interval=null;this.$active=null;this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",n.proxy(this.keydown,this));"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",n.proxy(this.pause,this)).on("mouseleave.bs.carousel",n.proxy(this.cycle,this))},u,r;t.VERSION="3.3.6";t.TRANSITION_DURATION=600;t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0};t.prototype.keydown=function(n){if(!/input|textarea/i.test(n.target.tagName)){switch(n.which){case 37:this.prev();break;case 39:this.next();break;default:return}n.preventDefault()}};t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(n.proxy(this.next,this),this.options.interval)),this};t.prototype.getItemIndex=function(n){return this.$items=n.parent().children(".item"),this.$items.index(n||this.$active)};t.prototype.getItemForDirection=function(n,t){var i=this.getItemIndex(t),f="prev"==n&&0===i||"next"==n&&i==this.$items.length-1,r,u;return f&&!this.options.wrap?t:(r="prev"==n?-1:1,u=(i+r)%this.$items.length,this.$items.eq(u))};t.prototype.to=function(n){var i=this,t=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(n>this.$items.length-1)&&!(0>n))return this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(n)}):t==n?this.pause().cycle():this.slide(n>t?"next":"prev",this.$items.eq(n))};t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&n.support.transition&&(this.$element.trigger(n.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this};t.prototype.next=function(){if(!this.sliding)return this.slide("next")};t.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};t.prototype.slide=function(i,r){var e=this.$element.find(".item.active"),u=r||this.getItemForDirection(i,e),l=this.interval,f="next"==i?"left":"right",a=this,o,s,h,c;return u.hasClass("active")?this.sliding=!1:(o=u[0],s=n.Event("slide.bs.carousel",{relatedTarget:o,direction:f}),(this.$element.trigger(s),!s.isDefaultPrevented())?((this.sliding=!0,l&&this.pause(),this.$indicators.length)&&(this.$indicators.find(".active").removeClass("active"),h=n(this.$indicators.children()[this.getItemIndex(u)]),h&&h.addClass("active")),c=n.Event("slid.bs.carousel",{relatedTarget:o,direction:f}),n.support.transition&&this.$element.hasClass("slide")?(u.addClass(i),u[0].offsetWidth,e.addClass(f),u.addClass(f),e.one("bsTransitionEnd",function(){u.removeClass([i,f].join(" ")).addClass("active");e.removeClass(["active",f].join(" "));a.sliding=!1;setTimeout(function(){a.$element.trigger(c)},0)}).emulateTransitionEnd(t.TRANSITION_DURATION)):(e.removeClass("active"),u.addClass("active"),this.sliding=!1,this.$element.trigger(c)),l&&this.cycle(),this):void 0)};u=n.fn.carousel;n.fn.carousel=i;n.fn.carousel.Constructor=t;n.fn.carousel.noConflict=function(){return n.fn.carousel=u,this};r=function(t){var o,r=n(this),u=n(r.attr("data-target")||(o=r.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")),e,f;u.hasClass("carousel")&&(e=n.extend({},u.data(),r.data()),f=r.attr("data-slide-to"),f&&(e.interval=!1),i.call(u,e),f&&u.data("bs.carousel").to(f),t.preventDefault())};n(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r);n(window).on("load",function(){n('[data-ride="carousel"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(t){var i,r=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return n(r)}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.collapse"),f=n.extend({},t.DEFAULTS,u.data(),"object"==typeof i&&i);!r&&f.toggle&&/show|hide/.test(i)&&(f.toggle=!1);r||u.data("bs.collapse",r=new t(this,f));"string"==typeof i&&r[i]()})}var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.$trigger=n('[data-toggle="collapse"][href="#'+i.id+'"],[data-toggle="collapse"][data-target="#'+i.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()},u;t.VERSION="3.3.6";t.TRANSITION_DURATION=350;t.DEFAULTS={toggle:!0};t.prototype.dimension=function(){var n=this.$element.hasClass("width");return n?"width":"height"};t.prototype.show=function(){var f,r,e,u,o,s;if(!this.transitioning&&!this.$element.hasClass("in")&&(r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing"),!(r&&r.length&&(f=r.data("bs.collapse"),f&&f.transitioning))&&(e=n.Event("show.bs.collapse"),this.$element.trigger(e),!e.isDefaultPrevented()))){if(r&&r.length&&(i.call(r,"hide"),f||r.data("bs.collapse",null)),u=this.dimension(),this.$element.removeClass("collapse").addClass("collapsing")[u](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1,o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[u]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")},!n.support.transition)return o.call(this);s=n.camelCase(["scroll",u].join("-"));this.$element.one("bsTransitionEnd",n.proxy(o,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[u](this.$element[0][s])}};t.prototype.hide=function(){var r,i,u;if(!this.transitioning&&this.$element.hasClass("in")&&(r=n.Event("hide.bs.collapse"),this.$element.trigger(r),!r.isDefaultPrevented()))return i=this.dimension(),this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1,u=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")},n.support.transition?void this.$element[i](0).one("bsTransitionEnd",n.proxy(u,this)).emulateTransitionEnd(t.TRANSITION_DURATION):u.call(this)};t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};t.prototype.getParent=function(){return n(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(n.proxy(function(t,i){var u=n(i);this.addAriaAndCollapsedClass(r(u),u)},this)).end()};t.prototype.addAriaAndCollapsedClass=function(n,t){var i=n.hasClass("in");n.attr("aria-expanded",i);t.toggleClass("collapsed",!i).attr("aria-expanded",i)};u=n.fn.collapse;n.fn.collapse=i;n.fn.collapse.Constructor=t;n.fn.collapse.noConflict=function(){return n.fn.collapse=u,this};n(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var u=n(this);u.attr("data-target")||t.preventDefault();var f=r(u),e=f.data("bs.collapse"),o=e?"toggle":u.data();i.call(f,o)})}(jQuery);+function(n){"use strict";function r(t){var i=t.attr("data-target"),r;return i||(i=t.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),r=i&&n(i),r&&r.length?r:t.parent()}function u(t){t&&3===t.which||(n(o).remove(),n(i).each(function(){var u=n(this),i=r(u),f={relatedTarget:this};i.hasClass("open")&&(t&&"click"==t.type&&/input|textarea/i.test(t.target.tagName)&&n.contains(i[0],t.target)||(i.trigger(t=n.Event("hide.bs.dropdown",f)),t.isDefaultPrevented()||(u.attr("aria-expanded","false"),i.removeClass("open").trigger(n.Event("hidden.bs.dropdown",f)))))}))}function e(i){return this.each(function(){var r=n(this),u=r.data("bs.dropdown");u||r.data("bs.dropdown",u=new t(this));"string"==typeof i&&u[i].call(r)})}var o=".dropdown-backdrop",i='[data-toggle="dropdown"]',t=function(t){n(t).on("click.bs.dropdown",this.toggle)},f;t.VERSION="3.3.6";t.prototype.toggle=function(t){var f=n(this),i,o,e;if(!f.is(".disabled, :disabled")){if(i=r(f),o=i.hasClass("open"),u(),!o){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&n(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(n(this)).on("click",u),e={relatedTarget:this},i.trigger(t=n.Event("show.bs.dropdown",e)),t.isDefaultPrevented())return;f.trigger("focus").attr("aria-expanded","true");i.toggleClass("open").trigger(n.Event("shown.bs.dropdown",e))}return!1}};t.prototype.keydown=function(t){var e,o,s,h,f,u;if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)&&(e=n(this),t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled"))){if(o=r(e),s=o.hasClass("open"),!s&&27!=t.which||s&&27==t.which)return 27==t.which&&o.find(i).trigger("focus"),e.trigger("click");h=" li:not(.disabled):visible a";f=o.find(".dropdown-menu"+h);f.length&&(u=f.index(t.target),38==t.which&&u>0&&u--,40==t.which&&u<f.length-1&&u++,~u||(u=0),f.eq(u).trigger("focus"))}};f=n.fn.dropdown;n.fn.dropdown=e;n.fn.dropdown.Constructor=t;n.fn.dropdown.noConflict=function(){return n.fn.dropdown=f,this};n(document).on("click.bs.dropdown.data-api",u).on("click.bs.dropdown.data-api",".dropdown form",function(n){n.stopPropagation()}).on("click.bs.dropdown.data-api",i,t.prototype.toggle).on("keydown.bs.dropdown.data-api",i,t.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",t.prototype.keydown)}(jQuery);+function(n){"use strict";function i(i,r){return this.each(function(){var f=n(this),u=f.data("bs.modal"),e=n.extend({},t.DEFAULTS,f.data(),"object"==typeof i&&i);u||f.data("bs.modal",u=new t(this,e));"string"==typeof i?u[i](r):e.show&&u.show(r)})}var t=function(t,i){this.options=i;this.$body=n(document.body);this.$element=n(t);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,n.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))},r;t.VERSION="3.3.6";t.TRANSITION_DURATION=300;t.BACKDROP_TRANSITION_DURATION=150;t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};t.prototype.toggle=function(n){return this.isShown?this.hide():this.show(n)};t.prototype.show=function(i){var r=this,u=n.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(u);this.isShown||u.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',n.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){n(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var f=n.support.transition&&r.$element.hasClass("fade"),u;r.$element.parent().length||r.$element.appendTo(r.$body);r.$element.show().scrollTop(0);r.adjustDialog();f&&r.$element[0].offsetWidth;r.$element.addClass("in");r.enforceFocus();u=n.Event("shown.bs.modal",{relatedTarget:i});f?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(u)}).emulateTransitionEnd(t.TRANSITION_DURATION):r.$element.trigger("focus").trigger(u)}))};t.prototype.hide=function(i){i&&i.preventDefault();i=n.Event("hide.bs.modal");this.$element.trigger(i);this.isShown&&!i.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),n(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),n.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",n.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())};t.prototype.enforceFocus=function(){n(document).off("focusin.bs.modal").on("focusin.bs.modal",n.proxy(function(n){this.$element[0]===n.target||this.$element.has(n.target).length||this.$element.trigger("focus")},this))};t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",n.proxy(function(n){27==n.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")};t.prototype.resize=function(){this.isShown?n(window).on("resize.bs.modal",n.proxy(this.handleUpdate,this)):n(window).off("resize.bs.modal")};t.prototype.hideModal=function(){var n=this;this.$element.hide();this.backdrop(function(){n.$body.removeClass("modal-open");n.resetAdjustments();n.resetScrollbar();n.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(i){var e=this,f=this.$element.hasClass("fade")?"fade":"",r,u;if(this.isShown&&this.options.backdrop){if(r=n.support.transition&&f,this.$backdrop=n(document.createElement("div")).addClass("modal-backdrop "+f).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",n.proxy(function(n){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(n.target===n.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!i)return;r?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):i()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),u=function(){e.removeBackdrop();i&&i()},n.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",u).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):u()):i&&i()};t.prototype.handleUpdate=function(){this.adjustDialog()};t.prototype.adjustDialog=function(){var n=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&n?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!n?this.scrollbarWidth:""})};t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};t.prototype.checkScrollbar=function(){var n=window.innerWidth,t;n||(t=document.documentElement.getBoundingClientRect(),n=t.right-Math.abs(t.left));this.bodyIsOverflowing=document.body.clientWidth<n;this.scrollbarWidth=this.measureScrollbar()};t.prototype.setScrollbar=function(){var n=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";this.bodyIsOverflowing&&this.$body.css("padding-right",n+this.scrollbarWidth)};t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};t.prototype.measureScrollbar=function(){var n=document.createElement("div"),t;return n.className="modal-scrollbar-measure",this.$body.append(n),t=n.offsetWidth-n.clientWidth,this.$body[0].removeChild(n),t};r=n.fn.modal;n.fn.modal=i;n.fn.modal.Constructor=t;n.fn.modal.noConflict=function(){return n.fn.modal=r,this};n(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=n(this),f=r.attr("href"),u=n(r.attr("data-target")||f&&f.replace(/.*(?=#[^\s]+$)/,"")),e=u.data("bs.modal")?"toggle":n.extend({remote:!/#/.test(f)&&f},u.data(),r.data());r.is("a")&&t.preventDefault();u.one("show.bs.modal",function(n){n.isDefaultPrevented()||u.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})});i.call(u,e,this)})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tooltip"),f="object"==typeof i&&i;(r||!/destroy|hide/.test(i))&&(r||u.data("bs.tooltip",r=new t(this,f)),"string"==typeof i&&r[i]())})}var t=function(n,t){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.inState=null;this.init("tooltip",n,t)},i;t.VERSION="3.3.6";t.TRANSITION_DURATION=150;t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};t.prototype.init=function(t,i,r){var f,e,u,o,s;if(this.enabled=!0,this.type=t,this.$element=n(i),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&n(n.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(f=this.options.trigger.split(" "),e=f.length;e--;)if(u=f[e],"click"==u)this.$element.on("click."+this.type,this.options.selector,n.proxy(this.toggle,this));else"manual"!=u&&(o="hover"==u?"mouseenter":"focusin",s="hover"==u?"mouseleave":"focusout",this.$element.on(o+"."+this.type,this.options.selector,n.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,n.proxy(this.leave,this)));this.options.selector?this._options=n.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.getOptions=function(t){return t=n.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t};t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&n.each(this._options,function(n,r){i[n]!=r&&(t[n]=r)}),t};t.prototype.enter=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),t instanceof n.Event&&(i.inState["focusin"==t.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())};t.prototype.isInStateTrue=function(){for(var n in this.inState)if(this.inState[n])return!0;return!1};t.prototype.leave=function(t){var i=t instanceof this.constructor?t:n(t.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)),t instanceof n.Event&&(i.inState["focusout"==t.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())};t.prototype.show=function(){var c=n.Event("show.bs."+this.type),l,p,e,w,h;if(this.hasContent()&&this.enabled){if(this.$element.trigger(c),l=n.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),c.isDefaultPrevented()||!l)return;var u=this,r=this.tip(),a=this.getUID(this.type);this.setContent();r.attr("id",a);this.$element.attr("aria-describedby",a);this.options.animation&&r.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,v=/\s?auto?\s?/i,y=v.test(i);y&&(i=i.replace(v,"")||"top");r.detach().css({top:0,left:0,display:"block"}).addClass(i).data("bs."+this.type,this);this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);var f=this.getPosition(),o=r[0].offsetWidth,s=r[0].offsetHeight;y&&(p=i,e=this.getPosition(this.$viewport),i="bottom"==i&&f.bottom+s>e.bottom?"top":"top"==i&&f.top-s<e.top?"bottom":"right"==i&&f.right+o>e.width?"left":"left"==i&&f.left-o<e.left?"right":i,r.removeClass(p).addClass(i));w=this.getCalculatedOffset(i,f,o,s);this.applyPlacement(w,i);h=function(){var n=u.hoverState;u.$element.trigger("shown.bs."+u.type);u.hoverState=null;"out"==n&&u.leave(u)};n.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",h).emulateTransitionEnd(t.TRANSITION_DURATION):h()}};t.prototype.applyPlacement=function(t,i){var r=this.tip(),l=r[0].offsetWidth,e=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10),h,f,u;isNaN(o)&&(o=0);isNaN(s)&&(s=0);t.top+=o;t.left+=s;n.offset.setOffset(r[0],n.extend({using:function(n){r.css({top:Math.round(n.top),left:Math.round(n.left)})}},t),0);r.addClass("in");h=r[0].offsetWidth;f=r[0].offsetHeight;"top"==i&&f!=e&&(t.top=t.top+e-f);u=this.getViewportAdjustedDelta(i,t,h,f);u.left?t.left+=u.left:t.top+=u.top;var c=/top|bottom/.test(i),a=c?2*u.left-l+h:2*u.top-e+f,v=c?"offsetWidth":"offsetHeight";r.offset(t);this.replaceArrow(a,r[0][v],c)};t.prototype.replaceArrow=function(n,t,i){this.arrow().css(i?"left":"top",50*(1-n/t)+"%").css(i?"top":"left","")};t.prototype.setContent=function(){var n=this.tip(),t=this.getTitle();n.find(".tooltip-inner")[this.options.html?"html":"text"](t);n.removeClass("fade in top bottom left right")};t.prototype.hide=function(i){function f(){"in"!=u.hoverState&&r.detach();u.$element.removeAttr("aria-describedby").trigger("hidden.bs."+u.type);i&&i()}var u=this,r=n(this.$tip),e=n.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(r.removeClass("in"),n.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",f).emulateTransitionEnd(t.TRANSITION_DURATION):f(),this.hoverState=null,this)};t.prototype.fixTitle=function(){var n=this.$element;(n.attr("title")||"string"!=typeof n.attr("data-original-title"))&&n.attr("data-original-title",n.attr("title")||"").attr("title","")};t.prototype.hasContent=function(){return this.getTitle()};t.prototype.getPosition=function(t){t=t||this.$element;var u=t[0],r="BODY"==u.tagName,i=u.getBoundingClientRect();null==i.width&&(i=n.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var f=r?{top:0,left:0}:t.offset(),e={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},o=r?{width:n(window).width(),height:n(window).height()}:null;return n.extend({},i,e,o,f)};t.prototype.getCalculatedOffset=function(n,t,i,r){return"bottom"==n?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==n?{top:t.top-r,left:t.left+t.width/2-i/2}:"left"==n?{top:t.top+t.height/2-r/2,left:t.left-i}:{top:t.top+t.height/2-r/2,left:t.left+t.width}};t.prototype.getViewportAdjustedDelta=function(n,t,i,r){var f={top:0,left:0},e,u,o,s,h,c;return this.$viewport?(e=this.options.viewport&&this.options.viewport.padding||0,u=this.getPosition(this.$viewport),/right|left/.test(n)?(o=t.top-e-u.scroll,s=t.top+e-u.scroll+r,o<u.top?f.top=u.top-o:s>u.top+u.height&&(f.top=u.top+u.height-s)):(h=t.left-e,c=t.left+e+i,h<u.left?f.left=u.left-h:c>u.right&&(f.left=u.left+u.width-c)),f):f};t.prototype.getTitle=function(){var t=this.$element,n=this.options;return t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)};t.prototype.getUID=function(n){do n+=~~(1e6*Math.random());while(document.getElementById(n));return n};t.prototype.tip=function(){if(!this.$tip&&(this.$tip=n(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};t.prototype.enable=function(){this.enabled=!0};t.prototype.disable=function(){this.enabled=!1};t.prototype.toggleEnabled=function(){this.enabled=!this.enabled};t.prototype.toggle=function(t){var i=this;t&&(i=n(t.currentTarget).data("bs."+this.type),i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),n(t.currentTarget).data("bs."+this.type,i)));t?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)};t.prototype.destroy=function(){var n=this;clearTimeout(this.timeout);this.hide(function(){n.$element.off("."+n.type).removeData("bs."+n.type);n.$tip&&n.$tip.detach();n.$tip=null;n.$arrow=null;n.$viewport=null})};i=n.fn.tooltip;n.fn.tooltip=r;n.fn.tooltip.Constructor=t;n.fn.tooltip.noConflict=function(){return n.fn.tooltip=i,this}}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.popover"),f="object"==typeof i&&i;(r||!/destroy|hide/.test(i))&&(r||u.data("bs.popover",r=new t(this,f)),"string"==typeof i&&r[i]())})}var t=function(n,t){this.init("popover",n,t)},i;if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.6";t.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-title"><\/h3><div class="popover-content"><\/div><\/div>'});t.prototype=n.extend({},n.fn.tooltip.Constructor.prototype);t.prototype.constructor=t;t.prototype.getDefaults=function(){return t.DEFAULTS};t.prototype.setContent=function(){var n=this.tip(),i=this.getTitle(),t=this.getContent();n.find(".popover-title")[this.options.html?"html":"text"](i);n.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof t?"html":"append":"text"](t);n.removeClass("fade top bottom left right in");n.find(".popover-title").html()||n.find(".popover-title").hide()};t.prototype.hasContent=function(){return this.getTitle()||this.getContent()};t.prototype.getContent=function(){var t=this.$element,n=this.options;return t.attr("data-content")||("function"==typeof n.content?n.content.call(t[0]):n.content)};t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};i=n.fn.popover;n.fn.popover=r;n.fn.popover.Constructor=t;n.fn.popover.noConflict=function(){return n.fn.popover=i,this}}(jQuery);+function(n){"use strict";function t(i,r){this.$body=n(document.body);this.$scrollElement=n(n(i).is(document.body)?window:i);this.options=n.extend({},t.DEFAULTS,r);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",n.proxy(this.process,this));this.refresh();this.process()}function i(i){return this.each(function(){var u=n(this),r=u.data("bs.scrollspy"),f="object"==typeof i&&i;r||u.data("bs.scrollspy",r=new t(this,f));"string"==typeof i&&r[i]()})}t.VERSION="3.3.6";t.DEFAULTS={offset:10};t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};t.prototype.refresh=function(){var t=this,i="offset",r=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();n.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop());this.$body.find(this.selector).map(function(){var f=n(this),u=f.data("target")||f.attr("href"),t=/^#./.test(u)&&n(u);return t&&t.length&&t.is(":visible")&&[[t[i]().top+r,u]]||null}).sort(function(n,t){return n[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})};t.prototype.process=function(){var n,i=this.$scrollElement.scrollTop()+this.options.offset,f=this.getScrollHeight(),e=this.options.offset+f-this.$scrollElement.height(),t=this.offsets,r=this.targets,u=this.activeTarget;if(this.scrollHeight!=f&&this.refresh(),i>=e)return u!=(n=r[r.length-1])&&this.activate(n);if(u&&i<t[0])return this.activeTarget=null,this.clear();for(n=t.length;n--;)u!=r[n]&&i>=t[n]&&(void 0===t[n+1]||i<t[n+1])&&this.activate(r[n])};t.prototype.activate=function(t){this.activeTarget=t;this.clear();var r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=n(r).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active"));i.trigger("activate.bs.scrollspy")};t.prototype.clear=function(){n(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=n.fn.scrollspy;n.fn.scrollspy=i;n.fn.scrollspy.Constructor=t;n.fn.scrollspy.noConflict=function(){return n.fn.scrollspy=r,this};n(window).on("load.bs.scrollspy.data-api",function(){n('[data-spy="scroll"]').each(function(){var t=n(this);i.call(t,t.data())})})}(jQuery);+function(n){"use strict";function r(i){return this.each(function(){var u=n(this),r=u.data("bs.tab");r||u.data("bs.tab",r=new t(this));"string"==typeof i&&r[i]()})}var t=function(t){this.element=n(t)},u,i;t.VERSION="3.3.6";t.TRANSITION_DURATION=150;t.prototype.show=function(){var t=this.element,f=t.closest("ul:not(.dropdown-menu)"),i=t.data("target"),u;if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=f.find(".active:last a"),e=n.Event("hide.bs.tab",{relatedTarget:t[0]}),o=n.Event("show.bs.tab",{relatedTarget:r[0]});(r.trigger(e),t.trigger(o),o.isDefaultPrevented()||e.isDefaultPrevented())||(u=n(i),this.activate(t.closest("li"),f),this.activate(u,u.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]});t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})}))}};t.prototype.activate=function(i,r,u){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);i.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0);o?(i[0].offsetWidth,i.addClass("in")):i.removeClass("fade");i.parent(".dropdown-menu").length&&i.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);u&&u()}var f=r.find("> .active"),o=u&&n.support.transition&&(f.length&&f.hasClass("fade")||!!r.find("> .fade").length);f.length&&o?f.one("bsTransitionEnd",e).emulateTransitionEnd(t.TRANSITION_DURATION):e();f.removeClass("in")};u=n.fn.tab;n.fn.tab=r;n.fn.tab.Constructor=t;n.fn.tab.noConflict=function(){return n.fn.tab=u,this};i=function(t){t.preventDefault();r.call(n(this),"show")};n(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery);+function(n){"use strict";function i(i){return this.each(function(){var u=n(this),r=u.data("bs.affix"),f="object"==typeof i&&i;r||u.data("bs.affix",r=new t(this,f));"string"==typeof i&&r[i]()})}var t=function(i,r){this.options=n.extend({},t.DEFAULTS,r);this.$target=n(this.options.target).on("scroll.bs.affix.data-api",n.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",n.proxy(this.checkPositionWithEventLoop,this));this.$element=n(i);this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition()},r;t.VERSION="3.3.6";t.RESET="affix affix-top affix-bottom";t.DEFAULTS={offset:0,target:window};t.prototype.getState=function(n,t,i,r){var u=this.$target.scrollTop(),f=this.$element.offset(),e=this.$target.height();if(null!=i&&"top"==this.affixed)return i>u?"top":!1;if("bottom"==this.affixed)return null!=i?u+this.unpin<=f.top?!1:"bottom":n-r>=u+e?!1:"bottom";var o=null==this.affixed,s=o?u:f.top,h=o?e:t;return null!=i&&i>=u?"top":null!=r&&s+h>=n-r?"bottom":!1};t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var n=this.$target.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-n};t.prototype.checkPositionWithEventLoop=function(){setTimeout(n.proxy(this.checkPosition,this),1)};t.prototype.checkPosition=function(){var i,e,o;if(this.$element.is(":visible")){var s=this.$element.height(),r=this.options.offset,f=r.top,u=r.bottom,h=Math.max(n(document).height(),n(document.body).height());if("object"!=typeof r&&(u=f=r),"function"==typeof f&&(f=r.top(this.$element)),"function"==typeof u&&(u=r.bottom(this.$element)),i=this.getState(h,s,f,u),this.affixed!=i){if(null!=this.unpin&&this.$element.css("top",""),e="affix"+(i?"-"+i:""),o=n.Event(e+".bs.affix"),this.$element.trigger(o),o.isDefaultPrevented())return;this.affixed=i;this.unpin="bottom"==i?this.getPinnedOffset():null;this.$element.removeClass(t.RESET).addClass(e).trigger(e.replace("affix","affixed")+".bs.affix")}"bottom"==i&&this.$element.offset({top:h-s-u})}};r=n.fn.affix;n.fn.affix=i;n.fn.affix.Constructor=t;n.fn.affix.noConflict=function(){return n.fn.affix=r,this};n(window).on("load",function(){n('[data-spy="affix"]').each(function(){var r=n(this),t=r.data();t.offset=t.offset||{};null!=t.offsetBottom&&(t.offset.bottom=t.offsetBottom);null!=t.offsetTop&&(t.offset.top=t.offsetTop);i.call(r,t)})})}(jQuery);!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n("object"==typeof exports?require("jquery"):jQuery)}(function(n,t){function u(){return new Date(Date.UTC.apply(Date,arguments))}function h(){var n=new Date;return u(n.getFullYear(),n.getMonth(),n.getDate())}function y(n,t){return n.getUTCFullYear()===t.getUTCFullYear()&&n.getUTCMonth()===t.getUTCMonth()&&n.getUTCDate()===t.getUTCDate()}function c(n){return function(){return this[n].apply(this,arguments)}}function p(n){return n&&!isNaN(n.getTime())}function w(t,i){function o(n,t){return t.toLowerCase()}var u,f=n(t).data(),e={},s=new RegExp("^"+i.toLowerCase()+"([A-Z])"),r;i=new RegExp("^"+i.toLowerCase());for(r in f)i.test(r)&&(u=r.replace(s,o),e[u]=f[r]);return e}function b(t){var u={},i;if(r[t]||(t=t.split("-")[0],r[t]))return i=r[t],n.each(v,function(n,t){t in i&&(u[t]=i[t])}),u}var l=function(){var t={get:function(n){return this.slice(n)[0]},contains:function(n){for(var i=n&&n.valueOf(),t=0,r=this.length;r>t;t++)if(this[t].valueOf()===i)return t;return-1},remove:function(n){this.splice(n,1)},replace:function(t){t&&(n.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var n=new l;return n.replace(this),n}};return function(){var i=[];return i.push.apply(i,arguments),n.extend(i,t),i}}(),f=function(t,r){n(t).data("datepicker",this);this._process_options(r);this.dates=new l;this.viewDate=this.o.defaultViewDate;this.focusDate=null;this.element=n(t);this.isInline=!1;this.isInput=this.element.is("input");this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1;this.hasInput=this.component&&this.element.find("input").length;this.component&&0===this.component.length&&(this.component=!1);this.picker=n(i.template);this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow);this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&this.picker.addClass("datepicker-rtl");this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(n,t){return parseInt(t)+1});this._allow_update=!1;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted);this.setDatesDisabled(this.o.datesDisabled);this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()},o,a,e,s,v,r,i;f.prototype={constructor:f,_resolveViewName:function(n,i){return 0===n||"days"===n||"month"===n?0:1===n||"months"===n||"year"===n?1:2===n||"years"===n||"decade"===n?2:3===n||"decades"===n||"century"===n?3:4===n||"centuries"===n||"millennium"===n?4:i===t?!1:i},_check_template:function(i){try{if(i===t||""===i)return!1;if((i.match(/[<>]/g)||[]).length<=0)return!0;var r=n(i);return r.length>0}catch(u){return!1}},_process_options:function(t){var f,o,l,a,e,c;if(this._o=n.extend({},this._o,t),f=this.o=n.extend({},this._o),o=f.language,r[o]||(o=o.split("-")[0],r[o]||(o=s.language)),f.language=o,f.startView=this._resolveViewName(f.startView,0),f.minViewMode=this._resolveViewName(f.minViewMode,0),f.maxViewMode=this._resolveViewName(f.maxViewMode,4),f.startView=Math.min(f.startView,f.maxViewMode),f.startView=Math.max(f.startView,f.minViewMode),f.multidate!==!0&&(f.multidate=Number(f.multidate)||!1,f.multidate!==!1&&(f.multidate=Math.max(0,f.multidate))),f.multidateSeparator=String(f.multidateSeparator),f.weekStart%=7,f.weekEnd=(f.weekStart+6)%7,l=i.parseFormat(f.format),(f.startDate!==-(1/0)&&(f.startDate=f.startDate?f.startDate instanceof Date?this._local_to_utc(this._zero_time(f.startDate)):i.parseDate(f.startDate,l,f.language,f.assumeNearbyYear):-(1/0)),f.endDate!==1/0&&(f.endDate=f.endDate?f.endDate instanceof Date?this._local_to_utc(this._zero_time(f.endDate)):i.parseDate(f.endDate,l,f.language,f.assumeNearbyYear):1/0),f.daysOfWeekDisabled=f.daysOfWeekDisabled||[],n.isArray(f.daysOfWeekDisabled)||(f.daysOfWeekDisabled=f.daysOfWeekDisabled.split(/[,\s]*/)),f.daysOfWeekDisabled=n.map(f.daysOfWeekDisabled,function(n){return parseInt(n,10)}),f.daysOfWeekHighlighted=f.daysOfWeekHighlighted||[],n.isArray(f.daysOfWeekHighlighted)||(f.daysOfWeekHighlighted=f.daysOfWeekHighlighted.split(/[,\s]*/)),f.daysOfWeekHighlighted=n.map(f.daysOfWeekHighlighted,function(n){return parseInt(n,10)}),f.datesDisabled=f.datesDisabled||[],n.isArray(f.datesDisabled))||(a=[],a.push(i.parseDate(f.datesDisabled,l,f.language,f.assumeNearbyYear)),f.datesDisabled=a),f.datesDisabled=n.map(f.datesDisabled,function(n){return i.parseDate(n,l,f.language,f.assumeNearbyYear)}),e=String(f.orientation).toLowerCase().split(/\s+/g),c=f.orientation.toLowerCase(),e=n.grep(e,function(n){return/^auto|left|right|top|bottom$/.test(n)}),f.orientation={x:"auto",y:"auto"},c&&"auto"!==c)if(1===e.length)switch(e[0]){case"top":case"bottom":f.orientation.y=e[0];break;case"left":case"right":f.orientation.x=e[0]}else c=n.grep(e,function(n){return/^left|right$/.test(n)}),f.orientation.x=c[0]||"auto",c=n.grep(e,function(n){return/^top|bottom$/.test(n)}),f.orientation.y=c[0]||"auto";if(f.defaultViewDate){var v=f.defaultViewDate.year||(new Date).getFullYear(),y=f.defaultViewDate.month||0,p=f.defaultViewDate.day||1;f.defaultViewDate=u(v,y,p)}else f.defaultViewDate=h()},_events:[],_secondaryEvents:[],_applyEvents:function(n){for(var f,r,u,i=0;i<n.length;i++)f=n[i][0],2===n[i].length?(r=t,u=n[i][1]):3===n[i].length&&(r=n[i][1],u=n[i][2]),f.on(u,r)},_unapplyEvents:function(n){for(var f,r,u,i=0;i<n.length;i++)f=n[i][0],2===n[i].length?(u=t,r=n[i][1]):3===n[i].length&&(u=n[i][1],r=n[i][2]),f.off(r,u)},_buildEvents:function(){var t={keyup:n.proxy(function(t){-1===n.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:n.proxy(this.keydown,this),paste:n.proxy(this.paste,this)};this.o.showOnFocus===!0&&(t.focus=n.proxy(this.show,this));this.isInput?this._events=[[this.element,t]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),t],[this.component,{click:n.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:n.proxy(this.show,this)}]];this._events.push([this.element,"*",{blur:n.proxy(function(n){this._focused_from=n.target},this)}],[this.element,{blur:n.proxy(function(n){this._focused_from=n.target},this)}]);this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":n.proxy(function(n){this.update(n.date)},this)}]);this._secondaryEvents=[[this.picker,{click:n.proxy(this.click,this)}],[n(window),{resize:n.proxy(this.place,this)}],[n(document),{mousedown:n.proxy(function(n){this.element.is(n.target)||this.element.find(n.target).length||this.picker.is(n.target)||this.picker.find(n.target).length||this.picker.hasClass("datepicker-inline")||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,r){var u=r||this.dates.get(-1),f=this._utc_to_local(u);this.element.trigger({type:t,date:f,dates:n.map(this.dates,this._utc_to_local),format:n.proxy(function(n,t){0===arguments.length?(n=this.dates.length-1,t=this.o.format):"string"==typeof n&&(t=n,n=this.dates.length-1);t=t||this.o.format;var r=this.dates.get(n);return i.formatDate(r,t,this.o.language)},this)})},show:function(){var t=this.component?this.element.find("input"):this.element;if(!t.attr("readonly")||this.o.enableOnReadonly!==!1)return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&n(this.element).blur(),this},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(t){var i;if(t.originalEvent.clipboardData&&t.originalEvent.clipboardData.types&&-1!==n.inArray("text/plain",t.originalEvent.clipboardData.types))i=t.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;i=window.clipboardData.getData("Text")}this.setDate(i);this.update();t.preventDefault()},_utc_to_local:function(n){return n&&new Date(n.getTime()+6e4*n.getTimezoneOffset())},_local_to_utc:function(n){return n&&new Date(n.getTime()-6e4*n.getTimezoneOffset())},_zero_time:function(n){return n&&new Date(n.getFullYear(),n.getMonth(),n.getDate())},_zero_utc_time:function(n){return n&&new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()))},getDates:function(){return n.map(this.dates,this._utc_to_local)},getUTCDates:function(){return n.map(this.dates,function(n){return new Date(n)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var n=this.dates.get(-1);return"undefined"!=typeof n?new Date(n):null},clearDates:function(){var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input"));n&&n.val("");this.update();this._trigger("changeDate");this.o.autoclose&&this.hide()},setDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var t=n.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,n.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:c("setDates"),setUTCDate:c("setUTCDates"),remove:c("destroy"),setValue:function(){var n=this.getFormattedDate();return this.isInput?this.element.val(n):this.component&&this.element.find("input").val(n),this},getFormattedDate:function(r){r===t&&(r=this.o.format);var u=this.o.language;return n.map(this.dates,function(n){return i.formatDate(n,r,u)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(n){return this._process_options({startDate:n}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(n){return this._process_options({endDate:n}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(n){return this._process_options({daysOfWeekDisabled:n}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(n){return this._process_options({daysOfWeekHighlighted:n}),this.update(),this},setDatesDisabled:function(n){this._process_options({datesDisabled:n});this.update();this.updateNavArrows()},place:function(){var y,r,p;if(this.isInline)return this;var f=this.picker.outerWidth(),s=this.picker.outerHeight(),e=n(this.o.container),h=e.width(),c="body"===this.o.container?n(document).scrollTop():e.scrollTop(),l=e.offset(),a=[];this.element.parents().each(function(){var t=n(this).css("z-index");"auto"!==t&&0!==t&&a.push(parseInt(t))});var v=Math.max.apply(Math,a)+this.o.zIndexOffset,u=this.component?this.component.parent().offset():this.element.offset(),w=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),o=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),t=u.left-l.left,i=u.top-l.top;return"body"!==this.o.container&&(i+=c),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(t-=f-o)):u.left<0?(this.picker.addClass("datepicker-orient-left"),t-=u.left-10):t+f>h?(this.picker.addClass("datepicker-orient-right"),t+=o-f):this.picker.addClass("datepicker-orient-left"),r=this.o.orientation.y,("auto"===r&&(y=-c+i-s,r=0>y?"bottom":"top"),this.picker.addClass("datepicker-orient-"+r),"top"===r?i-=s+parseInt(this.picker.css("padding-top")):i+=w,this.o.rtl)?(p=h-(t+o),this.picker.css({top:i,right:p,zIndex:v})):this.picker.css({top:i,left:t,zIndex:v}),this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var r=this.dates.copy(),t=[],u=!1;return arguments.length?(n.each(arguments,n.proxy(function(n,i){i instanceof Date&&(i=this._local_to_utc(i));t.push(i)},this)),u=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),t=t&&this.o.multidate?t.split(this.o.multidateSeparator):[t],delete this.element.data().date),t=n.map(t,n.proxy(function(n){return i.parseDate(n,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),t=n.grep(t,n.proxy(function(n){return!this.dateWithinRange(n)||!n},this),!0),this.dates.replace(t),this.viewDate=this.dates.length?new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?new Date(this.o.startDate):this.viewDate>this.o.endDate?new Date(this.o.endDate):this.o.defaultViewDate,u?this.setValue():t.length&&String(r)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&r.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var i=this.o.weekStart,t="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(n,t){return parseInt(t)+1}),t+='<th class="cw">&#160;<\/th>');i<this.o.weekStart+7;)t+='<th class="dow',n.inArray(i,this.o.daysOfWeekDisabled)>-1&&(t+=" disabled"),t+='">'+r[this.o.language].daysMin[i++%7]+"<\/th>";t+="<\/tr>";this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var u,t=this._utc_to_local(this.viewDate),i="",n=0;12>n;)u=t&&t.getMonth()===n?" focused":"",i+='<span class="month'+u+'">'+r[this.o.language].monthsShort[n++]+"<\/span>";this.picker.find(".datepicker-months td").html(i)},setRange:function(t){t&&t.length?this.range=n.map(t,function(n){return n.valueOf()}):delete this.range;this.fill()},getClassNames:function(t){var i=[],r=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),u=new Date;return t.getUTCFullYear()<r||t.getUTCFullYear()===r&&t.getUTCMonth()<f?i.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()===r&&t.getUTCMonth()>f)&&i.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===u.getFullYear()&&t.getUTCMonth()===u.getMonth()&&t.getUTCDate()===u.getDate()&&i.push("today"),-1!==this.dates.contains(t)&&i.push("active"),(!this.dateWithinRange(t)||this.dateIsDisabled(t))&&i.push("disabled"),-1!==n.inArray(t.getUTCDay(),this.o.daysOfWeekHighlighted)&&i.push("highlighted"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&i.push("range"),-1!==n.inArray(t.valueOf(),this.range)&&i.push("selected"),t.valueOf()===this.range[0]&&i.push("range-start"),t.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},_fill_yearsView:function(i,r,u,f,e,o,s,h){var w,b,y,k,d,g,a,v,l,p,c;for(w="",b=this.picker.find(i),y=parseInt(e/u,10)*u,d=parseInt(o/f,10)*f,g=parseInt(s/f,10)*f,k=n.map(this.dates,function(n){return parseInt(n.getUTCFullYear()/f,10)*f}),b.find(".datepicker-switch").text(y+"-"+(y+9*f)),a=y-f,v=-1;11>v;v+=1)l=[r],p=null,-1===v?l.push("old"):10===v&&l.push("new"),-1!==n.inArray(a,k)&&l.push("active"),(d>a||a>g)&&l.push("disabled"),a===this.viewDate.getFullYear()&&l.push("focused"),h!==n.noop&&(c=h(new Date(a,0,1)),c===t?c={}:"boolean"==typeof c?c={enabled:c}:"string"==typeof c&&(c={classes:c}),c.enabled===!1&&l.push("disabled"),c.classes&&(l=l.concat(c.classes.split(/\s+/))),c.tooltip&&(p=c.tooltip)),w+='<span class="'+l.join(" ")+'"'+(p?' title="'+p+'"':"")+">"+a+"<\/span>",a+=f;b.find("td").html(w)},fill:function(){var y,e,p=new Date(this.viewDate),o=p.getUTCFullYear(),k=p.getUTCMonth(),a=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),it=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),v=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,rt=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,ut=r[this.o.language].today||r.en.today||"",ft=r[this.o.language].clear||r.en.clear||"",et=r[this.o.language].titleFormat||r.en.titleFormat,f,w,h,s,c,nt,l,tt;if(!isNaN(o)&&!isNaN(k)){for(this.picker.find(".datepicker-days .datepicker-switch").text(i.formatDate(p,et,this.o.language)),this.picker.find("tfoot .today").text(ut).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(ft).toggle(this.o.clearBtn!==!1),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths(),f=u(o,k-1,28),w=i.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth()),f.setUTCDate(w),f.setUTCDate(w-(f.getUTCDay()-this.o.weekStart+7)%7),h=new Date(f),f.getUTCFullYear()<100&&h.setUTCFullYear(f.getUTCFullYear()),h.setUTCDate(h.getUTCDate()+42),h=h.valueOf(),c=[];f.valueOf()<h;){if(f.getUTCDay()===this.o.weekStart&&(c.push("<tr>"),this.o.calendarWeeks)){var d=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),g=new Date(Number(d)+(11-d.getUTCDay())%7*864e5),b=new Date(Number(b=u(g.getUTCFullYear(),0,1))+(11-b.getUTCDay())%7*864e5),ot=(g-b)/6048e5+1;c.push('<td class="cw">'+ot+"<\/td>")}s=this.getClassNames(f);s.push("day");this.o.beforeShowDay!==n.noop&&(e=this.o.beforeShowDay(this._utc_to_local(f)),e===t?e={}:"boolean"==typeof e?e={enabled:e}:"string"==typeof e&&(e={classes:e}),e.enabled===!1&&s.push("disabled"),e.classes&&(s=s.concat(e.classes.split(/\s+/))),e.tooltip&&(y=e.tooltip));s=n.unique(s);c.push('<td class="'+s.join(" ")+'"'+(y?' title="'+y+'"':"")+">"+f.getUTCDate()+"<\/td>");y=null;f.getUTCDay()===this.o.weekEnd&&c.push("<\/tr>");f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(c.join(""));nt=r[this.o.language].monthsTitle||r.en.monthsTitle||"Months";l=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?nt:o).end().find("span").removeClass("active");(n.each(this.dates,function(n,t){t.getUTCFullYear()===o&&l.eq(t.getUTCMonth()).addClass("active")}),(a>o||o>v)&&l.addClass("disabled"),o===a&&l.slice(0,it).addClass("disabled"),o===v&&l.slice(rt+1).addClass("disabled"),this.o.beforeShowMonth!==n.noop)&&(tt=this,n.each(l,function(i,r){var f=new Date(o,i,1),u=tt.o.beforeShowMonth(f);u===t?u={}:"boolean"==typeof u?u={enabled:u}:"string"==typeof u&&(u={classes:u});u.enabled!==!1||n(r).hasClass("disabled")||n(r).addClass("disabled");u.classes&&n(r).addClass(u.classes);u.tooltip&&n(r).prop("title",u.tooltip)}));this._fill_yearsView(".datepicker-years","year",10,1,o,a,v,this.o.beforeShowYear);this._fill_yearsView(".datepicker-decades","decade",100,10,o,a,v,this.o.beforeShowDecade);this._fill_yearsView(".datepicker-centuries","century",1e3,100,o,a,v,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),n=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&n<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==1/0&&n>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:case 3:case 4:this.o.startDate!==-(1/0)&&n<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});this.o.endDate!==1/0&&n>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){var r,c,o,e,f,s,l,a;t.preventDefault();t.stopPropagation();r=n(t.target);r.hasClass("datepicker-switch")&&this.showMode(1);a=r.closest(".prev, .next");a.length>0&&(c=i.modes[this.viewMode].navStep*(a.hasClass("prev")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,c),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,c),1===this.viewMode&&this._trigger("changeYear",this.viewDate)),this.fill());r.hasClass("today")&&(this.showMode(-2),this._setDate(h(),"linked"===this.o.todayBtn?null:"view"));r.hasClass("clear")&&this.clearDates();r.hasClass("disabled")||(r.hasClass("day")&&(o=parseInt(r.text(),10)||1,e=this.viewDate.getUTCFullYear(),f=this.viewDate.getUTCMonth(),r.hasClass("old")&&(0===f?(f=11,e-=1,s=!0,l=!0):(f-=1,s=!0)),r.hasClass("new")&&(11===f?(f=0,e+=1,s=!0,l=!0):(f+=1,s=!0)),this._setDate(u(e,f,o)),l&&this._trigger("changeYear",this.viewDate),s&&this._trigger("changeMonth",this.viewDate)),r.hasClass("month")&&(this.viewDate.setUTCDate(1),o=1,f=r.parent().find("span").index(r),e=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(f),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(u(e,f,o)),this.showMode()):this.showMode(-1),this.fill()),(r.hasClass("year")||r.hasClass("decade")||r.hasClass("century"))&&(this.viewDate.setUTCDate(1),o=1,f=0,e=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(e),r.hasClass("year")&&(this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(u(e,f,o))),r.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),3===this.o.minViewMode&&this._setDate(u(e,f,o))),r.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),4===this.o.minViewMode&&this._setDate(u(e,f,o))),this.showMode(-1),this.fill()));this.picker.is(":visible")&&this._focused_from&&n(this._focused_from).focus();delete this._focused_from},_toggle_multidate:function(n){var t=this.dates.contains(n);if(n||this.dates.clear(),-1!==t?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(n)):this.dates.push(n),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(n,t){t&&"date"!==t||this._toggle_multidate(n&&new Date(n));t&&"view"!==t||(this.viewDate=n&&new Date(n));this.fill();this.setValue();t&&"view"===t||this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input"));i&&i.change();!this.o.autoclose||t&&"date"!==t||this.hide()},moveDay:function(n,t){var i=new Date(n);return i.setUTCDate(n.getUTCDate()+t),i},moveWeek:function(n,t){return this.moveDay(n,7*t)},moveMonth:function(n,t){var f;if(!p(n))return this.o.defaultViewDate;if(!t)return n;var r,u,i=new Date(n.valueOf()),e=i.getUTCDate(),o=i.getUTCMonth(),s=Math.abs(t);if(t=t>0?1:-1,1===s)u=-1===t?function(){return i.getUTCMonth()===o}:function(){return i.getUTCMonth()!==r},r=o+t,i.setUTCMonth(r),(0>r||r>11)&&(r=(r+12)%12);else{for(f=0;s>f;f++)i=this.moveMonth(i,t);r=i.getUTCMonth();i.setUTCDate(e);u=function(){return r!==i.getUTCMonth()}}for(;u();)i.setUTCDate(--e),i.setUTCMonth(r);return i},moveYear:function(n,t){return this.moveMonth(n,12*t)},moveAvailableDate:function(n,t,i){do{if(n=this[i](n,t),!this.dateWithinRange(n))return!1;i="moveDay"}while(this.dateIsDisabled(n));return n},weekOfDateIsDisabled:function(t){return-1!==n.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(t){return this.weekOfDateIsDisabled(t)||n.grep(this.o.datesDisabled,function(n){return y(t,n)}).length>0},dateWithinRange:function(n){return n>=this.o.startDate&&n<=this.o.endDate},keydown:function(n){var t,i,f,r,u;if(!this.picker.is(":visible"))return void((40===n.keyCode||27===n.keyCode)&&(this.show(),n.stopPropagation()));f=!1;r=this.focusDate||this.viewDate;switch(n.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide();n.preventDefault();n.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;t=37===n.keyCode||38===n.keyCode?-1:1;0===this.viewMode?n.ctrlKey?(i=this.moveAvailableDate(r,t,"moveYear"),i&&this._trigger("changeYear",this.viewDate)):n.shiftKey?(i=this.moveAvailableDate(r,t,"moveMonth"),i&&this._trigger("changeMonth",this.viewDate)):37===n.keyCode||39===n.keyCode?i=this.moveAvailableDate(r,t,"moveDay"):this.weekOfDateIsDisabled(r)||(i=this.moveAvailableDate(r,t,"moveWeek")):1===this.viewMode?((38===n.keyCode||40===n.keyCode)&&(t=4*t),i=this.moveAvailableDate(r,t,"moveMonth")):2===this.viewMode&&((38===n.keyCode||40===n.keyCode)&&(t=4*t),i=this.moveAvailableDate(r,t,"moveYear"));i&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),n.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate;this.o.keyboardNavigation&&(this._toggle_multidate(r),f=!0);this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();this.picker.is(":visible")&&(n.preventDefault(),n.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.fill();this.hide()}f&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.isInput?u=this.element:this.component&&(u=this.element.find("input")),u&&u.change())},showMode:function(n){n&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+n)));this.picker.children("div").hide().filter(".datepicker-"+i.modes[this.viewMode].clsName).show();this.updateNavArrows()}};o=function(t,i){n(t).data("datepicker",this);this.element=n(t);this.inputs=n.map(i.inputs,function(n){return n.jquery?n[0]:n});delete i.inputs;e.call(n(this.inputs),i).on("changeDate",n.proxy(this.dateUpdated,this));this.pickers=n.map(this.inputs,function(t){return n(t).data("datepicker")});this.updateDates()};o.prototype={updateDates:function(){this.dates=n.map(this.pickers,function(n){return n.getUTCDate()});this.updateRanges()},updateRanges:function(){var t=n.map(this.dates,function(n){return n.valueOf()});n.each(this.pickers,function(n,i){i.setRange(t)})},dateUpdated:function(t){var f;if(!this.updating&&(this.updating=!0,f=n(t.target).data("datepicker"),"undefined"!=typeof f)){var i=f.getUTCDate(),e=n.inArray(t.target,this.inputs),r=e-1,u=e+1,o=this.inputs.length;if(-1!==e){if(n.each(this.pickers,function(n,t){t.getUTCDate()||t.setUTCDate(i)}),i<this.dates[r])for(;r>=0&&i<this.dates[r];)this.pickers[r--].setUTCDate(i);else if(i>this.dates[u])for(;o>u&&i>this.dates[u];)this.pickers[u++].setUTCDate(i);this.updateDates();delete this.updating}}},remove:function(){n.map(this.pickers,function(n){n.remove()});delete this.element.data().datepicker}};a=n.fn.datepicker;e=function(i){var u=Array.apply(null,arguments),r;if(u.shift(),this.each(function(){var h=n(this),t=h.data("datepicker"),c="object"==typeof i&&i;if(!t){var l=w(this,"date"),a=n.extend({},s,l,c),v=b(a.language),e=n.extend({},s,v,l,c);h.hasClass("input-daterange")||e.inputs?(n.extend(e,{inputs:e.inputs||h.find("input").toArray()}),t=new o(this,e)):t=new f(this,e);h.data("datepicker",t)}"string"==typeof i&&"function"==typeof t[i]&&(r=t[i].apply(t,u))}),r===t||r instanceof f||r instanceof o)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");return r};n.fn.datepicker=e;s=n.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:n.noop,beforeShowMonth:n.noop,beforeShowYear:n.noop,beforeShowDecade:n.noop,beforeShowCentury:n.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}};v=n.fn.datepicker.locale_opts=["format","rtl","weekStart"];n.fn.datepicker.Constructor=f;r=n.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}};i={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(n){return n%4==0&&n%100!=0||n%400==0},getDaysInMonth:function(n,t){return[31,i.isLeapYear(n)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(n){if("function"==typeof n.toValue&&"function"==typeof n.toDisplay)return n;var t=n.replace(this.validParts,"\x00").split("\x00"),i=n.match(this.validParts);if(!t||!t.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:t,parts:i}},parseDate:function(e,o,s,c){function rt(n,t){return t===!0&&(t=10),100>n&&(n+=2e3,n>(new Date).getFullYear()+t&&(n-=100)),n}function ut(){var n=this.slice(0,a[l].length),t=a[l].slice(0,n.length);return n.toLowerCase()===t.toLowerCase()}var p,st,tt,b;if(!e)return t;if(e instanceof Date)return e;if("string"==typeof o&&(o=i.parseFormat(o)),o.toValue)return o.toValue(e,o,s);var v,k,l,d,ft=/([\-+]\d+)([dmwy])/,a=e.match(/([\-+]\d+)([dmwy])/g),et={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},ot={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e)){for(e=new Date,l=0;l<a.length;l++)v=ft.exec(a[l]),k=parseInt(v[1]),d=et[v[2]],e=f.prototype[d](e,k);return u(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}if("undefined"!=typeof ot[e]&&(e=ot[e],a=e.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e))){for(e=new Date,l=0;l<a.length;l++)v=ft.exec(a[l]),k=parseInt(v[1]),d=et[v[2]],e=f.prototype[d](e,k);return u(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}a=e&&e.match(this.nonpunctuation)||[];e=new Date;var w,g,nt={},it=["yyyy","yy","M","MM","m","mm","d","dd"],y={yyyy:function(n,t){return n.setUTCFullYear(c?rt(t,c):t)},yy:function(n,t){return n.setUTCFullYear(c?rt(t,c):t)},m:function(n,t){if(isNaN(n))return n;for(t-=1;0>t;)t+=12;for(t%=12,n.setUTCMonth(t);n.getUTCMonth()!==t;)n.setUTCDate(n.getUTCDate()-1);return n},d:function(n,t){return n.setUTCDate(t)}};if(y.M=y.MM=y.mm=y.m,y.dd=y.d,e=h(),p=o.parts.slice(),a.length!==p.length&&(p=n(p).filter(function(t,i){return-1!==n.inArray(i,it)}).toArray()),a.length===p.length){for(l=0,st=p.length;st>l;l++){if(w=parseInt(a[l],10),v=p[l],isNaN(w))switch(v){case"MM":g=n(r[s].months).filter(ut);w=n.inArray(g[0],r[s].months)+1;break;case"M":g=n(r[s].monthsShort).filter(ut);w=n.inArray(g[0],r[s].monthsShort)+1}nt[v]=w}for(l=0;l<it.length;l++)b=it[l],b in nt&&!isNaN(nt[b])&&(tt=new Date(e),y[b](tt,nt[b]),isNaN(tt)||(e=tt))}return e},formatDate:function(t,u,f){var e;if(!t)return"";if("string"==typeof u&&(u=i.parseFormat(u)),u.toDisplay)return u.toDisplay(t,u,f);e={d:t.getUTCDate(),D:r[f].daysShort[t.getUTCDay()],DD:r[f].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:r[f].monthsShort[t.getUTCMonth()],MM:r[f].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};e.dd=(e.d<10?"0":"")+e.d;e.mm=(e.m<10?"0":"")+e.m;t=[];for(var s=n.extend([],u.separators),o=0,h=u.parts.length;h>=o;o++)s.length&&t.push(s.shift()),t.push(e[u.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"><\/th><\/tr><tr><th class="prev">&laquo;<\/th><th colspan="5" class="datepicker-switch"><\/th><th class="next">&raquo;<\/th><\/tr><\/thead>',contTemplate:'<tbody><tr><td colspan="7"><\/td><\/tr><\/tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"><\/th><\/tr><tr><th colspan="7" class="clear"><\/th><\/tr><\/tfoot>'};i.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+i.headTemplate+"<tbody><\/tbody>"+i.footTemplate+'<\/table><\/div><div class="datepicker-months"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-years"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-decades"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+'<\/table><\/div><div class="datepicker-centuries"><table class="table-condensed">'+i.headTemplate+i.contTemplate+i.footTemplate+"<\/table><\/div><\/div>";n.fn.datepicker.DPGlobal=i;n.fn.datepicker.noConflict=function(){return n.fn.datepicker=a,this};n.fn.datepicker.version="1.6.0";n(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var i=n(this);i.data("datepicker")||(t.preventDefault(),e.call(i,"show"))});n(function(){e.call(n('[data-provide="datepicker-inline"]'))})}),function(){var n,r,t,i,u,f={}.hasOwnProperty,e=function(n,t){function r(){this.constructor=n}for(var i in t)f.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};i=function(){function n(){this.options_index=0;this.parsed=[]}return n.prototype.add_node=function(n){return"OPTGROUP"===n.nodeName.toUpperCase()?this.add_group(n):this.add_option(n)},n.prototype.add_group=function(n){var i,f,t,e,r,u;for(i=this.parsed.length,this.parsed.push({array_index:i,group:!0,label:this.escapeExpression(n.label),title:n.title?n.title:void 0,children:0,disabled:n.disabled,classes:n.className}),r=n.childNodes,u=[],t=0,e=r.length;e>t;t++)f=r[t],u.push(this.add_option(f,i,n.disabled));return u},n.prototype.add_option=function(n,t,i){if("OPTION"===n.nodeName.toUpperCase())return(""!==n.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:n.value,text:n.text,html:n.innerHTML,title:n.title?n.title:void 0,selected:n.selected,disabled:i===!0?i:n.disabled,group_array_index:t,group_label:null!=t?this.parsed[t].label:null,classes:n.className,style:n.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1)},n.prototype.escapeExpression=function(n){var t,i;return null==n||n===!1?"":/[\&\<\>\"\'\`]/.test(n)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,n.replace(i,function(n){return t[n]||"&amp;"})):n},n}();i.select_to_array=function(n){var f,r,t,e,u;for(r=new i,u=n.childNodes,t=0,e=u.length;e>t;t++)f=u[t],r.add_node(f);return r.parsed};r=function(){function n(t,i){this.form_field=t;this.options=null!=i?i:{};n.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return n.prototype.set_default_values=function(){var n=this;return this.click_test_action=function(t){return n.test_active_click(t)},this.activate_action=function(t){return n.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY},n.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||n.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||n.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||n.default_no_result_text},n.prototype.choice_label=function(n){return this.include_group_label_in_selected&&null!=n.group_label?"<b class='group-name'>"+n.group_label+"<\/b>"+n.html:n.html},n.prototype.mouse_enter=function(){return this.mouse_on_container=!0},n.prototype.mouse_leave=function(){return this.mouse_on_container=!1},n.prototype.input_focus=function(){var n=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return n.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},n.prototype.input_blur=function(){var n=this;if(!this.mouse_on_container)return(this.active_field=!1,setTimeout(function(){return n.blur_test()},100))},n.prototype.results_option_build=function(n){var u,t,i,f,r,o,e;for(u="",f=0,e=this.results_data,r=0,o=e.length;o>r&&(t=e[r],i="",i=t.group?this.result_add_group(t):this.result_add_option(t),""!==i&&(f++,u+=i),(null!=n?n.first:void 0)&&(t.selected&&this.is_multiple?this.choice_build(t):t.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(t))),!(f>=this.max_shown_results));r++);return u},n.prototype.result_add_option=function(n){var t,i;return n.search_match&&this.include_option_in_results(n)?(t=[],n.disabled||n.selected&&this.is_multiple||t.push("active-result"),!n.disabled||n.selected&&this.is_multiple||t.push("disabled-result"),n.selected&&t.push("result-selected"),null!=n.group_array_index&&t.push("group-option"),""!==n.classes&&t.push(n.classes),i=document.createElement("li"),i.className=t.join(" "),i.style.cssText=n.style,i.setAttribute("data-option-array-index",n.array_index),i.innerHTML=n.search_text,n.title&&(i.title=n.title),this.outerHTML(i)):""},n.prototype.result_add_group=function(n){var i,t;return(n.search_match||n.group_match)&&n.active_options>0?(i=[],i.push("group-result"),n.classes&&i.push(n.classes),t=document.createElement("li"),t.className=i.join(" "),t.innerHTML=n.search_text,n.title&&(t.title=n.title),this.outerHTML(t)):""},n.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},n.prototype.reset_single_select_options=function(){var i,n,u,r,t;for(r=this.results_data,t=[],n=0,u=r.length;u>n;n++)i=r[n],i.selected?t.push(i.selected=!1):t.push(void 0);return t},n.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},n.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},n.prototype.winnow_results=function(){var e,n,h,u,t,i,r,o,c,f,l,s;for(this.no_results_clear(),u=0,i=this.get_search_text(),e=i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),c=new RegExp(e,"i"),h=this.get_search_regex(e),s=this.results_data,f=0,l=s.length;l>f;f++)n=s[f],n.search_match=!1,t=null,this.include_option_in_results(n)&&(n.group&&(n.group_match=!1,n.active_options=0),null!=n.group_array_index&&this.results_data[n.group_array_index]&&(t=this.results_data[n.group_array_index],0===t.active_options&&t.search_match&&(u+=1),t.active_options+=1),n.search_text=n.group?n.label:n.html,(!n.group||this.group_search)&&(n.search_match=this.search_string_match(n.search_text,h),n.search_match&&!n.group&&(u+=1),n.search_match?(i.length&&(r=n.search_text.search(c),o=n.search_text.substr(0,r+i.length)+"<\/em>"+n.search_text.substr(r+i.length),n.search_text=o.substr(0,r)+"<em>"+o.substr(r)),null!=t&&(t.group_match=!0)):null!=n.group_array_index&&this.results_data[n.group_array_index].search_match&&(n.search_match=!0)));return this.result_clear_highlight(),1>u&&i.length?(this.update_results_content(""),this.no_results(i)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},n.prototype.get_search_regex=function(n){var t;return t=this.search_contains?"":"^",new RegExp(t+n,"i")},n.prototype.search_string_match=function(n,t){var u,i,r,f;if(t.test(n))return!0;if(this.enable_split_word_search&&(n.indexOf(" ")>=0||0===n.indexOf("["))&&(i=n.replace(/\[|\]/g,"").split(" "),i.length))for(r=0,f=i.length;f>r;r++)if(u=i[r],t.test(u))return!0},n.prototype.choices_count=function(){var i,n,r,t;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,t=this.form_field.options,n=0,r=t.length;r>n;n++)i=t[n],i.selected&&(this.selected_option_count+=1);return this.selected_option_count},n.prototype.choices_click=function(n){return n.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},n.prototype.keyup_checker=function(n){var t,i;switch(t=null!=(i=n.which)?i:n.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(n.preventDefault(),this.results_showing)return this.result_select(n);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:case 18:break;default:return this.results_search()}},n.prototype.clipboard_event_checker=function(){var n=this;return setTimeout(function(){return n.results_search()},50)},n.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},n.prototype.include_option_in_results=function(n){return this.is_multiple&&!this.display_selected_options&&n.selected?!1:!this.display_disabled_options&&n.disabled?!1:n.empty?!1:!0},n.prototype.search_results_touchstart=function(n){return this.touch_started=!0,this.search_results_mouseover(n)},n.prototype.search_results_touchmove=function(n){return this.touch_started=!1,this.search_results_mouseout(n)},n.prototype.search_results_touchend=function(n){if(this.touch_started)return this.search_results_mouseup(n)},n.prototype.outerHTML=function(n){var t;return n.outerHTML?n.outerHTML:(t=document.createElement("div"),t.appendChild(n),t.innerHTML)},n.browser_is_supported=function(){return/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:/IEMobile/i.test(window.navigator.userAgent)?!1:/Windows Phone/i.test(window.navigator.userAgent)?!1:/BlackBerry/i.test(window.navigator.userAgent)?!1:/BB10/i.test(window.navigator.userAgent)?!1:"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!0},n.default_multiple_text="Select Some Options",n.default_single_text="Select an Option",n.default_no_result_text="No results match",n}();n=jQuery;n.fn.extend({chosen:function(i){return r.browser_is_supported()?this.each(function(){var u,r;return u=n(this),r=u.data("chosen"),"destroy"===i?void(r instanceof t&&r.destroy()):void(r instanceof t||u.data("chosen",new t(this,i)))}):this}});t=function(t){function r(){return u=r.__super__.constructor.apply(this,arguments)}return e(r,t),r.prototype.setup=function(){return this.form_field_jq=n(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},r.prototype.set_up_html=function(){var t,i;return t=["chosen-container"],t.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),i={"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=n("<div />",i),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /><\/li><\/ul><div class="chosen-drop"><ul class="chosen-results"><\/ul><\/div>'):this.container.html('<a class="chosen-single chosen-default"><span>'+this.default_text+'<\/span><div><b><\/b><\/div><\/a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /><\/div><ul class="chosen-results"><\/ul><\/div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},r.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},r.prototype.register_observers=function(){var n=this;return this.container.bind("touchstart.chosen",function(t){return n.container_mousedown(t),t.preventDefault()}),this.container.bind("touchend.chosen",function(t){return n.container_mouseup(t),t.preventDefault()}),this.container.bind("mousedown.chosen",function(t){n.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){n.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){n.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){n.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){n.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){n.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){n.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){n.search_results_mousewheel(t)}),this.search_results.bind("touchstart.chosen",function(t){n.search_results_touchstart(t)}),this.search_results.bind("touchmove.chosen",function(t){n.search_results_touchmove(t)}),this.search_results.bind("touchend.chosen",function(t){n.search_results_touchend(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t){n.results_update_field(t)}),this.form_field_jq.bind("chosen:activate.chosen",function(t){n.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){n.container_mousedown(t)}),this.form_field_jq.bind("chosen:close.chosen",function(t){n.input_blur(t)}),this.search_field.bind("blur.chosen",function(t){n.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){n.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){n.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){n.input_focus(t)}),this.search_field.bind("cut.chosen",function(t){n.clipboard_event_checker(t)}),this.search_field.bind("paste.chosen",function(t){n.clipboard_event_checker(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){n.choices_click(t)}):this.container.bind("click.chosen",function(n){n.preventDefault()})},r.prototype.destroy=function(){return n(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},r.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},r.prototype.container_mousedown=function(t){if(!this.is_disabled&&(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null==t||!n(t.target).hasClass("search-choice-close")))return(this.active_field?this.is_multiple||!t||n(t.target)[0]!==this.selected_item[0]&&!n(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),n(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},r.prototype.container_mouseup=function(n){if("ABBR"===n.target.nodeName&&!this.is_disabled)return this.results_reset(n)},r.prototype.search_results_mousewheel=function(n){var t;return n.originalEvent&&(t=n.originalEvent.deltaY||-n.originalEvent.wheelDelta||n.originalEvent.detail),null!=t?(n.preventDefault(),"DOMMouseScroll"===n.type&&(t=40*t),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},r.prototype.blur_test=function(){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},r.prototype.close_field=function(){return n(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},r.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},r.prototype.test_active_click=function(t){var i;return i=n(t.target).closest(".chosen-container"),i.length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},r.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=i.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},r.prototype.result_do_highlight=function(n){var t,i,r,f,u;if(n.length){if(this.result_clear_highlight(),this.result_highlight=n,this.result_highlight.addClass("highlighted"),r=parseInt(this.search_results.css("maxHeight"),10),u=this.search_results.scrollTop(),f=r+u,i=this.result_highlight.position().top+this.search_results.scrollTop(),t=i+this.result_highlight.outerHeight(),t>=f)return this.search_results.scrollTop(t-r>0?t-r:0);if(u>i)return this.search_results.scrollTop(i)}},r.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},r.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},r.prototype.update_results_content=function(n){return this.search_results.html(n)},r.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},r.prototype.set_tab_index=function(){var n;if(this.form_field.tabIndex)return(n=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=n)},r.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=n("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(n){return t.is_multiple?t.container_mousedown(n):t.activate_field()}):void 0},r.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},r.prototype.search_results_mouseup=function(t){var i;return i=n(t.target).hasClass("active-result")?n(t.target):n(t.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(t),this.search_field.focus()):void 0},r.prototype.search_results_mouseover=function(t){var i;return i=n(t.target).hasClass("active-result")?n(t.target):n(t.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},r.prototype.search_results_mouseout=function(t){if(n(t.target).hasClass("active-result"))return this.result_clear_highlight()},r.prototype.choice_build=function(t){var i,r,u=this;return i=n("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(t)+"<\/span>"),t.disabled?i.addClass("search-choice-disabled"):(r=n("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index}),r.bind("click.chosen",function(n){return u.choice_destroy_link_click(n)}),i.append(r)),this.search_container.before(i)},r.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(n(t.target))},r.prototype.choice_destroy=function(n){if(this.result_deselect(n[0].getAttribute("data-option-array-index")))return(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),n.parents("li").first().remove(),this.search_field_scale())},r.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},r.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},r.prototype.result_select=function(n){var i,t;if(this.result_highlight)return(i=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?i.removeClass("active-result"):this.reset_single_select_options(),i.addClass("result-selected"),t=this.results_data[i[0].getAttribute("data-option-array-index")],t.selected=!0,this.form_field.options[t.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(t):this.single_set_selected_text(this.choice_label(t)),(n.metaKey||n.ctrlKey)&&this.is_multiple||this.results_hide(),this.show_search_field_default(),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[t.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,n.preventDefault(),this.search_field_scale()))},r.prototype.single_set_selected_text=function(n){return null==n&&(n=this.default_text),n===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(n)},r.prototype.result_deselect=function(n){var t;return t=this.results_data[n],this.form_field.options[t.options_index].disabled?!1:(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},r.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"><\/abbr>'),this.selected_item.addClass("chosen-single-with-deselect"))},r.prototype.get_search_text=function(){return n("<div/>").text(n.trim(this.search_field.val())).html()},r.prototype.winnow_results_set_highlight=function(){var n,t;return t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),n=t.length?t.first():this.search_results.find(".active-result").first(),null!=n?this.result_do_highlight(n):void 0},r.prototype.no_results=function(t){var i;return i=n('<li class="no-results">'+this.results_none_found+' "<span><\/span>"<\/li>'),i.find("span").first().html(t),this.search_results.append(i),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},r.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},r.prototype.keydown_arrow=function(){var n;return this.results_showing&&this.result_highlight?(n=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(n):void 0:this.results_show()},r.prototype.keyup_arrow=function(){var n;return this.results_showing||this.is_multiple?this.result_highlight?(n=this.result_highlight.prevAll("li.active-result"),n.length?this.result_do_highlight(n.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},r.prototype.keydown_backstroke=function(){var n;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(n=this.search_container.siblings("li.search-choice").last(),n.length&&!n.hasClass("search-choice-disabled")?(this.pending_backstroke=n,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},r.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},r.prototype.keydown_checker=function(n){var t,i;switch(t=null!=(i=n.which)?i:n.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(n);this.mouse_on_container=!1;break;case 13:this.results_showing&&n.preventDefault();break;case 32:this.disable_search&&n.preventDefault();break;case 38:n.preventDefault();this.keyup_arrow();break;case 40:n.preventDefault();this.keydown_arrow()}},r.prototype.search_field_scale=function(){var t,u,h,f,e,o,i,r,s;if(this.is_multiple){for(h=0,i=0,e="position:absolute; left: -1000px; top: -1000px; display:none;",o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],r=0,s=o.length;s>r;r++)f=o[r],e+=f+":"+this.search_field.css(f)+";";return t=n("<div />",{style:e}),t.text(this.search_field.val()),n("body").append(t),i=t.width()+25,t.remove(),u=this.container.outerWidth(),i>u-10&&(i=u-10),this.search_field.css({width:i+"px"})}},r}(r)}.call(this),function(n){var t="columnizer-original-dom";n.fn.columnize=function(i){function r(n,t){try{n.append(t)}catch(i){n[0].appendChild(t[0])}}this.each(function(){var i=n(this);i.data(t,i.clone(!0,!0))});this.cols=[];this.offset=0;this.before=[];this.lastOther=0;this.prevMax=0;this.debug=0;this.setColumnStart=null;this.elipsisText="";var u={width:400,columns:!1,buildOnce:!1,overflow:!1,doneFunc:function(){},target:!1,ignoreImageLoading:!0,columnFloat:"left",lastNeverTallest:!1,accuracy:!1,precise:!1,manualBreaks:!1,cssClassPrefix:"",elipsisText:"...",debug:0};return i=n.extend(u,i),typeof i.width=="string"&&(i.width=parseInt(i.width,10),isNaN(i.width)&&(i.width=u.width)),typeof i.setColumnStart=="function"&&(this.setColumnStart=i.setColumnStart),typeof i.elipsisText=="string"&&(this.elipsisText=i.elipsisText),i.debug&&(this.debug=i.debug),i.setWidth||(i.setWidth=i.precise?function(n){return 100/n}:function(n){return Math.floor(100/n)}),this.each(function(){function f(n,t){var i=t?".":"";return h.length?i+h+"-"+n:i+n}function a(t,u,e,o){for(var v,p,w,c,h,y,b,l,a;(s||e.height()<o)&&u[0].childNodes.length;){if(v=u[0].childNodes[0],n(v).find(f("columnbreak",!0)).length)return;if(n(v).hasClass(f("columnbreak")))return;r(t,n(v))}if(t[0].childNodes.length!==0){if(p=t[0].childNodes,w=p[p.length-1],t[0].removeChild(w),c=n(w),c[0].nodeType==3){for(h=c[0].nodeValue,y=i.width/18,i.accuracy&&(y=i.accuracy),l=null;e.height()<o&&h.length;)a=h.indexOf(" ",y),b=a!=-1?h.substring(0,a):h,l=document.createTextNode(b),r(t,n(l)),h=h.length>y&&a!=-1?h.substring(a):"";if(e.height()>=o&&l!==null&&(t[0].removeChild(l),h=l.nodeValue+h),h.length)c[0].nodeValue=h;else return!1}return u.contents().length?u.prepend(c):r(u,c),c[0].nodeType==3}}function v(n,t,i,u){var e,o,c,h,l,y;if(!n.contents(":last").find(f("columnbreak",!0)).length&&!n.contents(":last").hasClass(f("columnbreak"))&&t.contents().length){if(e=t.contents(":first"),typeof e.get(0)=="undefined"||e.get(0).nodeType!=1)return;o=e.clone(!0);e.hasClass(f("columnbreak"))?(r(n,o),e.remove()):s?(r(n,o),e.remove()):o.get(0).nodeType!=1||o.hasClass(f("dontend"))||(r(n,o),o.is("img")&&i.height()<u+20?e.remove():e.hasClass(f("dontsplit"))&&i.height()<u+20?e.remove():o.is("img")||e.hasClass(f("dontsplit"))?o.remove():(o.empty(),a(o,e,i,u)?e.addClass(f("split")):(e.addClass(f("split")),e.get(0).tagName=="OL"&&(c=o.get(0).childElementCount+o.get(0).start,e.attr("start",c+1)),e.children().length&&v(o,e,i,u)),o.get(0).childNodes.length===0?(o.remove(),e.removeClass(f("split"))):o.get(0).childNodes.length==1&&(h=o.get(0).childNodes[0],h.nodeType==3&&(l=/\S/,y=h.nodeValue,l.test(y)||(o.remove(),e.removeClass(f("split")))))))}}function b(){var c,l,h,u,s,y;if(!t.data("columnized")||t.children().length!=1){if(t.data("columnized",!0),t.data("columnizing",!0),t.empty(),t.append(n("<div class='"+f("first")+" "+f("last")+" "+f("column")+" ' style='width:100%; float: "+i.columnFloat+";'><\/div>")),$col=t.children().eq(t.children().length-1),$destroyable=e.clone(!0),i.overflow){for(targetHeight=i.overflow.height,a($col,$destroyable,$col,targetHeight),$destroyable.contents().find(":first-child").hasClass(f("dontend"))||v($col,$destroyable,$col,targetHeight);$col.contents(":last").length&&o($col.contents(":last").get(0));)c=$col.contents(":last"),c.remove(),$destroyable.prepend(c);for(l="",h=document.createElement("DIV");$destroyable[0].childNodes.length>0;){if(u=$destroyable[0].childNodes[0],u.attributes)for(s=0;s<u.attributes.length;s++)u.attributes[s].nodeName.indexOf("jQuery")===0&&u.removeAttribute(u.attributes[s].nodeName);h.innerHTML="";h.appendChild($destroyable[0].childNodes[0]);l+=h.innerHTML}y=n(i.overflow.id)[0];y.innerHTML=l}else r($col,$destroyable.contents());t.data("columnizing",!1);i.overflow&&i.overflow.doneFunc&&i.overflow.doneFunc();i.doneFunc()}}function o(t){return t.nodeType==3?/^\s+$/.test(t.nodeValue)?t.previousSibling?o(t.previousSibling):!1:!1:t.nodeType!=1?!1:n(t).hasClass(f("dontend"))?!0:t.childNodes.length===0?!1:o(t.childNodes[t.childNodes.length-1])}function w(){var g,l,nt,u,et,h,vt,yt,ot,ut,rt,pt,ft;if(c=0,p!=t.width()){p=t.width();var w=Math.round(t.width()/i.width),tt=i.width,at=i.height;if(i.columns&&(w=i.columns),s&&(w=e.find(f("columnbreak",!0)).length+1,tt=!1),w<=1)return b();if(!t.data("columnizing")){t.data("columnized",!0);t.data("columnizing",!0);t.empty();t.append(n("<div style='width:"+i.setWidth(w)+"%; float: "+i.columnFloat+";'><\/div>"));u=t.children(":last");r(u,e.clone());y=u.height();t.empty();var k=y/w,d=3,it=!1;for(i.overflow?(d=1,k=i.overflow.height):at&&tt&&(d=1,k=at,it=!0),g=0;g<d&&g<20;g++){t.empty();try{l=e.clone(!0)}catch(kt){l=e.clone()}for(l.css("visibility","hidden"),h=0;h<w;h++)nt=h===0?f("first"):"",nt+=" "+f("column"),nt=h==w-1?f("last")+" "+nt:nt,t.append(n("<div class='"+nt+"' style='width:"+i.setWidth(w)+"%; float: "+i.columnFloat+";'><\/div>"));for(h=0;h<w-(i.overflow?0:1)||it&&l.contents().length;){for(t.children().length<=h&&t.append(n("<div class='"+nt+"' style='width:"+i.setWidth(w)+"%; float: "+i.columnFloat+";'><\/div>")),u=t.children().eq(h),it&&u.width(tt+"px"),a(u,l,u,k),v(u,l,u,k);u.contents(":last").length&&o(u.contents(":last").get(0));)et=u.contents(":last"),et.remove(),l.prepend(et);h++;u.contents().length===0&&l.contents().length?u.append(l.contents(":first")):h!=w-(i.overflow?0:1)||i.overflow||l.find(f("columnbreak",!0)).length&&w++}if(i.overflow&&!it)if(vt=!1,yt=document.all&&navigator.appVersion.indexOf("MSIE 7.")!=-1,vt||yt){for(ot="",ut=document.createElement("DIV");l[0].childNodes.length>0;){for(rt=l[0].childNodes[0],h=0;h<rt.attributes.length;h++)rt.attributes[h].nodeName.indexOf("jQuery")===0&&rt.removeAttribute(rt.attributes[h].nodeName);ut.innerHTML="";ut.appendChild(l[0].childNodes[0]);ot+=ut.innerHTML}pt=n(i.overflow.id)[0];pt.innerHTML=ot}else n(i.overflow.id).empty().append(l.contents().clone(!0));else if(it)t.children().each(function(n){u=t.children().eq(n);u.width(tt+"px");n===0?u.addClass(f("first")):n==t.children().length-1?u.addClass(f("last")):(u.removeClass(f("first")),u.removeClass(f("last")))}),t.width(t.children().length*tt+"px");else{u=t.children().eq(t.children().length-1);l.contents().each(function(){u.append(n(this))});var bt=u.height(),dt=bt-k,st=0,ht=1e7,ct=0,lt=!1,wt=0;t.children().each(function(n){return function(t){var r=n.children().eq(t),u=r.children(":last").find(f("columnbreak",!0)).length,i;u||(i=r.height(),lt=!1,st+=i,i>ct&&(ct=i,lt=!0),i<ht&&(ht=i),wt++)}}(t));ft=st/wt;st===0?g=d:i.lastNeverTallest&&lt?(c+=5,k=k+30,g==d-1&&d++):ct-ht>30?k=ft+30:Math.abs(ft-k)>20?k=ft:g=d}t.append(n("<br style='clear:both;'>"))}t.find(f("column",!0)).find(":first"+f("removeiffirst",!0)).remove();t.find(f("column",!0)).find(":last"+f("removeiflast",!0)).remove();t.find(f("split",!0)).find(":first"+f("removeiffirst",!0)).remove();t.find(f("split",!0)).find(":last"+f("removeiflast",!0)).remove();t.data("columnizing",!1);i.overflow&&i.overflow.doneFunc();i.doneFunc()}}}var t=i.target?n(i.target):n(this),y=n(this).height(),e=n("<div><\/div>"),p=0,s=i.manualBreaks,h=u.cssClassPrefix,c,l;if(typeof i.cssClassPrefix=="string"&&(h=i.cssClassPrefix),c=0,r(e,n(this).contents().clone(!0)),!i.ignoreImageLoading&&!i.target&&!t.data("imageLoaded")&&(t.data("imageLoaded",!0),n(this).find("img").length>0)){l=function(n,t){return function(){n.data("firstImageLoaded")||(n.data("firstImageLoaded","true"),r(n.empty(),t.children().clone(!0)),n.columnize(i))}}(n(this),e);n(this).find("img").one("load",l);n(this).find("img").one("abort",l);return}t.empty();w();i.buildOnce||n(window).resize(function(){i.buildOnce||(t.data("timeout")&&clearTimeout(t.data("timeout")),t.data("timeout",setTimeout(w,200)))})})};n.fn.uncolumnize=function(){this.each(function(){var i=n(this),r;(r=i.data(t))&&i.replaceWith(r)})};n.fn.renumberByJS=function(t,i,r,u){var s,f,h,e,c,o,l,a;if(this.setList=function(t,i,r){var c=this.before.parents(),o,u,h,f,s,e;return(o=n(t[this.offset-1]).find(">*"),o.last()[0].tagName!=r.toUpperCase())?(this.debug&&console.log("Last item in previous column, isn't a list..."),0):(o=o.length,u=1,u=this.lastOther<=0?this.before.children().length+1:n(c[this.lastOther]).children().length+1,n(t[this.offset]).find(r+":first li.split").length&&(h=n(t[this.offset-1]).find(r+":last li:last"),this.elipsisText===""||n(t[this.offset-1]).find(r+":last ~ div").length||n(t[this.offset-1]).find(r+":last ~ p").length||n(h).find("ul, ol, dl").length==0&&(f=h.last().text(),s=f.length,f.substring(s-1)==";"?f.substring(s-4)!=this.elipsisText+";"&&(f=f.substring(0,s-1)+this.elipsisText+";"):f.substring(s-3)!=this.elipsisText&&(f+=this.elipsisText),h.last().text(f)),n(t[this.offset]).find(r+":first >li.split >"+r).length==0&&u--),o==1&&(u+=this.prevMax),this.nest>1?(this.debug&&console.log("Supposed to be a nested list...decr"),u--,e=n(t[this.offset-1]).find(r+":first li.split:first"),e.length>0&&(this.debug&&console.log("Previous column started with a split item, so that count is one less than expected"),u--),e=n(t[this.offset]).find(r+":first li:first").clone(),e.children().remove(),n.trim(e.text()).length>0&&(this.debug&&console.log("If that was a complete list in the previous column, don't decr."),u++,n(t[this.offset-1]).find(">"+r+":last ").children().length==0&&(this.debug&&console.log("unless that was empty, in which case revert"),u--))):(e=n(t[this.offset]).find(r+":first li:first "+r+".split li.split"),e.length>0&&(this.debug&&console.log("[Nested] Column started with a split item, so that count is one less than expected"),u--)),this.debug&&console.log("Setting the start value to "+u+" ("+this.prevMax+")"),u>0&&(typeof this.setColumnStart=="function"?this.setColumnStart(i,u):i.attr("start",u)),0)},typeof r=="undefined"&&(r=!1),typeof u=="undefined"&&(u=!1),!r&&!u)throw"renumberByJS(): Bad param, must pass an id or a class";for(s="",this.prevMax=1,s=u?"."+u:"#"+r,f=t.toLowerCase(),h=t.toUpperCase(),this.cols=n(s),this.debug&&console.log("There are "+this.cols.length+" items, looking for "+f),this.before=n(this.cols[0]).find(f+":last"),this.prevMax=this.before.children().length,this.offset=1;this.offset<this.cols.length;this.offset++){if(this.debug&&console.log("iterating "+this.offset+"...[of "+this.cols.length+"]"),this.offset%i==0){this.debug&&console.log("First column (in theory..)");this.prevMax=1;continue}if(this.before=n(this.cols[this.offset-1]).find(f+":last"),this.before.length){if(this.debug&&console.log("Have some "+t+" elements in the previous column"),e=n(this.cols[this.offset]).find(f+":first"),c=n(this.cols[this.offset]).find("*:first"),c[0]!==e[0])continue;for(o=this.before.parents(),this.lastOther=0,l=!1;this.lastOther<o.length;this.lastOther++)if(o[this.lastOther].tagName!=h&&o[this.lastOther].tagName!="LI"){l=!0;this.lastOther--;break}this.nest=1;n(this.cols[this.offset]).find(">"+f+":first li "+f+":first").length&&(this.nest=2);this.setList(this.cols,e,f);this.lastOther--;e=n(this.cols[this.offset]).find(f+":first li "+f+":first");e.length&&(this.before=n(this.cols[this.offset-1]).find(">"+f+":last li "+f+":last"),this.prevMax=0,this.nest=1,this.setList(this.cols,e,f));a=n(this.cols[this.offset-1]).find(">"+f+":last");this.prevMax=a.children().length}}return 0}}(jQuery);$(document).ready(function(){loadCoreJS();$(window).resize(loadCoreJS);$(".main-gallery").length&&$(".main-gallery").flickity({watchCSS:!0,prevNextButtons:!1});$(".hc-keyword-input").focus(function(){$(this).attr("placeholder","")});$(".hc-keyword-input").blur(function(){$(this).attr("placeholder","Enter Keywords")});$("#hc-keyword-add, .hc-keyword-input").on("click keydown",function(n){if(n.type=="click"||n.type=="keydown"&&n.which==13){var t=$(this).parent().find(".hc-keyword-input").val(),i=$(".hc-saved-keyword[value='"+t+"']");if(t!=""&&i.length==0){$(".hc-mc-keywords-list").append("<div><span class='glyphicon glyphicon-remove hc-remove-keyword' tabindex='0'><\/span><input class='hc-saved-keyword' type='text' name='k' value='"+t+"' readonly><\/div>");$(".hc-remove-keyword").on("click keydown",function(n){(n.type=="click"||n.type=="keydown"&&n.which==13)&&($(this).parent().remove(),$(".hc-keyword-input").focus(),handleFilterChange())});$(this).parent().find(".hc-keyword-input").val("");n.preventDefault();handleFilterChange()}}});$(".hc-remove-keyword").on("click keydown",function(n){(n.type=="click"||n.type=="keydown"&&n.which==13)&&($(this).parent().remove(),$(".hc-keyword-input").focus(),handleFilterChange())});$(".hc-filter-checkbox :input:checkbox, .hc-datepicker :input:text, select.hc-report-form-input").on("change",function(){handleFilterChange()});$("#hc-filter-form").submit(function(){location.hash.length>0&&location.hash!="#"&&$("#hc-filter-form :input[name='h']").val(location.hash.substring(1))});$(".hc-dual-tab-content.right").hide();$(".hc-dual-tab-content-hero-image-contents-button.drop-down").click(function(){var n;$(this).hasClass("expanded")?($(this).removeClass("expanded"),n=$(this).find(".glyphicon"),n.removeClass("glyphicon-menu-up"),n.addClass("glyphicon-menu-down")):($(this).addClass("expanded"),n=$(this).find(".glyphicon"),n.removeClass("glyphicon-menu-down"),n.addClass("glyphicon-menu-up"))});var n=function(){var n=location.hash;switch(n){case"#left":$(".hc-dual-tab-content.left").show();$(".hc-dual-tab-content.right").hide();$(".hc-dual-tab.right").removeClass("selected");$(".hc-dual-tab.left").addClass("selected");break;case"#right":$(".hc-dual-tab-content.right").show();$(".hc-dual-tab-content.left").hide();$(".hc-dual-tab.left").removeClass("selected");$(".hc-dual-tab.right").addClass("selected")}};n();window.onhashchange=n;$(".hc-filter-header").click(function(){var n;$(this).hasClass("expanded")?($(".hc-filter-content").slideUp(200),$(this).removeClass("expanded"),n=$(this).find(".fa-angle-up"),n.removeClass("fa-angle-up"),n.addClass("fa-angle-down")):($(".hc-filter-content").slideDown(200),$(this).addClass("expanded"),n=$(this).find(".fa-angle-down"),n.removeClass("fa-angle-down"),n.addClass("fa-angle-up"))});$(".hc-left-slide-nav-toggle").find("div").click(function(){var n;$(".hc-left-slide-nav").hasClass("expanded")?($(".hc-left-slide-nav").removeClass("expanded"),$(".hc-left-slide-nav").slideUp(200),n=$(this).find(".fa-chevron-up"),n.removeClass("fa-chevron-up"),n.addClass("fa-chevron-down")):($(".hc-left-slide-nav").slideDown(200),$(".hc-left-slide-nav").addClass("expanded"),n=$(this).find(".fa-chevron-down"),n.removeClass("fa-chevron-down"),n.addClass("fa-chevron-up"))});$(".hc-left-slide-nav-cell").on("click keydown",function(n){var t,i;(n.type=="click"||n.type=="keydown"&&n.which==13)&&(t=$(".hc-left-slide-nav-cell.selected"),t.removeClass("selected"),$(this).addClass("selected"),n.preventDefault(),i=$(this).parent().attr("href"),$("html, body").animate({scrollTop:$(i).offset().top},500),$(this).focus())});$(".hc-map-v2").each(function(){var n=new HcMap($(this),"/assets/map/templates/")})});$(document).ready(function(){function t(){var t=!0,i=!0,r=!1,u=!1,f=!1;if(window.matchMedia("(min-width: 768px)").matches&&n!="desktop"){n="desktop";$(".hc-header-content").removeClass("animated");$(".hc-header-content").show();$(".hc-link-pane-container").hide();$(".hc-pane-link-columns").show();$("#hc-want-to").hide();$("#hc-mobile-nav-open").off();$(".hc-dim").off();$(".hc-mobile-nav-close-button").off();$(".hc-link-pane-title").off();$(".hc-link-element").on("mouseenter",function(){var e=$(this),o=!0,f,t,n;for($(this).mouseleave(function(){o=!1}),i=!1,f=$(this).attr("id"),t=document.getElementsByClassName("hc-link-element"),n=0;n<t.length;n++)jQuery(t[n]).removeClass("hc-selected");if(r)if(u)setTimeout(function(){var t,n;for(e.addClass("hc-selected"),t=document.getElementsByClassName("hc-link-pane-container"),n=0;n<t.length;n++)jQuery(t[n]).hide();$("#"+f+"-link-container").show()},300);else{for(e.addClass("hc-selected"),t=document.getElementsByClassName("hc-link-pane-container"),n=0;n<t.length;n++)jQuery(t[n]).hide();$("#"+f+"-link-container").show()}else setTimeout(function(){o&&(e.addClass("hc-selected"),r=!0,u=!0,$("#"+f+"-link-container").slideDown(400,function(){u=!1}))},200)});$(".hc-link-element").find("a").keydown(function(n){if(n.which==13){var t=$(this).parent().attr("id"),i=$(document).find(".hc-selected").attr("id");i!=null?i!=t?i=="hc-want-to-link"?($(this).find(".hc-nav-want").removeClass("hc-selected"),$("#hc-want-to").slideUp(400),$(this).parent().addClass("hc-selected"),$("#"+t+"-link-container").slideDown(400)):($("#"+i+"-link-container").hide(),$(document).find(".hc-selected").removeClass("hc-selected"),$(this).parent().addClass("hc-selected"),$("#"+t+"-link-container").show()):($(this).parent().removeClass("hc-selected"),$("#"+t+"-link-container").slideUp(400)):($(this).parent().addClass("hc-selected"),$("#"+t+"-link-container").slideDown(400))}});$(".hc-link-pane-container").mouseenter(function(){i=!1});$(".hc-link-element, .hc-link-pane-container").mouseleave(function(){i=!0;setTimeout(function(){i&&($(".hc-link-element").removeClass("hc-selected"),$(".hc-link-pane-container").slideUp(400,function(){r=!1}))},100)});$(".hc-want-to-element").mouseenter(function(){var n=!0,i=$(this);t=!1;$(this).mouseleave(function(){n=!1});setTimeout(function(){n&&(i.addClass("hc-selected"),$("#hc-want-to").slideDown(400,function(){}))},200);f=!0});$(".hc-want-to-element").find("a").keydown(function(n){if(n.which==13){var t=$(document).find(".hc-selected").attr("id");t!=null?t!="hc-want-to-link"?($("#"+t+"-link-container").slideUp(400),$(document).find(".hc-selected").removeClass("hc-selected"),$(this).find(".hc-nav-want").addClass("hc-selected"),$("#hc-want-to").slideDown(400)):($(this).find(".hc-nav-want").removeClass("hc-selected"),$("#hc-want-to").slideUp(400)):($(this).find(".hc-nav-want").addClass("hc-selected"),$("#hc-want-to").slideDown(400))}});$(".hc-want-to-container").mouseenter(function(){t=!1});$("#hc-want-to, .hc-want-to-element").mouseleave(function(){t=!0;setTimeout(function(){t&&(f=!1,$(".hc-want-to-element").removeClass("hc-selected"),$("#hc-want-to").slideUp(400,function(){}))},100)});$(".hc-link-element, .hc-search-element").mouseenter(function(){t=!0;$(".hc-want-to-element").removeClass("hc-selected");$("#hc-want-to").slideUp(400,function(){});f=!1});$("#hc-nav-search-input").focus(function(){for(var t=document.getElementsByClassName("hc-link-element"),n=0;n<t.length;n++)jQuery(t[n]).fadeOut(100);$(".hc-want-to-element").fadeOut(100);setTimeout(function(){$(".hc-nav-search").addClass("hc-search-expanded");$(".hc-nav-search-remove-icon").show()},100)}).blur(function(){$(".hc-nav-search-remove-icon").hide();$(".hc-nav-search").removeClass("hc-search-expanded");setTimeout(function(){for(var t=document.getElementsByClassName("hc-link-element"),n=0;n<t.length;n++)jQuery(t[n]).fadeIn(100);$(".hc-want-to-element").fadeIn(100)},300)})}else window.matchMedia("(max-width: 767px)").matches&&n!="mobile"&&(n="mobile",$(".hc-link-element").off(),$(".hc-link-element").find("a").off(),$(".hc-link-pane-container").off(),$(".hc-want-to-element").off(),$(".hc-want-to-element").find("a").off(),$(".hc-want-to-container").off(),$("#hc-want-to").off(),$(".hc-search-element").off(),$("#hc-nav-search-input").unbind("focus"),$("#hc-nav-search-input").unbind("blur"),$(".hc-link-pane-container").show(),$(".hc-want-to-container").show(),$(".hc-header-content").addClass("animated"),$("#hc-mobile-nav-open").click(function(){$(".hc-header-content").show();setTimeout(function(){$(".hc-header-content").addClass("expanded");$(".hc-dim").fadeIn()},50)}),$(".hc-dim, .hc-mobile-nav-close-button").click(function(){$(".hc-header-content").removeClass("expanded");$(".hc-dim").fadeOut();setTimeout(function(){$(".hc-header-content").hide()},400)}),$(".hc-link-pane-title").click(function(){var n=$(this).parent().parent().find(".hc-pane-link-columns"),i=$(this).parent().parent().parent().attr("id"),r=$(".hc-link-pane-container").find(".hc-pane-link-columns").each(function(){if($(this).hasClass("expanded")&&$(this).parent().parent().parent().parent().attr("id")!=i){$(this).removeClass("expanded");var n=$(this).parent().parent().parent().find(".glyphicon.glyphicon-menu-up");jQuery(n).removeClass("glyphicon-menu-up");jQuery(n).addClass("glyphicon-menu-down");$(this).slideUp(400,function(){$(this).hide()})}}),t;jQuery(n).hasClass("expanded")?(jQuery(n).removeClass("expanded"),t=$(this).find(".glyphicon.glyphicon-menu-up"),jQuery(t).removeClass("glyphicon-menu-up"),jQuery(t).addClass("glyphicon-menu-down"),jQuery(n).slideUp(400,function(){jQuery(n).hide();jQuery(n).removeClass("exclude")})):(jQuery(n).addClass("expanded"),t=$(this).find(".glyphicon.glyphicon-menu-down"),jQuery(t).removeClass("glyphicon-menu-down"),jQuery(t).addClass("glyphicon-menu-up"),jQuery(n).slideDown(400,function(){jQuery(n).show()}))}))}var n="";$(document).keyup(function(n){n.keyCode==27&&$("#hc-nav-search-input").blur()});$("#hc-header-alert-close").on("click keydown",function(n){(n.type=="click"||n.type=="keydown"&&n.which==13)&&$(".hc-header-alert").slideUp(400,function(){$(".hc-header-alert").removeClass("shown");$(document).trigger("headerAlertClose")})});$(".hc-nav-search").focus(function(){$(this).attr("placeholder","")});$(".hc-nav-search").blur(function(){$(this).attr("placeholder","Search")});t();$(window).resize(t)});!function(n){function i(){}function t(n){function u(t){t.prototype.option||(t.prototype.option=function(t){n.isPlainObject(t)&&(this.options=n.extend(!0,this.options,t))})}function f(i,u){n.fn[i]=function(f){var h,e,s;if("string"==typeof f){for(var c=r.call(arguments,1),o=0,l=this.length;l>o;o++)if(h=this[o],e=n.data(h,i),e)if(n.isFunction(e[f])&&"_"!==f.charAt(0)){if(s=e[f].apply(e,c),void 0!==s)return s}else t("no such method '"+f+"' for "+i+" instance");else t("cannot call methods on "+i+" prior to initialization; attempted to call '"+f+"'");return this}return this.each(function(){var t=n.data(this,i);t?(t.option(f),t._init()):(t=new u(this,f),n.data(this,i,t))})}}if(n){var t="undefined"==typeof console?i:function(n){console.error(n)};return n.bridget=function(n,t){u(t);f(n,t)},n.bridget}}var r=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],t):t("object"==typeof exports?require("jquery"):n.jQuery)}(window),function(n){function f(n){return new RegExp("(^|\\s+)"+n+"(\\s+|$)")}function e(n,u){var f=t(n,u)?r:i;f(n,u)}var t,i,r,u;"classList"in document.documentElement?(t=function(n,t){return n.classList.contains(t)},i=function(n,t){n.classList.add(t)},r=function(n,t){n.classList.remove(t)}):(t=function(n,t){return f(t).test(n.className)},i=function(n,i){t(n,i)||(n.className=n.className+" "+i)},r=function(n,t){n.className=n.className.replace(f(t)," ")});u={hasClass:t,addClass:i,removeClass:r,toggleClass:e,has:t,add:i,remove:r,toggle:e};"function"==typeof define&&define.amd?define("classie/classie",u):"object"==typeof exports?module.exports=u:n.classie=u}(window),function(){"use strict";function t(){}function u(n,t){for(var i=n.length;i--;)if(n[i].listener===t)return i;return-1}function i(n){return function(){return this[n].apply(this,arguments)}}var n=t.prototype,r=this,f=r.EventEmitter;n.getListeners=function(n){var r,t,i=this._getEvents();if(n instanceof RegExp){r={};for(t in i)i.hasOwnProperty(t)&&n.test(t)&&(r[t]=i[t])}else r=i[n]||(i[n]=[]);return r};n.flattenListeners=function(n){for(var i=[],t=0;t<n.length;t+=1)i.push(n[t].listener);return i};n.getListenersAsObject=function(n){var t,i=this.getListeners(n);return i instanceof Array&&(t={},t[n]=i),t||i};n.addListener=function(n,t){var i,r=this.getListenersAsObject(n),f="object"==typeof t;for(i in r)r.hasOwnProperty(i)&&-1===u(r[i],t)&&r[i].push(f?t:{listener:t,once:!1});return this};n.on=i("addListener");n.addOnceListener=function(n,t){return this.addListener(n,{listener:t,once:!0})};n.once=i("addOnceListener");n.defineEvent=function(n){return this.getListeners(n),this};n.defineEvents=function(n){for(var t=0;t<n.length;t+=1)this.defineEvent(n[t]);return this};n.removeListener=function(n,t){var f,i,r=this.getListenersAsObject(n);for(i in r)r.hasOwnProperty(i)&&(f=u(r[i],t),-1!==f&&r[i].splice(f,1));return this};n.off=i("removeListener");n.addListeners=function(n,t){return this.manipulateListeners(!1,n,t)};n.removeListeners=function(n,t){return this.manipulateListeners(!0,n,t)};n.manipulateListeners=function(n,t,i){var r,u,f=n?this.removeListener:this.addListener,e=n?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=i.length;r--;)f.call(this,t,i[r]);else for(r in t)t.hasOwnProperty(r)&&(u=t[r])&&("function"==typeof u?f.call(this,r,u):e.call(this,r,u));return this};n.removeEvent=function(n){var t,r=typeof n,i=this._getEvents();if("string"===r)delete i[n];else if(n instanceof RegExp)for(t in i)i.hasOwnProperty(t)&&n.test(t)&&delete i[t];else delete this._events;return this};n.removeAllListeners=i("removeEvent");n.emitEvent=function(n,t){var i,f,r,e,u=this.getListenersAsObject(n);for(r in u)if(u.hasOwnProperty(r))for(f=u[r].length;f--;)i=u[r][f],i.once===!0&&this.removeListener(n,i.listener),e=i.listener.apply(this,t||[]),e===this._getOnceReturnValue()&&this.removeListener(n,i.listener);return this};n.trigger=i("emitEvent");n.emit=function(n){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(n,t)};n.setOnceReturnValue=function(n){return this._onceReturnValue=n,this};n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0};n._getEvents=function(){return this._events||(this._events={})};t.noConflict=function(){return r.EventEmitter=f,t};"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:r.EventEmitter=t}.call(this),function(n){function f(t){var i=n.event;return i.target=i.target||i.srcElement||t,i}var t=document.documentElement,u=function(){},i,r;t.addEventListener?u=function(n,t,i){n.addEventListener(t,i,!1)}:t.attachEvent&&(u=function(n,t,i){n[t+i]=i.handleEvent?function(){var t=f(n);i.handleEvent.call(i,t)}:function(){var t=f(n);i.call(n,t)};n.attachEvent("on"+t,n[t+i])});i=function(){};t.removeEventListener?i=function(n,t,i){n.removeEventListener(t,i,!1)}:t.detachEvent&&(i=function(n,t,i){n.detachEvent("on"+t,n[t+i]);try{delete n[t+i]}catch(r){n[t+i]=void 0}});r={bind:u,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",r):"object"==typeof exports?module.exports=r:n.eventie=r}(window),function(n){function t(n){if(n){if("string"==typeof r[n])return n;n=n.charAt(0).toUpperCase()+n.slice(1);for(var t,u=0,f=i.length;f>u;u++)if(t=i[u]+n,"string"==typeof r[t])return t}}var i="Webkit Moz ms Ms O".split(" "),r=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return t}):"object"==typeof exports?module.exports=t:n.getStyleProperty=t}(window),function(n){function i(n){var t=parseFloat(n),i=-1===n.indexOf("%")&&!isNaN(t);return i&&t}function u(){}function f(){for(var r,i={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},n=0,u=t.length;u>n;n++)r=t[n],i[r]=0;return i}function r(r){function c(){var f,t,c,l;h||(h=!0,f=n.getComputedStyle,(o=function(){var n=f?function(n){return f(n,null)}:function(n){return n.currentStyle};return function(t){var i=n(t);return i||e("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),i}}(),u=r("boxSizing"))&&(t=document.createElement("div"),t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style[u]="border-box",c=document.body||document.documentElement,c.appendChild(t),l=o(t),s=200===i(l.width),c.removeChild(t)))}function l(n){var e,r,v,h,y,p;if(c(),"string"==typeof n&&(n=document.querySelector(n)),n&&"object"==typeof n&&n.nodeType){if(e=o(n),"none"===e.display)return f();r={};r.width=n.offsetWidth;r.height=n.offsetHeight;for(var tt=r.isBorderBox=!(!u||!e[u]||"border-box"!==e[u]),l=0,it=t.length;it>l;l++)v=t[l],h=e[v],h=a(n,h),y=parseFloat(h),r[v]=isNaN(y)?0:y;var w=r.paddingLeft+r.paddingRight,b=r.paddingTop+r.paddingBottom,rt=r.marginLeft+r.marginRight,ut=r.marginTop+r.marginBottom,k=r.borderLeftWidth+r.borderRightWidth,d=r.borderTopWidth+r.borderBottomWidth,g=tt&&s,nt=i(e.width);return nt!==!1&&(r.width=nt+(g?0:w+k)),p=i(e.height),p!==!1&&(r.height=p+(g?0:b+d)),r.innerWidth=r.width-(w+k),r.innerHeight=r.height-(b+d),r.outerWidth=r.width+rt,r.outerHeight=r.height+ut,r}}function a(t,i){if(n.getComputedStyle||-1===i.indexOf("%"))return i;var r=t.style,e=r.left,u=t.runtimeStyle,f=u&&u.left;return f&&(u.left=t.currentStyle.left),r.left=i,i=r.pixelLeft,r.left=e,f&&(u.left=f),i}var o,u,s,h=!1;return l}var e="undefined"==typeof console?u:function(n){console.error(n)},t=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],r):"object"==typeof exports?module.exports=r(require("desandro-get-style-property")):n.getSize=r(n.getStyleProperty)}(window),function(n){function t(n){"function"==typeof n&&(t.isReady?n():f.push(n))}function r(n){var r="readystatechange"===n.type&&"complete"!==i.readyState;t.isReady||r||e()}function e(){var n,i,r;for(t.isReady=!0,n=0,i=f.length;i>n;n++)r=f[n],r()}function u(u){return"complete"===i.readyState?e():(u.bind(i,"DOMContentLoaded",r),u.bind(i,"readystatechange",r),u.bind(n,"load",r)),t}var i=n.document,f=[];t.isReady=!1;"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],u):"object"==typeof exports?module.exports=u(require("eventie")):n.docReady=u(n.eventie)}(window),function(n){"use strict";function i(n,t){return n[u](t)}function r(n){if(!n.parentNode){var t=document.createDocumentFragment();t.appendChild(n)}}function o(n,t){r(n);for(var u=n.parentNode.querySelectorAll(t),i=0,f=u.length;f>i;i++)if(u[i]===n)return!0;return!1}function s(n,t){return r(n),i(n,t)}var t,u=function(){var u,i;if(n.matches)return"matches";if(n.matchesSelector)return"matchesSelector";for(var r=["webkit","moz","ms","o"],t=0,f=r.length;f>t;t++)if(u=r[t],i=u+"MatchesSelector",n[i])return i}(),f,e;u?(f=document.createElement("div"),e=i(f,"div"),t=e?i:s):t=o;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return t}):"object"==typeof exports?module.exports=t:window.matchesSelector=t}(Element.prototype),function(n,t){"use strict";"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(i,r){return t(n,i,r)}):"object"==typeof exports?module.exports=t(n,require("doc-ready"),require("desandro-matches-selector")):n.fizzyUIUtils=t(n,n.docReady,n.matchesSelector)}(window,function(n,t,i){var r={},f,u;return r.extend=function(n,t){for(var i in t)n[i]=t[i];return n},r.modulo=function(n,t){return(n%t+t)%t},f=Object.prototype.toString,r.isArray=function(n){return"[object Array]"==f.call(n)},r.makeArray=function(n){var t=[],i,u;if(r.isArray(n))t=n;else if(n&&"number"==typeof n.length)for(i=0,u=n.length;u>i;i++)t.push(n[i]);else t.push(n);return t},r.indexOf=Array.prototype.indexOf?function(n,t){return n.indexOf(t)}:function(n,t){for(var i=0,r=n.length;r>i;i++)if(n[i]===t)return i;return-1},r.removeFrom=function(n,t){var i=r.indexOf(n,t);-1!=i&&n.splice(i,1)},r.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(n){return n instanceof HTMLElement}:function(n){return n&&"object"==typeof n&&1==n.nodeType&&"string"==typeof n.nodeName},r.setText=function(){function t(t,i){n=n||(void 0!==document.documentElement.textContent?"textContent":"innerText");t[n]=i}var n;return t}(),r.getParent=function(n,t){for(;n!=document.body;)if(n=n.parentNode,i(n,t))return n},r.getQueryElement=function(n){return"string"==typeof n?document.querySelector(n):n},r.handleEvent=function(n){var t="on"+n.type;this[t]&&this[t](n)},r.filterFindElements=function(n,t){var u;n=r.makeArray(n);for(var f=[],e=0,h=n.length;h>e;e++)if(u=n[e],r.isElement(u))if(t){i(u,t)&&f.push(u);for(var s=u.querySelectorAll(t),o=0,c=s.length;c>o;o++)f.push(s[o])}else f.push(u);return f},r.debounceMethod=function(n,t,i){var u=n.prototype[t],r=t+"Timeout";n.prototype[t]=function(){var t=this[r],f,n;t&&clearTimeout(t);f=arguments;n=this;this[r]=setTimeout(function(){u.apply(n,f);delete n[r]},i||100)}},r.toDashed=function(n){return n.replace(/(.)([A-Z])/g,function(n,t,i){return t+"-"+i}).toLowerCase()},u=n.console,r.htmlInit=function(i,f){t(function(){for(var a,t,o,v,s,h=r.toDashed(f),c=document.querySelectorAll(".js-"+h),l="data-"+h+"-options",e=0,y=c.length;y>e;e++){t=c[e];o=t.getAttribute(l);try{a=o&&JSON.parse(o)}catch(p){u&&u.error("Error parsing "+l+" on "+t.nodeName.toLowerCase()+(t.id?"#"+t.id:"")+": "+p);continue}v=new i(t,a);s=n.jQuery;s&&s.data(t,f,v)}})},r}),function(n,t){"use strict";"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],function(i){return t(n,i)}):"object"==typeof exports?module.exports=t(n,require("get-size")):(n.Flickity=n.Flickity||{},n.Flickity.Cell=t(n,n.getSize))}(window,function(n,t){function i(n,t){this.element=n;this.parent=t;this.create()}var r="attachEvent"in n;return i.prototype.create=function(){this.element.style.position="absolute";r&&this.element.setAttribute("unselectable","on");this.x=0;this.shift=0},i.prototype.destroy=function(){this.element.style.position="";var n=this.parent.originSide;this.element.style[n]=""},i.prototype.getSize=function(){this.size=t(this.element)},i.prototype.setPosition=function(n){this.x=n;this.setDefaultTarget();this.renderPosition(n)},i.prototype.setDefaultTarget=function(){var n="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[n]+this.size.width*this.parent.cellAlign},i.prototype.renderPosition=function(n){var t=this.parent.originSide;this.element.style[t]=this.parent.getPositionValue(n)},i.prototype.wrapShift=function(n){this.shift=n;this.renderPosition(this.x+this.parent.slideableWidth*n)},i.prototype.remove=function(){this.element.parentNode.removeChild(this.element)},i}),function(n,t){"use strict";"function"==typeof define&&define.amd?define("flickity/js/animate",["get-style-property/get-style-property","fizzy-ui-utils/utils"],function(i,r){return t(n,i,r)}):"object"==typeof exports?module.exports=t(n,require("desandro-get-style-property"),require("fizzy-ui-utils")):(n.Flickity=n.Flickity||{},n.Flickity.animatePrototype=t(n,n.getStyleProperty,n.fizzyUIUtils))}(window,function(n,t,i){for(var r,o,h,e,c=0,l="webkit moz ms o".split(" "),u=n.requestAnimationFrame,f=n.cancelAnimationFrame,s=0;s<l.length&&(!u||!f);s++)e=l[s],u=u||n[e+"RequestAnimationFrame"],f=f||n[e+"CancelAnimationFrame"]||n[e+"CancelRequestAnimationFrame"];return u&&f||(u=function(t){var i=(new Date).getTime(),r=Math.max(0,16-(i-c)),u=n.setTimeout(function(){t(i+r)},r);return c=i+r,u},f=function(t){n.clearTimeout(t)}),r={},r.startAnimation=function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},r.animate=function(){var n,t;this.applyDragForce();this.applySelectedAttraction();n=this.x;(this.integratePhysics(),this.positionSlider(),this.settle(n),this.isAnimating)&&(t=this,u(function(){t.animate()}))},o=t("transform"),h=!!t("perspective"),r.positionSlider=function(){var n=this.x,t;this.options.wrapAround&&this.cells.length>1&&(n=i.modulo(n,this.slideableWidth),n-=this.slideableWidth,this.shiftWrapCells(n));n+=this.cursorPosition;n=this.options.rightToLeft&&o?-n:n;t=this.getPositionValue(n);o?this.slider.style[o]=h&&this.isAnimating?"translate3d("+t+",0,0)":"translateX("+t+")":this.slider.style[this.originSide]=t},r.positionSliderAtSelected=function(){if(this.cells.length){var n=this.cells[this.selectedIndex];this.x=-n.target;this.positionSlider()}},r.getPositionValue=function(n){return this.options.percentPosition?.01*Math.round(n/this.size.innerWidth*1e4)+"%":Math.round(n)+"px"},r.settle=function(n){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*n)||this.restingFrames++;this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,h&&this.positionSlider(),this.dispatchEvent("settle"))},r.shiftWrapCells=function(n){var i=this.cursorPosition+n,t;this._shiftCells(this.beforeShiftCells,i,-1);t=this.size.innerWidth-(n+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,t,1)},r._shiftCells=function(n,t,i){for(var u,e,r=0,f=n.length;f>r;r++)u=n[r],e=t>0?i:0,u.wrapShift(e),t-=u.size.outerWidth},r._unshiftCells=function(n){if(n&&n.length)for(var t=0,i=n.length;i>t;t++)n[t].wrapShift(0)},r.integratePhysics=function(){this.velocity+=this.accel;this.x+=this.velocity;this.velocity*=this.getFrictionFactor();this.accel=0},r.applyForce=function(n){this.accel+=n},r.getFrictionFactor=function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},r.getRestingPosition=function(){return this.x+this.velocity/(1-this.getFrictionFactor())},r.applyDragForce=function(){if(this.isPointerDown){var n=this.dragX-this.x,t=n-this.velocity;this.applyForce(t)}},r.applySelectedAttraction=function(){var n=this.cells.length;if(!this.isPointerDown&&!this.isFreeScrolling&&n){var t=this.cells[this.selectedIndex],i=this.options.wrapAround&&n>1?this.slideableWidth*Math.floor(this.selectedIndex/n):0,r=-1*(t.target+i)-this.x,u=r*this.options.selectedAttraction;this.applyForce(u)}},r}),function(n,t){"use strict";if("function"==typeof define&&define.amd)define("flickity/js/flickity",["classie/classie","eventEmitter/EventEmitter","eventie/eventie","get-size/get-size","fizzy-ui-utils/utils","./cell","./animate"],function(i,r,u,f,e,o,s){return t(n,i,r,u,f,e,o,s)});else if("object"==typeof exports)module.exports=t(n,require("desandro-classie"),require("wolfy87-eventemitter"),require("eventie"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./animate"));else{var i=n.Flickity;n.Flickity=t(n,n.classie,n.EventEmitter,n.eventie,n.getSize,n.fizzyUIUtils,i.Cell,i.animatePrototype)}}(window,function(n,t,i,r,u,f,e,o){function a(n,t){for(n=f.makeArray(n);n.length;)t.appendChild(n.shift())}function s(n,t){var i=f.getQueryElement(n);return i?(this.element=i,h&&(this.$element=h(this.element)),this.options=f.extend({},this.constructor.defaults),this.option(t),void this._create()):void(v&&v.error("Bad element for Flickity: "+(i||n)))}var h=n.jQuery,c=n.getComputedStyle,v=n.console,b=0,l={},y,p,w;return s.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},s.createMethods=[],f.extend(s.prototype,i.prototype),s.prototype._create=function(){var i=this.guid=++b,t,u,f;for(this.element.flickityGUID=i,l[i]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.accel=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",s.setUnselectable(this.viewport),this._createSlider(),(this.options.resize||this.options.watchCSS)&&(r.bind(n,"resize",this),this.isResizeBound=!0),t=0,u=s.createMethods.length;u>t;t++)f=s.createMethods[t],this[f]();this.options.watchCSS?this.watchCSS():this.activate()},s.prototype.option=function(n){f.extend(this.options,n)},s.prototype.activate=function(){var i,u,n;this.isActive||(this.isActive=!0,t.add(this.element,"flickity-enabled"),this.options.rightToLeft&&t.add(this.element,"flickity-rtl"),this.getSize(),i=this._filterFindCellElements(this.element.children),a(i,this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,r.bind(this.element,"keydown",this)),this.emit("activate"),n=this.options.initialIndex,u=this.isInitActivated?this.selectedIndex:void 0!==n&&this.cells[n]?n:0,this.select(u,!1,!0),this.isInitActivated=!0)},s.prototype._createSlider=function(){var n=document.createElement("div");n.className="flickity-slider";n.style[this.originSide]=0;this.slider=n},s.prototype._filterFindCellElements=function(n){return f.filterFindElements(n,this.options.cellSelector)},s.prototype.reloadCells=function(){this.cells=this._makeCells(this.slider.children);this.positionCells();this._getWrapShiftCells();this.setGallerySize()},s.prototype._makeCells=function(n){for(var u,f,i=this._filterFindCellElements(n),r=[],t=0,o=i.length;o>t;t++)u=i[t],f=new e(u,this),r.push(f);return r},s.prototype.getLastCell=function(){return this.cells[this.cells.length-1]},s.prototype.positionCells=function(){this._sizeCells(this.cells);this._positionCells(0)},s.prototype._positionCells=function(n){var t,u,i,f,r;for(n=n||0,this.maxCellHeight=n?this.maxCellHeight||0:0,t=0,n>0&&(u=this.cells[n-1],t=u.x+u.size.outerWidth),f=this.cells.length,r=n;f>r;r++)i=this.cells[r],i.setPosition(t),t+=i.size.outerWidth,this.maxCellHeight=Math.max(i.size.outerHeight,this.maxCellHeight);this.slideableWidth=t;this._containCells()},s.prototype._sizeCells=function(n){for(var r,t=0,i=n.length;i>t;t++)r=n[t],r.getSize()},s.prototype._init=s.prototype.reposition=function(){this.positionCells();this.positionSliderAtSelected()},s.prototype.getSize=function(){this.size=u(this.element);this.setCellAlign();this.cursorPosition=this.size.innerWidth*this.cellAlign},y={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}},s.prototype.setCellAlign=function(){var n=y[this.options.cellAlign];this.cellAlign=n?n[this.originSide]:this.options.cellAlign},s.prototype.setGallerySize=function(){this.options.setGallerySize&&(this.viewport.style.height=this.maxCellHeight+"px")},s.prototype._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells);this._unshiftCells(this.afterShiftCells);var n=this.cursorPosition,t=this.cells.length-1;this.beforeShiftCells=this._getGapCells(n,t,-1);n=this.size.innerWidth-this.cursorPosition;this.afterShiftCells=this._getGapCells(n,0,1)}},s.prototype._getGapCells=function(n,t,i){for(var r,u=[];n>0;){if(r=this.cells[t],!r)break;u.push(r);t+=i;n-=r.size.outerWidth}return u},s.prototype._containCells=function(){var n;if(this.options.contain&&!this.options.wrapAround&&this.cells.length)for(var r=this.options.rightToLeft?"marginRight":"marginLeft",u=this.options.rightToLeft?"marginLeft":"marginRight",f=this.cells[0].size[r],e=this.getLastCell(),t=this.slideableWidth-e.size[u],o=t-this.size.innerWidth*(1-this.cellAlign),s=t<this.size.innerWidth,i=0,h=this.cells.length;h>i;i++)n=this.cells[i],n.setDefaultTarget(),s?n.target=t*this.cellAlign:(n.target=Math.max(n.target,this.cursorPosition+f),n.target=Math.min(n.target,o))},s.prototype.dispatchEvent=function(n,t,i){var u=[t].concat(i),r;(this.emitEvent(n,u),h&&this.$element)&&(t?(r=h.Event(t),r.type=n,this.$element.trigger(r,i)):this.$element.trigger(n,i))},s.prototype.select=function(n,t,i){if(this.isActive){n=parseInt(n,10);var r=this.cells.length;this.options.wrapAround&&r>1&&(0>n?this.x-=this.slideableWidth:n>=r&&(this.x+=this.slideableWidth));(this.options.wrapAround||t)&&(n=f.modulo(n,r));this.cells[n]&&(this.selectedIndex=n,this.setSelectedCell(),i?this.positionSliderAtSelected():this.startAnimation(),this.dispatchEvent("cellSelect"))}},s.prototype.previous=function(n){this.select(this.selectedIndex-1,n)},s.prototype.next=function(n){this.select(this.selectedIndex+1,n)},s.prototype.setSelectedCell=function(){this._removeSelectedCellClass();this.selectedCell=this.cells[this.selectedIndex];this.selectedElement=this.selectedCell.element;t.add(this.selectedElement,"is-selected")},s.prototype._removeSelectedCellClass=function(){this.selectedCell&&t.remove(this.selectedCell.element,"is-selected")},s.prototype.getCell=function(n){for(var i,t=0,r=this.cells.length;r>t;t++)if(i=this.cells[t],i.element==n)return i},s.prototype.getCells=function(n){var u,i;n=f.makeArray(n);for(var r=[],t=0,e=n.length;e>t;t++)u=n[t],i=this.getCell(u),i&&r.push(i);return r},s.prototype.getCellElements=function(){for(var t=[],n=0,i=this.cells.length;i>n;n++)t.push(this.cells[n].element);return t},s.prototype.getParentCell=function(n){var t=this.getCell(n);return t?t:(n=f.getParent(n,".flickity-slider > *"),this.getCell(n))},s.prototype.getAdjacentCellElements=function(n,t){var r,u,i,o,e;if(!n)return[this.selectedElement];if(t=void 0===t?this.selectedIndex:t,r=this.cells.length,1+2*n>=r)return this.getCellElements();for(u=[],i=t-n;t+n>=i;i++)o=this.options.wrapAround?f.modulo(i,r):i,e=this.cells[o],e&&u.push(e.element);return u},s.prototype.uiChange=function(){this.emit("uiChange")},s.prototype.childUIPointerDown=function(n){this.emitEvent("childUIPointerDown",[n])},s.prototype.onresize=function(){this.watchCSS();this.resize()},f.debounceMethod(s,"onresize",150),s.prototype.resize=function(){this.isActive&&(this.getSize(),this.options.wrapAround&&(this.x=f.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.positionSliderAtSelected())},p=s.supportsConditionalCSS=function(){var n;return function(){var t,i,r;return void 0!==n?n:c?(t=document.createElement("style"),i=document.createTextNode('body:after { content: "foo"; display: none; }'),t.appendChild(i),document.head.appendChild(t),r=c(document.body,":after").content,n=-1!=r.indexOf("foo"),document.head.removeChild(t),n):void(n=!1)}}(),s.prototype.watchCSS=function(){var n=this.options.watchCSS,t,i,r;if(n){if(t=p(),!t)return i="fallbackOn"==n?"activate":"deactivate",void this[i]();r=c(this.element,":after").content;-1!=r.indexOf("flickity")?this.activate():this.deactivate()}},s.prototype.onkeydown=function(n){var t,i;this.options.accessibility&&(!document.activeElement||document.activeElement==this.element)&&(37==n.keyCode?(t=this.options.rightToLeft?"next":"previous",this.uiChange(),this[t]()):39==n.keyCode&&(i=this.options.rightToLeft?"previous":"next",this.uiChange(),this[i]()))},s.prototype.deactivate=function(){var n,i,u;if(this.isActive){for(t.remove(this.element,"flickity-enabled"),t.remove(this.element,"flickity-rtl"),n=0,i=this.cells.length;i>n;n++)u=this.cells[n],u.destroy();this._removeSelectedCellClass();this.element.removeChild(this.viewport);a(this.slider.children,this.element);this.options.accessibility&&(this.element.removeAttribute("tabIndex"),r.unbind(this.element,"keydown",this));this.isActive=!1;this.emit("deactivate")}},s.prototype.destroy=function(){this.deactivate();this.isResizeBound&&r.unbind(n,"resize",this);this.emit("destroy");h&&this.$element&&h.removeData(this.element,"flickity");delete this.element.flickityGUID;delete l[this.guid]},f.extend(s.prototype,o),w="attachEvent"in n,s.setUnselectable=function(n){w&&n.setAttribute("unselectable","on")},s.data=function(n){n=f.getQueryElement(n);var t=n&&n.flickityGUID;return t&&l[t]},f.htmlInit(s,"flickity"),h&&h.bridget&&h.bridget("flickity",s),s.Cell=e,s}),function(n,t){"use strict";"function"==typeof define&&define.amd?define("unipointer/unipointer",["eventEmitter/EventEmitter","eventie/eventie"],function(i,r){return t(n,i,r)}):"object"==typeof exports?module.exports=t(n,require("wolfy87-eventemitter"),require("eventie")):n.Unipointer=t(n,n.EventEmitter,n.eventie)}(window,function(n,t,i){function u(){}function r(){}r.prototype=new t;r.prototype.bindStartEvent=function(n){this._bindStartEvent(n,!0)};r.prototype.unbindStartEvent=function(n){this._bindStartEvent(n,!1)};r.prototype._bindStartEvent=function(t,r){r=void 0===r?!0:!!r;var u=r?"bind":"unbind";n.navigator.pointerEnabled?i[u](t,"pointerdown",this):n.navigator.msPointerEnabled?i[u](t,"MSPointerDown",this):(i[u](t,"mousedown",this),i[u](t,"touchstart",this))};r.prototype.handleEvent=function(n){var t="on"+n.type;this[t]&&this[t](n)};r.prototype.getTouch=function(n){for(var i,t=0,r=n.length;r>t;t++)if(i=n[t],i.identifier==this.pointerIdentifier)return i};r.prototype.onmousedown=function(n){var t=n.button;t&&0!==t&&1!==t||this._pointerDown(n,n)};r.prototype.ontouchstart=function(n){this._pointerDown(n,n.changedTouches[0])};r.prototype.onMSPointerDown=r.prototype.onpointerdown=function(n){this._pointerDown(n,n)};r.prototype._pointerDown=function(n,t){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDown(n,t))};r.prototype.pointerDown=function(n,t){this._bindPostStartEvents(n);this.emitEvent("pointerDown",[n,t])};var f={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};return r.prototype._bindPostStartEvents=function(t){var o;if(t){for(var r=f[t.type],e=t.preventDefault?n:document,u=0,s=r.length;s>u;u++)o=r[u],i.bind(e,o,this);this._boundPointerEvents={events:r,node:e}}},r.prototype._unbindPostStartEvents=function(){var n=this._boundPointerEvents,t,r,u;if(n&&n.events){for(t=0,r=n.events.length;r>t;t++)u=n.events[t],i.unbind(n.node,u,this);delete this._boundPointerEvents}},r.prototype.onmousemove=function(n){this._pointerMove(n,n)},r.prototype.onMSPointerMove=r.prototype.onpointermove=function(n){n.pointerId==this.pointerIdentifier&&this._pointerMove(n,n)},r.prototype.ontouchmove=function(n){var t=this.getTouch(n.changedTouches);t&&this._pointerMove(n,t)},r.prototype._pointerMove=function(n,t){this.pointerMove(n,t)},r.prototype.pointerMove=function(n,t){this.emitEvent("pointerMove",[n,t])},r.prototype.onmouseup=function(n){this._pointerUp(n,n)},r.prototype.onMSPointerUp=r.prototype.onpointerup=function(n){n.pointerId==this.pointerIdentifier&&this._pointerUp(n,n)},r.prototype.ontouchend=function(n){var t=this.getTouch(n.changedTouches);t&&this._pointerUp(n,t)},r.prototype._pointerUp=function(n,t){this._pointerDone();this.pointerUp(n,t)},r.prototype.pointerUp=function(n,t){this.emitEvent("pointerUp",[n,t])},r.prototype._pointerDone=function(){this.isPointerDown=!1;delete this.pointerIdentifier;this._unbindPostStartEvents();this.pointerDone()},r.prototype.pointerDone=u,r.prototype.onMSPointerCancel=r.prototype.onpointercancel=function(n){n.pointerId==this.pointerIdentifier&&this._pointerCancel(n,n)},r.prototype.ontouchcancel=function(n){var t=this.getTouch(n.changedTouches);t&&this._pointerCancel(n,t)},r.prototype._pointerCancel=function(n,t){this._pointerDone();this.pointerCancel(n,t)},r.prototype.pointerCancel=function(n,t){this.emitEvent("pointerCancel",[n,t])},r.getPointerPoint=function(n){return{x:void 0!==n.pageX?n.pageX:n.clientX,y:void 0!==n.pageY?n.pageY:n.clientY}},r}),function(n,t){"use strict";"function"==typeof define&&define.amd?define("unidragger/unidragger",["eventie/eventie","unipointer/unipointer"],function(i,r){return t(n,i,r)}):"object"==typeof exports?module.exports=t(n,require("eventie"),require("unipointer")):n.Unidragger=t(n,n.eventie,n.Unipointer)}(window,function(n,t,i){function c(){}function u(n){n.preventDefault?n.preventDefault():n.returnValue=!1}function r(){}function o(){return!1}var f,s,h,e;return r.prototype=new i,r.prototype.bindHandles=function(){this._bindHandles(!0)},r.prototype.unbindHandles=function(){this._bindHandles(!1)},f=n.navigator,r.prototype._bindHandles=function(n){var u,i;n=void 0===n?!0:!!n;u=f.pointerEnabled?function(t){t.style.touchAction=n?"none":""}:f.msPointerEnabled?function(t){t.style.msTouchAction=n?"none":""}:function(){n&&h(i)};for(var e=n?"bind":"unbind",r=0,o=this.handles.length;o>r;r++)i=this.handles[r],this._bindStartEvent(i,n),u(i),t[e](i,"click",this)},s="attachEvent"in document.documentElement,h=s?function(n){var r;"IMG"==n.nodeName&&(n.ondragstart=o);for(var i=n.querySelectorAll("img"),t=0,u=i.length;u>t;t++)r=i[t],r.ondragstart=o}:c,r.prototype.pointerDown=function(i,u){if("INPUT"==i.target.nodeName&&"range"==i.target.type)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(i,u);var f=document.activeElement;f&&f.blur&&f.blur();this._bindPostStartEvents(i);this.pointerDownScroll=r.getScrollPosition();t.bind(n,"scroll",this);this.emitEvent("pointerDown",[i,u])},r.prototype._dragPointerDown=function(n,t){this.pointerDownPoint=i.getPointerPoint(t);var r="touchstart"==n.type,f=n.target.nodeName;r||"SELECT"==f||u(n)},r.prototype.pointerMove=function(n,t){var i=this._dragPointerMove(n,t);this.emitEvent("pointerMove",[n,t,i]);this._dragMove(n,t,i)},r.prototype._dragPointerMove=function(n,t){var r=i.getPointerPoint(t),u={x:r.x-this.pointerDownPoint.x,y:r.y-this.pointerDownPoint.y};return!this.isDragging&&this.hasDragStarted(u)&&this._dragStart(n,t),u},r.prototype.hasDragStarted=function(n){return Math.abs(n.x)>3||Math.abs(n.y)>3},r.prototype.pointerUp=function(n,t){this.emitEvent("pointerUp",[n,t]);this._dragPointerUp(n,t)},r.prototype._dragPointerUp=function(n,t){this.isDragging?this._dragEnd(n,t):this._staticClick(n,t)},r.prototype.pointerDone=function(){t.unbind(n,"scroll",this)},r.prototype._dragStart=function(n,t){this.isDragging=!0;this.dragStartPoint=r.getPointerPoint(t);this.isPreventingClicks=!0;this.dragStart(n,t)},r.prototype.dragStart=function(n,t){this.emitEvent("dragStart",[n,t])},r.prototype._dragMove=function(n,t,i){this.isDragging&&this.dragMove(n,t,i)},r.prototype.dragMove=function(n,t,i){u(n);this.emitEvent("dragMove",[n,t,i])},r.prototype._dragEnd=function(n,t){this.isDragging=!1;var i=this;setTimeout(function(){delete i.isPreventingClicks});this.dragEnd(n,t)},r.prototype.dragEnd=function(n,t){this.emitEvent("dragEnd",[n,t])},r.prototype.pointerDone=function(){t.unbind(n,"scroll",this);delete this.pointerDownScroll},r.prototype.onclick=function(n){this.isPreventingClicks&&u(n)},r.prototype._staticClick=function(n,t){var i,r;this.isIgnoringMouseUp&&"mouseup"==n.type||(i=n.target.nodeName,(("INPUT"==i||"TEXTAREA"==i)&&n.target.focus(),this.staticClick(n,t),"mouseup"!=n.type)&&(this.isIgnoringMouseUp=!0,r=this,setTimeout(function(){delete r.isIgnoringMouseUp},400)))},r.prototype.staticClick=function(n,t){this.emitEvent("staticClick",[n,t])},r.prototype.onscroll=function(){var n=r.getScrollPosition(),t=this.pointerDownScroll.x-n.x,i=this.pointerDownScroll.y-n.y;(Math.abs(t)>3||Math.abs(i)>3)&&this._pointerDone()},r.getPointerPoint=function(n){return{x:void 0!==n.pageX?n.pageX:n.clientX,y:void 0!==n.pageY?n.pageY:n.clientY}},e=void 0!==n.pageYOffset,r.getScrollPosition=function(){return{x:e?n.pageXOffset:document.body.scrollLeft,y:e?n.pageYOffset:document.body.scrollTop}},r.getPointerPoint=i.getPointerPoint,r}),function(n,t){"use strict";"function"==typeof define&&define.amd?define("flickity/js/drag",["classie/classie","eventie/eventie","./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(i,r,u,f,e){return t(n,i,r,u,f,e)}):"object"==typeof exports?module.exports=t(n,require("desandro-classie"),require("eventie"),require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):n.Flickity=t(n,n.classie,n.eventie,n.Flickity,n.Unidragger,n.fizzyUIUtils)}(window,function(n,t,i,r,u,f){function e(n){n.preventDefault?n.preventDefault():n.returnValue=!1}f.extend(r.defaults,{draggable:!0});r.createMethods.push("_createDrag");f.extend(r.prototype,u.prototype);r.prototype._createDrag=function(){this.on("activate",this.bindDrag);this.on("uiChange",this._uiChangeDrag);this.on("childUIPointerDown",this._childUIPointerDownDrag);this.on("deactivate",this.unbindDrag)};r.prototype.bindDrag=function(){this.options.draggable&&!this.isDragBound&&(t.add(this.element,"is-draggable"),this.handles=[this.viewport],this.bindHandles(),this.isDragBound=!0)};r.prototype.unbindDrag=function(){this.isDragBound&&(t.remove(this.element,"is-draggable"),this.unbindHandles(),delete this.isDragBound)};r.prototype._uiChangeDrag=function(){delete this.isFreeScrolling};r.prototype._childUIPointerDownDrag=function(n){e(n);this.pointerDownFocus(n)};r.prototype.pointerDown=function(r,f){if("INPUT"==r.target.nodeName&&"range"==r.target.type)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(r,f);var e=document.activeElement;e&&e.blur&&e!=this.element&&e!=document.body&&e.blur();this.pointerDownFocus(r);this.dragX=this.x;t.add(this.viewport,"is-pointer-down");this._bindPostStartEvents(r);this.pointerDownScroll=u.getScrollPosition();i.bind(n,"scroll",this);this.dispatchEvent("pointerDown",r,[f])};var o={touchstart:!0,MSPointerDown:!0},s={INPUT:!0,SELECT:!0};return r.prototype.pointerDownFocus=function(t){if(this.options.accessibility&&!o[t.type]&&!s[t.target.nodeName]){var i=n.pageYOffset;this.element.focus();n.pageYOffset!=i&&n.scrollTo(n.pageXOffset,i)}},r.prototype.hasDragStarted=function(n){return Math.abs(n.x)>3},r.prototype.pointerUp=function(n,i){t.remove(this.viewport,"is-pointer-down");this.dispatchEvent("pointerUp",n,[i]);this._dragPointerUp(n,i)},r.prototype.pointerDone=function(){i.unbind(n,"scroll",this);delete this.pointerDownScroll},r.prototype.dragStart=function(n,t){this.dragStartPosition=this.x;this.startAnimation();this.dispatchEvent("dragStart",n,[t])},r.prototype.dragMove=function(n,t,i){var o,r,u,f;e(n);this.previousDragX=this.dragX;o=this.options.rightToLeft?-1:1;r=this.dragStartPosition+i.x*o;!this.options.wrapAround&&this.cells.length&&(u=Math.max(-this.cells[0].target,this.dragStartPosition),r=r>u?.5*(r+u):r,f=Math.min(-this.getLastCell().target,this.dragStartPosition),r=f>r?.5*(r+f):r);this.dragX=r;this.dragMoveTime=new Date;this.dispatchEvent("dragMove",n,[t,i])},r.prototype.dragEnd=function(n,t){var i,r;this.options.freeScroll&&(this.isFreeScrolling=!0);i=this.dragEndRestingSelect();this.options.freeScroll&&!this.options.wrapAround?(r=this.getRestingPosition(),this.isFreeScrolling=-r>this.cells[0].target&&-r<this.getLastCell().target):this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX;this.select(i);this.dispatchEvent("dragEnd",n,[t])},r.prototype.dragEndRestingSelect=function(){var n=this.getRestingPosition(),t=Math.abs(this.getCellDistance(-n,this.selectedIndex)),i=this._getClosestResting(n,t,1),r=this._getClosestResting(n,t,-1);return i.distance<r.distance?i.index:r.index},r.prototype._getClosestResting=function(n,t,i){for(var r=this.selectedIndex,u=1/0,f=this.options.contain&&!this.options.wrapAround?function(n,t){return t>=n}:function(n,t){return t>n};f(t,u)&&(r+=i,u=t,t=this.getCellDistance(-n,r),null!==t);)t=Math.abs(t);return{distance:u,index:r-i}},r.prototype.getCellDistance=function(n,t){var i=this.cells.length,r=this.options.wrapAround&&i>1,o=r?f.modulo(t,i):t,u=this.cells[o],e;return u?(e=r?this.slideableWidth*Math.floor(t/i):0,n-(u.target+e)):null},r.prototype.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var n=this.getCellDistance(-this.dragX,this.selectedIndex),t=this.previousDragX-this.dragX;return n>0&&t>0?1:0>n&&0>t?-1:0},r.prototype.staticClick=function(n,t){var i=this.getParentCell(n.target),r=i&&i.element,u=i&&f.indexOf(this.cells,i);this.dispatchEvent("staticClick",n,[t,r,u])},r}),function(n,t){"function"==typeof define&&define.amd?define("tap-listener/tap-listener",["unipointer/unipointer"],function(i){return t(n,i)}):"object"==typeof exports?module.exports=t(n,require("unipointer")):n.TapListener=t(n,n.Unipointer)}(window,function(n,t){function i(n){this.bindTap(n)}i.prototype=new t;i.prototype.bindTap=function(n){n&&(this.unbindTap(),this.tapElement=n,this._bindStartEvent(n,!0))};i.prototype.unbindTap=function(){this.tapElement&&(this._bindStartEvent(this.tapElement,!0),delete this.tapElement)};var r=void 0!==n.pageYOffset;return i.prototype.pointerUp=function(i,u){if(!this.isIgnoringMouseUp||"mouseup"!=i.type){var f=t.getPointerPoint(u),e=this.tapElement.getBoundingClientRect(),o=r?n.pageXOffset:document.body.scrollLeft,s=r?n.pageYOffset:document.body.scrollTop,h=f.x>=e.left+o&&f.x<=e.right+o&&f.y>=e.top+s&&f.y<=e.bottom+s;h&&this.emitEvent("tap",[i,u]);"mouseup"!=i.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),320))}},i.prototype.destroy=function(){this.pointerDone();this.unbindTap()},i}),function(n,t){"use strict";"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["eventie/eventie","./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(i,r,u,f){return t(n,i,r,u,f)}):"object"==typeof exports?module.exports=t(n,require("eventie"),require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):t(n,n.eventie,n.Flickity,n.TapListener,n.fizzyUIUtils)}(window,function(n,t,i,r,u){function f(n,t){this.direction=n;this.parent=t;this._create()}function o(n){return"string"==typeof n?n:"M "+n.x0+",50 L "+n.x1+","+(n.y1+50)+" L "+n.x2+","+(n.y2+50)+" L "+n.x3+",50  L "+n.x2+","+(50-n.y2)+" L "+n.x1+","+(50-n.y1)+" Z"}var e="http://www.w3.org/2000/svg",s=function(){function t(){if(void 0!==n)return n;var t=document.createElement("div");return t.innerHTML="<svg/>",n=(t.firstChild&&t.firstChild.namespaceURI)==e}var n;return t}();return f.prototype=new r,f.prototype._create=function(){var r,n,u,t;this.isEnabled=!0;this.isPrevious=-1==this.direction;r=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==r;n=this.element=document.createElement("button");(n.className="flickity-prev-next-button",n.className+=this.isPrevious?" previous":" next",n.setAttribute("type","button"),this.disable(),n.setAttribute("aria-label",this.isPrevious?"previous":"next"),i.setUnselectable(n),s())?(u=this.createSVG(),n.appendChild(u)):(this.setArrowText(),n.className+=" no-svg");t=this;this.onCellSelect=function(){t.update()};this.parent.on("cellSelect",this.onCellSelect);this.on("tap",this.onTap);this.on("pointerDown",function(n,i){t.parent.childUIPointerDown(i)})},f.prototype.activate=function(){this.bindTap(this.element);t.bind(this.element,"click",this);this.parent.element.appendChild(this.element)},f.prototype.deactivate=function(){this.parent.element.removeChild(this.element);r.prototype.destroy.call(this);t.unbind(this.element,"click",this)},f.prototype.createSVG=function(){var t=document.createElementNS(e,"svg"),n,i;return t.setAttribute("viewBox","0 0 100 100"),n=document.createElementNS(e,"path"),i=o(this.parent.options.arrowShape),n.setAttribute("d",i),n.setAttribute("class","arrow"),this.isLeft||n.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(n),t},f.prototype.setArrowText=function(){var n=this.parent.options,t=this.isLeft?n.leftArrowText:n.rightArrowText;u.setText(this.element,t)},f.prototype.onTap=function(){if(this.isEnabled){this.parent.uiChange();var n=this.isPrevious?"previous":"next";this.parent[n]()}},f.prototype.handleEvent=u.handleEvent,f.prototype.onclick=function(){var n=document.activeElement;n&&n==this.element&&this.onTap()},f.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},f.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},f.prototype.update=function(){var n=this.parent.cells;if(this.parent.options.wrapAround&&n.length>1)return void this.enable();var t=n.length?n.length-1:0,i=this.isPrevious?0:t,r=this.parent.selectedIndex==i?"disable":"enable";this[r]()},f.prototype.destroy=function(){this.deactivate()},u.extend(i.defaults,{prevNextButtons:!0,leftArrowText:"",rightArrowText:"",arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),i.createMethods.push("_createPrevNextButtons"),i.prototype._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new f(-1,this),this.nextButton=new f(1,this),this.on("activate",this.activatePrevNextButtons))},i.prototype.activatePrevNextButtons=function(){this.prevButton.activate();this.nextButton.activate();this.on("deactivate",this.deactivatePrevNextButtons)},i.prototype.deactivatePrevNextButtons=function(){this.prevButton.deactivate();this.nextButton.deactivate();this.off("deactivate",this.deactivatePrevNextButtons)},i.PrevNextButton=f,i}),function(n,t){"use strict";"function"==typeof define&&define.amd?define("flickity/js/page-dots",["eventie/eventie","./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(i,r,u,f){return t(n,i,r,u,f)}):"object"==typeof exports?module.exports=t(n,require("eventie"),require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):t(n,n.eventie,n.Flickity,n.TapListener,n.fizzyUIUtils)}(window,function(n,t,i,r,u){function f(n){this.parent=n;this._create()}return f.prototype=new r,f.prototype._create=function(){this.holder=document.createElement("ol");this.holder.className="flickity-page-dots";i.setUnselectable(this.holder);this.dots=[];var n=this;this.onCellSelect=function(){n.updateSelected()};this.parent.on("cellSelect",this.onCellSelect);this.on("tap",this.onTap);this.on("pointerDown",function(t,i){n.parent.childUIPointerDown(i)})},f.prototype.activate=function(){this.setDots();this.bindTap(this.holder);this.parent.element.appendChild(this.holder)},f.prototype.deactivate=function(){this.parent.element.removeChild(this.holder);r.prototype.destroy.call(this)},f.prototype.setDots=function(){var n=this.parent.cells.length-this.dots.length;n>0?this.addDots(n):0>n&&this.removeDots(-n)},f.prototype.addDots=function(n){for(var t,i=document.createDocumentFragment(),r=[];n;)t=document.createElement("li"),t.className="dot",i.appendChild(t),r.push(t),n--;this.holder.appendChild(i);this.dots=this.dots.concat(r)},f.prototype.removeDots=function(n){for(var r,i=this.dots.splice(this.dots.length-n,n),t=0,u=i.length;u>t;t++)r=i[t],this.holder.removeChild(r)},f.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot");this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected")},f.prototype.onTap=function(n){var t=n.target,i;"LI"==t.nodeName&&(this.parent.uiChange(),i=u.indexOf(this.dots,t),this.parent.select(i))},f.prototype.destroy=function(){this.deactivate()},i.PageDots=f,u.extend(i.defaults,{pageDots:!0}),i.createMethods.push("_createPageDots"),i.prototype._createPageDots=function(){this.options.pageDots&&(this.pageDots=new f(this),this.on("activate",this.activatePageDots),this.on("cellAddedRemoved",this.onCellAddedRemovedPageDots),this.on("deactivate",this.deactivatePageDots))},i.prototype.activatePageDots=function(){this.pageDots.activate()},i.prototype.onCellAddedRemovedPageDots=function(){this.pageDots.setDots()},i.prototype.deactivatePageDots=function(){this.pageDots.deactivate()},i.PageDots=f,i}),function(n,t){"use strict";"function"==typeof define&&define.amd?define("flickity/js/player",["eventEmitter/EventEmitter","eventie/eventie","fizzy-ui-utils/utils","./flickity"],function(n,i,r,u){return t(n,i,r,u)}):"object"==typeof exports?module.exports=t(require("wolfy87-eventemitter"),require("eventie"),require("fizzy-ui-utils"),require("./flickity")):t(n.EventEmitter,n.eventie,n.fizzyUIUtils,n.Flickity)}(window,function(n,t,i,r){function u(n){if(this.isPlaying=!1,this.parent=n,f){var t=this;this.onVisibilityChange=function(){t.visibilityChange()}}}var e,f;return"hidden"in document?(e="hidden",f="visibilitychange"):"webkitHidden"in document&&(e="webkitHidden",f="webkitvisibilitychange"),u.prototype=new n,u.prototype.play=function(){this.isPlaying=!0;delete this.isPaused;f&&document.addEventListener(f,this.onVisibilityChange,!1);this.tick()},u.prototype.tick=function(){var n,t;this.isPlaying&&!this.isPaused&&(this.tickTime=new Date,n=this.parent.options.autoPlay,n="number"==typeof n?n:3e3,t=this,this.timeout=setTimeout(function(){t.parent.next(!0);t.tick()},n))},u.prototype.stop=function(){this.isPlaying=!1;delete this.isPaused;this.clear();f&&document.removeEventListener(f,this.onVisibilityChange,!1)},u.prototype.clear=function(){clearTimeout(this.timeout)},u.prototype.pause=function(){this.isPlaying&&(this.isPaused=!0,this.clear())},u.prototype.unpause=function(){this.isPaused&&this.play()},u.prototype.visibilityChange=function(){var n=document[e];this[n?"pause":"unpause"]()},i.extend(r.defaults,{pauseAutoPlayOnHover:!0}),r.createMethods.push("_createPlayer"),r.prototype._createPlayer=function(){this.player=new u(this);this.on("activate",this.activatePlayer);this.on("uiChange",this.stopPlayer);this.on("pointerDown",this.stopPlayer);this.on("deactivate",this.deactivatePlayer)},r.prototype.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),t.bind(this.element,"mouseenter",this),this.isMouseenterBound=!0)},r.prototype.playPlayer=function(){this.player.play()},r.prototype.stopPlayer=function(){this.player.stop()},r.prototype.pausePlayer=function(){this.player.pause()},r.prototype.unpausePlayer=function(){this.player.unpause()},r.prototype.deactivatePlayer=function(){this.player.stop();this.isMouseenterBound&&(t.unbind(this.element,"mouseenter",this),delete this.isMouseenterBound)},r.prototype.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),t.bind(this.element,"mouseleave",this))},r.prototype.onmouseleave=function(){this.player.unpause();t.unbind(this.element,"mouseleave",this)},r.Player=u,r}),function(n,t){"use strict";"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],function(i,r){return t(n,i,r)}):"object"==typeof exports?module.exports=t(n,require("./flickity"),require("fizzy-ui-utils")):t(n,n.Flickity,n.fizzyUIUtils)}(window,function(n,t,i){function r(n){for(var r,i=document.createDocumentFragment(),t=0,u=n.length;u>t;t++)r=n[t],i.appendChild(r.element);return i}return t.prototype.insert=function(n,t){var i=this._makeCells(n),u,f,e,o,s,h;i&&i.length&&(u=this.cells.length,t=void 0===t?u:t,f=r(i),e=t==u,e?this.slider.appendChild(f):(o=this.cells[t].element,this.slider.insertBefore(f,o)),0===t?this.cells=i.concat(this.cells):e?this.cells=this.cells.concat(i):(s=this.cells.splice(t,u-t),this.cells=this.cells.concat(i).concat(s)),this._sizeCells(i),h=t>this.selectedIndex?0:i.length,this._cellAddedRemoved(t,h))},t.prototype.append=function(n){this.insert(n,this.cells.length)},t.prototype.prepend=function(n){this.insert(n,0)},t.prototype.remove=function(n){for(var r,u=this.getCells(n),e=0,o,t=0,f=u.length;f>t;t++)r=u[t],o=i.indexOf(this.cells,r)<this.selectedIndex,e-=o?1:0;for(t=0,f=u.length;f>t;t++)r=u[t],r.remove(),i.removeFrom(this.cells,r);u.length&&this._cellAddedRemoved(0,e)},t.prototype._cellAddedRemoved=function(n,t){t=t||0;this.selectedIndex+=t;this.selectedIndex=Math.max(0,Math.min(this.cells.length-1,this.selectedIndex));this.emitEvent("cellAddedRemoved",[n,t]);this.cellChange(n,!0)},t.prototype.cellSizeChange=function(n){var t=this.getCell(n),r;t&&(t.getSize(),r=i.indexOf(this.cells,t),this.cellChange(r))},t.prototype.cellChange=function(n,t){var r=this.slideableWidth,i;(this._positionCells(n),this._getWrapShiftCells(),this.setGallerySize(),this.options.freeScroll)?(i=r-this.slideableWidth,this.x+=i*this.cellAlign,this.positionSlider()):(t&&this.positionSliderAtSelected(),this.select(this.selectedIndex))},t}),function(n,t){"use strict";"function"==typeof define&&define.amd?define("flickity/js/lazyload",["classie/classie","eventie/eventie","./flickity","fizzy-ui-utils/utils"],function(i,r,u,f){return t(n,i,r,u,f)}):"object"==typeof exports?module.exports=t(n,require("desandro-classie"),require("eventie"),require("./flickity"),require("fizzy-ui-utils")):t(n,n.classie,n.eventie,n.Flickity,n.fizzyUIUtils)}(window,function(n,t,i,r,u){"use strict";function e(n){if("IMG"==n.nodeName&&n.getAttribute("data-flickity-lazyload"))return[n];var t=n.querySelectorAll("img[data-flickity-lazyload]");return u.makeArray(t)}function f(n,t){this.img=n;this.flickity=t;this.load()}return r.createMethods.push("_createLazyload"),r.prototype._createLazyload=function(){this.on("cellSelect",this.lazyLoad)},r.prototype.lazyLoad=function(){var i=this.options.lazyLoad,o,s,h;if(i){for(var c="number"==typeof i?i:0,u=this.getAdjacentCellElements(c),t=[],n=0,r=u.length;r>n;n++)o=u[n],s=e(o),t=t.concat(s);for(n=0,r=t.length;r>n;n++)h=t[n],new f(h,this)}},f.prototype.handleEvent=u.handleEvent,f.prototype.load=function(){i.bind(this.img,"load",this);i.bind(this.img,"error",this);this.img.src=this.img.getAttribute("data-flickity-lazyload");this.img.removeAttribute("data-flickity-lazyload")},f.prototype.onload=function(n){this.complete(n,"flickity-lazyloaded")},f.prototype.onerror=function(n){this.complete(n,"flickity-lazyerror")},f.prototype.complete=function(n,r){i.unbind(this.img,"load",this);i.unbind(this.img,"error",this);var u=this.flickity.getParentCell(this.img),f=u&&u.element;this.flickity.cellSizeChange(f);t.add(this.img,r);this.flickity.dispatchEvent("lazyLoad",n,f)},r.LazyLoader=f,r}),function(n,t){"use strict";"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],t):"object"==typeof exports&&(module.exports=t(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}(window,function(n){return n}),function(n,t){"use strict";"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["classie/classie","flickity/js/index","fizzy-ui-utils/utils"],function(i,r,u){return t(n,i,r,u)}):"object"==typeof exports?module.exports=t(n,require("desandro-classie"),require("flickity"),require("fizzy-ui-utils")):n.Flickity=t(n,n.classie,n.Flickity,n.fizzyUIUtils)}(window,function(n,t,i,r){return i.createMethods.push("_createAsNavFor"),i.prototype._createAsNavFor=function(){var n,t;this.on("activate",this.activateAsNavFor);this.on("deactivate",this.deactivateAsNavFor);this.on("destroy",this.destroyAsNavFor);n=this.options.asNavFor;n&&(t=this,setTimeout(function(){t.setNavCompanion(n)}))},i.prototype.setNavCompanion=function(n){var t,u;n=r.getQueryElement(n);t=i.data(n);t&&t!=this&&(this.navCompanion=t,u=this,this.onNavCompanionSelect=function(){u.navCompanionSelect()},t.on("cellSelect",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect())},i.prototype.navCompanionSelect=function(){if(this.navCompanion){var n=this.navCompanion.selectedIndex;this.select(n);this.removeNavSelectedElement();this.selectedIndex==n&&(this.navSelectedElement=this.cells[n].element,t.add(this.navSelectedElement,"is-nav-selected"))}},i.prototype.activateAsNavFor=function(){this.navCompanionSelect()},i.prototype.removeNavSelectedElement=function(){this.navSelectedElement&&(t.remove(this.navSelectedElement,"is-nav-selected"),delete this.navSelectedElement)},i.prototype.onNavStaticClick=function(n,t,i,r){"number"==typeof r&&this.navCompanion.select(r)},i.prototype.deactivateAsNavFor=function(){this.removeNavSelectedElement()},i.prototype.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("cellSelect",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},i}),function(n,t){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["eventEmitter/EventEmitter","eventie/eventie"],function(i,r){return t(n,i,r)}):"object"==typeof module&&module.exports?module.exports=t(n,require("wolfy87-eventemitter"),require("eventie")):n.imagesLoaded=t(n,n.EventEmitter,n.eventie)}(window,function(n,t,i){function o(n,t){for(var i in t)n[i]=t[i];return n}function l(n){return"[object Array]"==v.call(n)}function a(n){var t=[],i;if(l(n))t=n;else if("number"==typeof n.length)for(i=0;i<n.length;i++)t.push(n[i]);else t.push(n);return t}function r(n,t,i){if(!(this instanceof r))return new r(n,t,i);"string"==typeof n&&(n=document.querySelectorAll(n));this.elements=a(n);this.options=o({},this.options);"function"==typeof t?i=t:o(this.options,t);i&&this.on("always",i);this.getImages();e&&(this.jqDeferred=new e.Deferred);var u=this;setTimeout(function(){u.check()})}function u(n){this.img=n}function f(n,t){this.url=n;this.element=t;this.img=new Image}var e=n.jQuery,s=n.console,v=Object.prototype.toString,h,c;return r.prototype=new t,r.prototype.options={},r.prototype.getImages=function(){var n,t;for(this.images=[],n=0;n<this.elements.length;n++)t=this.elements[n],this.addElementImages(t)},r.prototype.addElementImages=function(n){var i,r,t,f,u,e;if("IMG"==n.nodeName&&this.addImage(n),this.options.background===!0&&this.addElementBackgroundImages(n),i=n.nodeType,i&&h[i]){for(r=n.querySelectorAll("img"),t=0;t<r.length;t++)f=r[t],this.addImage(f);if("string"==typeof this.options.background)for(u=n.querySelectorAll(this.options.background),t=0;t<u.length;t++)e=u[t],this.addElementBackgroundImages(e)}},h={1:!0,9:!0,11:!0},r.prototype.addElementBackgroundImages=function(n){for(var i,r=c(n),u=/url\(['"]*([^'"\)]+)['"]*\)/gi,t=u.exec(r.backgroundImage);null!==t;)i=t&&t[1],i&&this.addBackground(i,n),t=u.exec(r.backgroundImage)},c=n.getComputedStyle||function(n){return n.currentStyle},r.prototype.addImage=function(n){var t=new u(n);this.images.push(t)},r.prototype.addBackground=function(n,t){var i=new f(n,t);this.images.push(i)},r.prototype.check=function(){function i(n,t,i){setTimeout(function(){r.progress(n,t,i)})}var r=this,n,t;if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length)return void this.complete();for(n=0;n<this.images.length;n++)t=this.images[n],t.once("progress",i),t.check()},r.prototype.progress=function(n,t,i){this.progressedCount++;this.hasAnyBroken=this.hasAnyBroken||!n.isLoaded;this.emit("progress",this,n,t);this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,n);this.progressedCount==this.images.length&&this.complete();this.options.debug&&s&&s.log("progress: "+i,n,t)},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done",n;(this.isComplete=!0,this.emit(t,this),this.emit("always",this),this.jqDeferred)&&(n=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[n](this))},u.prototype=new t,u.prototype.check=function(){var n=this.getIsImageComplete();return n?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,i.bind(this.proxyImage,"load",this),i.bind(this.proxyImage,"error",this),i.bind(this.img,"load",this),i.bind(this.img,"error",this),void(this.proxyImage.src=this.img.src))},u.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},u.prototype.confirm=function(n,t){this.isLoaded=n;this.emit("progress",this,this.img,t)},u.prototype.handleEvent=function(n){var t="on"+n.type;this[t]&&this[t](n)},u.prototype.onload=function(){this.confirm(!0,"onload");this.unbindEvents()},u.prototype.onerror=function(){this.confirm(!1,"onerror");this.unbindEvents()},u.prototype.unbindEvents=function(){i.unbind(this.proxyImage,"load",this);i.unbind(this.proxyImage,"error",this);i.unbind(this.img,"load",this);i.unbind(this.img,"error",this)},f.prototype=new u,f.prototype.check=function(){i.bind(this.img,"load",this);i.bind(this.img,"error",this);this.img.src=this.url;var n=this.getIsImageComplete();n&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},f.prototype.unbindEvents=function(){i.unbind(this.img,"load",this);i.unbind(this.img,"error",this)},f.prototype.confirm=function(n,t){this.isLoaded=n;this.emit("progress",this,this.element,t)},r.makeJQueryPlugin=function(t){t=t||n.jQuery;t&&(e=t,e.fn.imagesLoaded=function(n,t){var i=new r(this,n,t);return i.jqDeferred.promise(e(this))})},r.makeJQueryPlugin(),r}),function(n,t){"use strict";"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],function(i,r){return t(n,i,r)}):"object"==typeof exports?module.exports=t(n,require("flickity"),require("imagesloaded")):n.Flickity=t(n,n.Flickity,n.imagesLoaded)}(window,function(n,t,i){"use strict";return t.createMethods.push("_createImagesLoaded"),t.prototype._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},t.prototype.imagesLoaded=function(){function t(t,i){var r=n.getParentCell(i.img);n.cellSizeChange(r&&r.element);n.options.freeScroll||n.positionSliderAtSelected()}if(this.options.imagesLoaded){var n=this;i(this.slider).on("progress",t)}},t});$(".hc-left-nav-cell.selected-as-parent").find(".hc-left-nav-cell-subcell-container").show();loadServiceGroupJS();$(window).resize(loadServiceGroupJS);$("select").chosen({disable_search:!0,width:"100%"});$(".hc-na-sort-options").click(function(){$(document).find(".hc-na-sort-options.selected").each(function(){$(this).removeClass("selected")});$(this).addClass("selected")});loadNewsArchivesJS();$(window).resize(loadNewsArchivesJS);$("select").chosen({disable_search:!0,width:"100%"});$(".hc-left-nav-cell").find("a").click(function(){$(this).parent().parent().find(".hc-left-nav-cell").removeClass("selected-as-parent");$(this).parent().addClass("selected-as-parent")});$("select").chosen({disable_search:!0,width:"100%"});loadSearchResultsJS();$(window).resize(loadSearchResultsJS);$(".hc-apply-item").on("click keydown",function(n){var r,i,t;(n.type=="click"||n.type=="keydown"&&n.which==13)&&($(this).hasClass("expanded")?($(this).find(".hc-apply-button-child-content").slideUp(200),$(this).removeClass("expanded"),$(this).find(".hc-apply-button").removeClass("expanded"),t=$(this).find(".hc-apply-button").find(".fa-chevron-up"),t.removeClass("fa-chevron-up"),t.addClass("fa-chevron-down")):(r=0,i=$(document).find(".hc-apply-item.expanded"),i.length!=0&&(jQuery(i[0]).find(".hc-apply-button-child-content").slideUp(200),jQuery(i[0]).removeClass("expanded"),jQuery(i[0]).find(".hc-apply-button").removeClass("expanded"),t=jQuery(i[0]).find(".hc-apply-button").find(".fa-chevron-up"),t.removeClass("fa-chevron-up"),t.addClass("fa-chevron-down")),$(this).find(".hc-apply-button-child-content").slideDown(200),$(this).addClass("expanded"),$(this).find(".hc-apply-button").addClass("expanded"),t=$(this).find(".hc-apply-button").find(".fa-chevron-down"),t.removeClass("fa-chevron-down"),t.addClass("fa-chevron-up")))});$("a.hc-gallery-img").click(function(){$("#imageModal").find(".img-responsive").first().attr("src",$(this).attr("data-img-src")).attr("alt",$(this).attr("data-img-alt"));$("#imageModal").find(".modal-title").first().text($(this).attr("data-img-alt"))}),function(){function ut(t){function r(n,i,r,u,f,e){for(;f>=0&&f<e;f+=t){var o=u?u[f]:f;r=i(r,n[o],o,n)}return r}return function(u,f,o,s){f=e(f,s,4);var h=!i(u)&&n.keys(u),l=(h||u).length,c=t>0?0:l-1;return arguments.length<3&&(o=u[h?h[c]:c],c+=t),r(u,f,o,h,c,l)}}function ft(n){return function(i,r,f){r=t(r,f);for(var o=u(i),e=n>0?0:o-1;e>=0&&e<o;e+=n)if(r(i[e],e,i))return e;return-1}}function et(t,i,f){return function(e,o,s){var c=0,h=u(e);if(typeof s=="number")t>0?c=s>=0?s:Math.max(s+h,c):h=s>=0?Math.min(s+1,h):s+h+1;else if(f&&s&&h)return s=f(e,o),e[s]===o?s:-1;if(o!==o)return s=i(r.call(e,c,h),n.isNaN),s>=0?s+c:-1;for(s=t>0?c:h-1;s>=0&&s<h;s+=t)if(e[s]===o)return s;return-1}}function ot(t,i){var u=d.length,f=t.constructor,e=n.isFunction(f)&&f.prototype||v,r="constructor";for(n.has(t,r)&&!n.contains(i,r)&&i.push(r);u--;)r=d[u],r in t&&t[r]!==e[r]&&!n.contains(i,r)&&i.push(r)}var a=this,lt=a._,s=Array.prototype,v=Object.prototype,at=Function.prototype,vt=s.push,r=s.slice,o=v.toString,yt=v.hasOwnProperty,pt=Array.isArray,nt=Object.keys,y=at.bind,tt=Object.create,p=function(){},n=function(t){if(t instanceof n)return t;if(!(this instanceof n))return new n(t);this._wrapped=t},e,t,h,f,b,k,d,c,ct,l;typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=n),exports._=n):a._=n;n.VERSION="1.8.3";e=function(n,t,i){if(t===void 0)return n;switch(i==null?3:i){case 1:return function(i){return n.call(t,i)};case 2:return function(i,r){return n.call(t,i,r)};case 3:return function(i,r,u){return n.call(t,i,r,u)};case 4:return function(i,r,u,f){return n.call(t,i,r,u,f)}}return function(){return n.apply(t,arguments)}};t=function(t,i,r){return t==null?n.identity:n.isFunction(t)?e(t,i,r):n.isObject(t)?n.matcher(t):n.property(t)};n.iteratee=function(n,i){return t(n,i,Infinity)};var w=function(n,t){return function(i){var e=arguments.length,r,u,f;if(e<2||i==null)return i;for(r=1;r<e;r++){var o=arguments[r],s=n(o),h=s.length;for(u=0;u<h;u++)f=s[u],t&&i[f]!==void 0||(i[f]=o[f])}return i}},it=function(t){if(!n.isObject(t))return{};if(tt)return tt(t);p.prototype=t;var i=new p;return p.prototype=null,i},rt=function(n){return function(t){if(t!=null)return t[n]}},wt=Math.pow(2,53)-1,u=rt("length"),i=function(n){var t=u(n);return typeof t=="number"&&t>=0&&t<=wt};n.each=n.forEach=function(t,r,u){var f,o,s;if(r=e(r,u),i(t))for(f=0,o=t.length;f<o;f++)r(t[f],f,t);else for(s=n.keys(t),f=0,o=s.length;f<o;f++)r(t[s[f]],s[f],t);return t};n.map=n.collect=function(r,u,f){var e,s;u=t(u,f);var o=!i(r)&&n.keys(r),h=(o||r).length,c=Array(h);for(e=0;e<h;e++)s=o?o[e]:e,c[e]=u(r[s],s,r);return c};n.reduce=n.foldl=n.inject=ut(1);n.reduceRight=n.foldr=ut(-1);n.find=n.detect=function(t,r,u){var f;return f=i(t)?n.findIndex(t,r,u):n.findKey(t,r,u),f!==void 0&&f!==-1?t[f]:void 0};n.filter=n.select=function(i,r,u){var f=[];return r=t(r,u),n.each(i,function(n,t,i){r(n,t,i)&&f.push(n)}),f};n.reject=function(i,r,u){return n.filter(i,n.negate(t(r)),u)};n.every=n.all=function(r,u,f){var o,h,e,s;for(u=t(u,f),o=!i(r)&&n.keys(r),h=(o||r).length,e=0;e<h;e++)if(s=o?o[e]:e,!u(r[s],s,r))return!1;return!0};n.some=n.any=function(r,u,f){var o,h,e,s;for(u=t(u,f),o=!i(r)&&n.keys(r),h=(o||r).length,e=0;e<h;e++)if(s=o?o[e]:e,u(r[s],s,r))return!0;return!1};n.contains=n.includes=n.include=function(t,r,u,f){return i(t)||(t=n.values(t)),(typeof u!="number"||f)&&(u=0),n.indexOf(t,r,u)>=0};n.invoke=function(t,i){var u=r.call(arguments,2),f=n.isFunction(i);return n.map(t,function(n){var t=f?i:n[i];return t==null?t:t.apply(n,u)})};n.pluck=function(t,i){return n.map(t,n.property(i))};n.where=function(t,i){return n.filter(t,n.matcher(i))};n.findWhere=function(t,i){return n.find(t,n.matcher(i))};n.max=function(r,u,f){var e=-Infinity,c=-Infinity,h,o,s,l;if(u==null&&r!=null)for(r=i(r)?r:n.values(r),s=0,l=r.length;s<l;s++)h=r[s],h>e&&(e=h);else u=t(u,f),n.each(r,function(n,t,i){o=u(n,t,i);(o>c||o===-Infinity&&e===-Infinity)&&(e=n,c=o)});return e};n.min=function(r,u,f){var e=Infinity,c=Infinity,h,o,s,l;if(u==null&&r!=null)for(r=i(r)?r:n.values(r),s=0,l=r.length;s<l;s++)h=r[s],h<e&&(e=h);else u=t(u,f),n.each(r,function(n,t,i){o=u(n,t,i);(o<c||o===Infinity&&e===Infinity)&&(e=n,c=o)});return e};n.shuffle=function(t){for(var e=i(t)?t:n.values(t),o=e.length,u=Array(o),r=0,f;r<o;r++)f=n.random(0,r),f!==r&&(u[r]=u[f]),u[f]=e[r];return u};n.sample=function(t,r,u){return r==null||u?(i(t)||(t=n.values(t)),t[n.random(t.length-1)]):n.shuffle(t).slice(0,Math.max(0,r))};n.sortBy=function(i,r,u){return r=t(r,u),n.pluck(n.map(i,function(n,t,i){return{value:n,index:t,criteria:r(n,t,i)}}).sort(function(n,t){var i=n.criteria,r=t.criteria;if(i!==r){if(i>r||i===void 0)return 1;if(i<r||r===void 0)return-1}return n.index-t.index}),"value")};h=function(i){return function(r,u,f){var e={};return u=t(u,f),n.each(r,function(n,t){var f=u(n,t,r);i(e,n,f)}),e}};n.groupBy=h(function(t,i,r){n.has(t,r)?t[r].push(i):t[r]=[i]});n.indexBy=h(function(n,t,i){n[i]=t});n.countBy=h(function(t,i,r){n.has(t,r)?t[r]++:t[r]=1});n.toArray=function(t){return t?n.isArray(t)?r.call(t):i(t)?n.map(t,n.identity):n.values(t):[]};n.size=function(t){return t==null?0:i(t)?t.length:n.keys(t).length};n.partition=function(i,r,u){r=t(r,u);var f=[],e=[];return n.each(i,function(n,t,i){(r(n,t,i)?f:e).push(n)}),[f,e]};n.first=n.head=n.take=function(t,i,r){if(t!=null)return i==null||r?t[0]:n.initial(t,t.length-i)};n.initial=function(n,t,i){return r.call(n,0,Math.max(0,n.length-(t==null||i?1:t)))};n.last=function(t,i,r){if(t!=null)return i==null||r?t[t.length-1]:n.rest(t,Math.max(0,t.length-i))};n.rest=n.tail=n.drop=function(n,t,i){return r.call(n,t==null||i?1:t)};n.compact=function(t){return n.filter(t,n.identity)};f=function(t,r,e,o){for(var s,l,a,h=[],v=0,c=o||0,y=u(t);c<y;c++)if(s=t[c],i(s)&&(n.isArray(s)||n.isArguments(s)))for(r||(s=f(s,r,e)),l=0,a=s.length,h.length+=a;l<a;)h[v++]=s[l++];else e||(h[v++]=s);return h};n.flatten=function(n,t){return f(n,t,!1)};n.without=function(t){return n.difference(t,r.call(arguments,1))};n.uniq=n.unique=function(i,r,f,e){var s,c,h,a,o,l;for(n.isBoolean(r)||(e=f,f=r,r=!1),f!=null&&(f=t(f,e)),s=[],c=[],h=0,a=u(i);h<a;h++)o=i[h],l=f?f(o,h,i):o,r?(h&&c===l||s.push(o),c=l):f?n.contains(c,l)||(c.push(l),s.push(o)):n.contains(s,o)||s.push(o);return s};n.union=function(){return n.uniq(f(arguments,!0,!0))};n.intersection=function(t){for(var r,i,f=[],o=arguments.length,e=0,s=u(t);e<s;e++)if(r=t[e],!n.contains(f,r)){for(i=1;i<o;i++)if(!n.contains(arguments[i],r))break;i===o&&f.push(r)}return f};n.difference=function(t){var i=f(arguments,!0,!0,1);return n.filter(t,function(t){return!n.contains(i,t)})};n.zip=function(){return n.unzip(arguments)};n.unzip=function(t){for(var r=t&&n.max(t,u).length||0,f=Array(r),i=0;i<r;i++)f[i]=n.pluck(t,i);return f};n.object=function(n,t){for(var r={},i=0,f=u(n);i<f;i++)t?r[n[i]]=t[i]:r[n[i][0]]=n[i][1];return r};n.findIndex=ft(1);n.findLastIndex=ft(-1);n.sortedIndex=function(n,i,r,f){var o;r=t(r,f,1);for(var h=r(i),e=0,s=u(n);e<s;)o=Math.floor((e+s)/2),r(n[o])<h?e=o+1:s=o;return e};n.indexOf=et(1,n.findIndex,n.sortedIndex);n.lastIndexOf=et(-1,n.findLastIndex);n.range=function(n,t,i){var u,f,r;for(t==null&&(t=n||0,n=0),i=i||1,u=Math.max(Math.ceil((t-n)/i),0),f=Array(u),r=0;r<u;r++,n+=i)f[r]=n;return f};b=function(t,i,r,u,f){if(!(u instanceof i))return t.apply(r,f);var e=it(t.prototype),o=t.apply(e,f);return n.isObject(o)?o:e};n.bind=function(t,i){if(y&&t.bind===y)return y.apply(t,r.call(arguments,1));if(!n.isFunction(t))throw new TypeError("Bind must be called on a function");var f=r.call(arguments,2),u=function(){return b(t,u,i,this,f.concat(r.call(arguments)))};return u};n.partial=function(t){var i=r.call(arguments,1),u=function(){for(var f=0,o=i.length,e=Array(o),r=0;r<o;r++)e[r]=i[r]===n?arguments[f++]:i[r];while(f<arguments.length)e.push(arguments[f++]);return b(t,u,this,this,e)};return u};n.bindAll=function(t){var i,u=arguments.length,r;if(u<=1)throw new Error("bindAll must be passed function names");for(i=1;i<u;i++)r=arguments[i],t[r]=n.bind(t[r],t);return t};n.memoize=function(t,i){var r=function(u){var f=r.cache,e=""+(i?i.apply(this,arguments):u);return n.has(f,e)||(f[e]=t.apply(this,arguments)),f[e]};return r.cache={},r};n.delay=function(n,t){var i=r.call(arguments,2);return setTimeout(function(){return n.apply(null,i)},t)};n.defer=n.partial(n.delay,n,1);n.throttle=function(t,i,r){var f,e,s,u=null,o=0,h;return r||(r={}),h=function(){o=r.leading===!1?0:n.now();u=null;s=t.apply(f,e);u||(f=e=null)},function(){var l=n.now(),c;return o||r.leading!==!1||(o=l),c=i-(l-o),f=this,e=arguments,c<=0||c>i?(u&&(clearTimeout(u),u=null),o=l,s=t.apply(f,e),u||(f=e=null)):u||r.trailing===!1||(u=setTimeout(h,c)),s}};n.debounce=function(t,i,r){var u,f,e,s,o,h=function(){var c=n.now()-s;c<i&&c>=0?u=setTimeout(h,i-c):(u=null,r||(o=t.apply(e,f),u||(e=f=null)))};return function(){e=this;f=arguments;s=n.now();var c=r&&!u;return u||(u=setTimeout(h,i)),c&&(o=t.apply(e,f),e=f=null),o}};n.wrap=function(t,i){return n.partial(i,t)};n.negate=function(n){return function(){return!n.apply(this,arguments)}};n.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,i=n[t].apply(this,arguments);r--;)i=n[r].call(this,i);return i}};n.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}};n.before=function(n,t){var i;return function(){return--n>0&&(i=t.apply(this,arguments)),n<=1&&(t=null),i}};n.once=n.partial(n.before,2);k=!{toString:null}.propertyIsEnumerable("toString");d=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];n.keys=function(t){var i,r;if(!n.isObject(t))return[];if(nt)return nt(t);i=[];for(r in t)n.has(t,r)&&i.push(r);return k&&ot(t,i),i};n.allKeys=function(t){var i,r;if(!n.isObject(t))return[];i=[];for(r in t)i.push(r);return k&&ot(t,i),i};n.values=function(t){for(var r=n.keys(t),u=r.length,f=Array(u),i=0;i<u;i++)f[i]=t[r[i]];return f};n.mapObject=function(i,r,u){var e;r=t(r,u);var o=n.keys(i),h=o.length,s={},f;for(e=0;e<h;e++)f=o[e],s[f]=r(i[f],f,i);return s};n.pairs=function(t){for(var r=n.keys(t),u=r.length,f=Array(u),i=0;i<u;i++)f[i]=[r[i],t[r[i]]];return f};n.invert=function(t){for(var u={},r=n.keys(t),i=0,f=r.length;i<f;i++)u[t[r[i]]]=r[i];return u};n.functions=n.methods=function(t){var i=[];for(var r in t)n.isFunction(t[r])&&i.push(r);return i.sort()};n.extend=w(n.allKeys);n.extendOwn=n.assign=w(n.keys);n.findKey=function(i,r,u){var o,f,e,s;for(r=t(r,u),o=n.keys(i),e=0,s=o.length;e<s;e++)if(f=o[e],r(i[f],f,i))return f};n.pick=function(t,i,r){var c={},u=t,l,o,s,v,h,a;if(u==null)return c;for(n.isFunction(i)?(o=n.allKeys(u),l=e(i,r)):(o=f(arguments,!1,!1,1),l=function(n,t,i){return t in i},u=Object(u)),s=0,v=o.length;s<v;s++)h=o[s],a=u[h],l(a,h,u)&&(c[h]=a);return c};n.omit=function(t,i,r){if(n.isFunction(i))i=n.negate(i);else{var u=n.map(f(arguments,!1,!1,1),String);i=function(t,i){return!n.contains(u,i)}}return n.pick(t,i,r)};n.defaults=w(n.allKeys,!0);n.create=function(t,i){var r=it(t);return i&&n.extendOwn(r,i),r};n.clone=function(t){return n.isObject(t)?n.isArray(t)?t.slice():n.extend({},t):t};n.tap=function(n,t){return t(n),n};n.isMatch=function(t,i){var e=n.keys(i),o=e.length,f,r,u;if(t==null)return!o;for(f=Object(t),r=0;r<o;r++)if(u=e[r],i[u]!==f[u]||!(u in f))return!1;return!0};c=function(t,i,r,u){var h,a,e,s,f,v,l;if(t===i)return t!==0||1/t==1/i;if(t==null||i==null)return t===i;if(t instanceof n&&(t=t._wrapped),i instanceof n&&(i=i._wrapped),h=o.call(t),h!==o.call(i))return!1;switch(h){case"[object RegExp]":case"[object String]":return""+t==""+i;case"[object Number]":return+t!=+t?+i!=+i:+t==0?1/+t==1/i:+t==+i;case"[object Date]":case"[object Boolean]":return+t==+i}if(a=h==="[object Array]",!a&&(typeof t!="object"||typeof i!="object"||(e=t.constructor,s=i.constructor,e!==s&&!(n.isFunction(e)&&e instanceof e&&n.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in i)))return!1;for(r=r||[],u=u||[],f=r.length;f--;)if(r[f]===t)return u[f]===i;if(r.push(t),u.push(i),a){if(f=t.length,f!==i.length)return!1;while(f--)if(!c(t[f],i[f],r,u))return!1}else{if(v=n.keys(t),f=v.length,n.keys(i).length!==f)return!1;while(f--)if(l=v[f],!(n.has(i,l)&&c(t[l],i[l],r,u)))return!1}return r.pop(),u.pop(),!0};n.isEqual=function(n,t){return c(n,t)};n.isEmpty=function(t){return t==null?!0:i(t)&&(n.isArray(t)||n.isString(t)||n.isArguments(t))?t.length===0:n.keys(t).length===0};n.isElement=function(n){return!!(n&&n.nodeType===1)};n.isArray=pt||function(n){return o.call(n)==="[object Array]"};n.isObject=function(n){var t=typeof n;return t==="function"||t==="object"&&!!n};n.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){n["is"+t]=function(n){return o.call(n)==="[object "+t+"]"}});n.isArguments(arguments)||(n.isArguments=function(t){return n.has(t,"callee")});typeof/./!="function"&&typeof Int8Array!="object"&&(n.isFunction=function(n){return typeof n=="function"||!1});n.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))};n.isNaN=function(t){return n.isNumber(t)&&t!==+t};n.isBoolean=function(n){return n===!0||n===!1||o.call(n)==="[object Boolean]"};n.isNull=function(n){return n===null};n.isUndefined=function(n){return n===void 0};n.has=function(n,t){return n!=null&&yt.call(n,t)};n.noConflict=function(){return a._=lt,this};n.identity=function(n){return n};n.constant=function(n){return function(){return n}};n.noop=function(){};n.property=rt;n.propertyOf=function(n){return n==null?function(){}:function(t){return n[t]}};n.matcher=n.matches=function(t){return t=n.extendOwn({},t),function(i){return n.isMatch(i,t)}};n.times=function(n,t,i){var u=Array(Math.max(0,n)),r;for(t=e(t,i,1),r=0;r<n;r++)u[r]=t(r);return u};n.random=function(n,t){return t==null&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};n.now=Date.now||function(){return(new Date).getTime()};var st={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},bt=n.invert(st),ht=function(t){var r=function(n){return t[n]},i="(?:"+n.keys(t).join("|")+")",u=RegExp(i),f=RegExp(i,"g");return function(n){return n=n==null?"":""+n,u.test(n)?n.replace(f,r):n}};n.escape=ht(st);n.unescape=ht(bt);n.result=function(t,i,r){var u=t==null?void 0:t[i];return u===void 0&&(u=r),n.isFunction(u)?u.call(t):u};ct=0;n.uniqueId=function(n){var t=++ct+"";return n?n+t:t};n.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var g=/(.)^/,kt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},dt=/\\|'|\r|\n|\u2028|\u2029/g,gt=function(n){return"\\"+kt[n]};n.template=function(t,i,r){var o,f,h;!i&&r&&(i=r);i=n.defaults({},i,n.templateSettings);var c=RegExp([(i.escape||g).source,(i.interpolate||g).source,(i.evaluate||g).source].join("|")+"|$","g"),e=0,u="__p+='";t.replace(c,function(n,i,r,f,o){return u+=t.slice(e,o).replace(dt,gt),e=o+n.length,i?u+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":r?u+="'+\n((__t=("+r+"))==null?'':__t)+\n'":f&&(u+="';\n"+f+"\n__p+='"),n});u+="';\n";i.variable||(u="with(obj||{}){\n"+u+"}\n");u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{o=new Function(i.variable||"obj","_",u)}catch(s){s.source=u;throw s;}return f=function(t){return o.call(this,t,n)},h=i.variable||"obj",f.source="function("+h+"){\n"+u+"}",f};n.chain=function(t){var i=n(t);return i._chain=!0,i};l=function(t,i){return t._chain?n(i).chain():i};n.mixin=function(t){n.each(n.functions(t),function(i){var r=n[i]=t[i];n.prototype[i]=function(){var t=[this._wrapped];return vt.apply(t,arguments),l(this,r.apply(n,t))}})};n.mixin(n);n.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var i=s[t];n.prototype[t]=function(){var n=this._wrapped;return i.apply(n,arguments),(t==="shift"||t==="splice")&&n.length===0&&delete n[0],l(this,n)}});n.each(["concat","join","slice"],function(t){var i=s[t];n.prototype[t]=function(){return l(this,i.apply(this._wrapped,arguments))}});n.prototype.value=function(){return this._wrapped};n.prototype.valueOf=n.prototype.toJSON=n.prototype.value;n.prototype.toString=function(){return""+this._wrapped};typeof define=="function"&&define.amd&&define("underscore",[],function(){return n})}.call(this);Date.prototype.getWeek=function(){var n=new Date(this.getFullYear(),0,1);return Math.ceil(((this.getTime()-n.getTime())/864e5+n.getDay()+1)/7)};Date.prototype.getMonthFormatted=function(){var n=this.getMonth()+1;return n<10?"0"+n:n};Date.prototype.getDateFormatted=function(){var n=this.getDate();return n<10?"0"+n:n};String.prototype.format||(String.prototype.format=function(){var n=arguments;return this.replace(/{(\d+)}/g,function(t,i){return typeof n[i]!="undefined"?n[i]:t})});String.prototype.formatNum||(String.prototype.formatNum=function(n){for(var t=""+this;t.length<n;)t="0"+t;return t}),function(n){function l(n,t){var i,r,u;u=n;i=n.indexOf("?")<0?"?":"&";for(r in t)u+=i+r+"="+encodeURIComponent(t[r]),i="&";return u}function e(t,i){var r=t.options[i]!=null?t.options[i]:null,u=t.locale[i]!=null?t.locale[i]:null,f;return i=="holidays"&&t.options.merge_holidays?(f={},n.extend(!0,f,u?u:s.holidays),r&&n.extend(!0,f,r),f):r!=null?r:u!=null?u:s[i]}function u(t,i){var r=[],o=e(t,"holidays"),s,h;for(s in o)r.push(s+":"+o[s]);return(r.push(i),r=r.join("|"),r in u.cache)?u.cache[r]:(h=[],n.each(o,function(t,r){var e=null,c=null,o=!1,s,u;if(n.each(t.split(">"),function(n,r){var s,h=null,u;if(s=/^(\d\d)-(\d\d)$/.exec(r))h=new Date(i,parseInt(s[2],10)-1,parseInt(s[1],10));else if(s=/^(\d\d)-(\d\d)-(\d\d\d\d)$/.exec(r))parseInt(s[3],10)==i&&(h=new Date(i,parseInt(s[2],10)-1,parseInt(s[1],10)));else if(s=/^easter(([+\-])(\d+))?$/.exec(r))h=a(i,s[1]?parseInt(s[1],10):0);else if(s=/^(\d\d)([+\-])([1-5])\*([0-6])$/.exec(r)){var l=parseInt(s[1],10)-1,p=s[2],v=parseInt(s[3]),y=parseInt(s[4]);switch(p){case"+":for(u=new Date(i,l,-6);u.getDay()!=y;)u=new Date(u.getFullYear(),u.getMonth(),u.getDate()+1);h=new Date(u.getFullYear(),u.getMonth(),u.getDate()+7*v);break;case"-":for(u=new Date(i,l+1,7);u.getDay()!=y;)u=new Date(u.getFullYear(),u.getMonth(),u.getDate()-1);h=new Date(u.getFullYear(),u.getMonth(),u.getDate()-7*v)}}if(!h)return f("Unknown holiday: "+t),o=!0,!1;switch(n){case 0:e=h;break;case 1:if(h.getTime()<=e.getTime())return f("Unknown holiday: "+t),o=!0,!1;c=h;break;default:return f("Unknown holiday: "+t),o=!0,!1}}),!o){if(s=[],c)for(u=new Date(e.getTime());u.getTime()<=c.getTime();u.setDate(u.getDate()+1))s.push(new Date(u.getTime()));else s.push(e);h.push({name:r,days:s})}}),u.cache[r]=h,u.cache[r])}function f(t){n.type(window.console)=="object"&&n.type(window.console.warn)=="function"&&window.console.warn("[Bootstrap-Calendar] "+t)}function t(t,i){return this.options=n.extend(!0,{position:{start:new Date,end:new Date}},c,t),this.setLanguage(this.options.language),this.context=i,i.css("width",this.options.width).addClass("cal-context"),this.view(),this}function o(t,i,r,u){t.stopPropagation();var i=n(i),f=i.closest(".cal-cell"),e=f.closest(".cal-before-eventlist"),o=f.data("cal-row");i.fadeOut("fast");r.slideUp("fast",function(){var t=n(".events-list",f);r.html(u.options.templates["events-list"]({cal:u,events:u.getEventsBetween(parseInt(t.data("cal-start")),parseInt(t.data("cal-end")))}));e.after(r);u.activecell=n("[data-cal-date]",f).text();n("#cal-slide-tick").addClass("tick"+o).show();r.slideDown("fast",function(){n("body").one("click keydown",function(n){n.type=="click"?(r.slideUp("fast"),u.activecell=0):n.type=="keydown"&&n.which==13&&(r.slideUp("fast"),u.activecell=0)})})});setTimeout(function(){u._update_modal()},400)}function a(n,t){var u=n%19,i=Math.floor(n/100),f=n%100,s=Math.floor(i/4),h=i%4,c=Math.floor((i+8)/25),l=Math.floor((i-c+1)/3),r=(19*u+i-s-l+15)%30,a=Math.floor(f/4),v=f%4,e=(32+2*h+2*a-r-v)%7,y=Math.floor((u+11*r+22*e)/451),o=r+e+7*y+114,p=Math.floor(o/31)-1,w=o%31+1;return new Date(n,p,w+(t?t:0),0,0,0)}var c={width:"100%",view:"month",day:"now",time_start:"06:00",time_end:"22:00",time_split:"30",events_source:"",tmpl_path:"tmpls/",tmpl_cache:!0,classes:{months:{inmonth:"cal-day-inmonth",outmonth:"cal-day-outmonth",saturday:"cal-day-weekend",sunday:"cal-day-weekend",holidays:"cal-day-holiday",today:"cal-day-today"},week:{workday:"cal-day-workday",saturday:"cal-day-weekend",sunday:"cal-day-weekend",holidays:"cal-day-holiday",today:"cal-day-today"}},modal:null,modal_type:"iframe",modal_title:null,views:{year:{slide_events:1,enable:1},month:{slide_events:1,enable:1},week:{enable:1},day:{enable:1}},merge_holidays:!1,onAfterEventsLoad:function(){},onBeforeEventsLoad:function(n){n()},onAfterViewLoad:function(){},onAfterModalShown:function(){},onAfterModalHidden:function(){},events:[],templates:{year:"",month:"",week:"",day:""},stop_cycling:!1},s={first_day:2,holidays:{"01-01":"New Year's Day","01+3*1":"Birthday of Dr. Martin Luther King, Jr.","02+3*1":"Washington's Birthday","05-1*1":"Memorial Day","04-07":"Independence Day","09+1*1":"Labor Day","10+2*1":"Columbus Day","11-11":"Veterans Day","11+4*4":"Thanksgiving Day","25-12":"Christmas"}},h={error_noview:"Calendar: View {0} not found",error_dateformat:'Calendar: Wrong date format {0}. Should be either "now" or "yyyy-mm-dd"',error_loadurl:"Calendar: Event URL is not set",error_where:'Calendar: Wrong navigation direction {0}. Can be only "next" or "prev" or "today"',error_timedevide:"Calendar: Time split parameter should divide 60 without decimals. Something like 10, 15, 30",no_events_in_day:"No events in this day.",title_year:"{0}",title_month:"{0} {1}",title_week:"week {0} of {1}",title_day:"{0} {1} {2}, {3}",week:"Week {0}",all_day:"All day",time:"Time",events:"Events",before_time:"Ends before timeline",after_time:"Starts after timeline",m0:"January",m1:"February",m2:"March",m3:"April",m4:"May",m5:"June",m6:"July",m7:"August",m8:"September",m9:"October",m10:"November",m11:"December",ms0:"Jan",ms1:"Feb",ms2:"Mar",ms3:"Apr",ms4:"May",ms5:"Jun",ms6:"Jul",ms7:"Aug",ms8:"Sep",ms9:"Oct",ms10:"Nov",ms11:"Dec",d0:"S",d1:"M",d2:"T",d3:"W",d4:"T",d5:"F",d6:"S"},r="",i;try{n.type(window.jstz)=="object"&&n.type(jstz.determine)=="function"&&(r=jstz.determine().name(),n.type(r)!=="string"&&(r=""))}catch(v){}u.cache={};t.prototype.setOptions=function(t){n.extend(this.options,t);"language"in t&&this.setLanguage(t.language);"modal"in t&&this._update_modal()};t.prototype.setLanguage=function(t){window.calendar_languages&&t in window.calendar_languages?(this.locale=n.extend(!0,{},h,calendar_languages[t]),this.options.language=t):(this.locale=h,delete this.options.language)};t.prototype._render=function(){var n,t,i;this.context.html("");this._loadTemplate(this.options.view);this.stop_cycling=!1;n={};n.cal=this;n.day=1;n.months=e(this,"first_day")==1?[this.locale.d1,this.locale.d2,this.locale.d3,this.locale.d4,this.locale.d5,this.locale.d6,this.locale.d0]:[this.locale.d0,this.locale.d1,this.locale.d2,this.locale.d3,this.locale.d4,this.locale.d5,this.locale.d6];t=parseInt(this.options.position.start.getTime());i=parseInt(this.options.position.end.getTime());n.events=this.getEventsBetween(t,i);switch(this.options.view){case"week":this._calculate_hour_minutes(n);break;case"day":this._calculate_hour_minutes(n)}n.start=new Date(this.options.position.start.getTime());n.lang=this.locale;this.context.append(this.options.templates[this.options.view](n));this._update()};t.prototype._calculate_hour_minutes=function(t){var c=this,o=parseInt(this.options.time_split),u=60/o,l=Math.min(u,1),e,s,r;(u>=1&&u%1!=0||u<1&&1440/o%1!=0)&&n.error(this.locale.error_timedevide);e=this.options.time_start.split(":");s=this.options.time_end.split(":");t.hours=(parseInt(s[0])-parseInt(e[0]))*l;var a=t.hours*u-parseInt(e[1])/o,h=6e4*o,i=new Date(this.options.position.start.getTime());i.setHours(e[0]);i.setMinutes(e[1]);r=new Date(this.options.position.start.getTime());r.setHours(s[0]);r.setMinutes(s[1]);t.all_day=[];t.by_hour=[];t.after_time=[];t.before_time=[];n.each(t.events,function(n,u){var e=new Date(parseInt(u.start)),o=new Date(parseInt(u.end)),s,v,l;if(u.start_hour=e.getHours().toString().formatNum(2)+":"+e.getMinutes().toString().formatNum(2),u.end_hour=o.getHours().toString().formatNum(2)+":"+o.getMinutes().toString().formatNum(2),u.start<i.getTime()&&(f(1),u.start_hour=e.getDate()+" "+c.locale["ms"+e.getMonth()]+" "+u.start_hour),u.end>r.getTime()&&(f(1),u.end_hour=o.getDate()+" "+c.locale["ms"+o.getMonth()]+" "+u.end_hour),u.start<i.getTime()&&u.end>r.getTime()){t.all_day.push(u);return}if(u.end<i.getTime()){t.before_time.push(u);return}if(u.start>r.getTime()){t.after_time.push(u);return}s=i.getTime()-u.start;u.top=s>=0?0:Math.abs(s)/h;v=Math.abs(a-u.top);l=(u.end-u.start)/h;s>=0&&(l=(u.end-i.getTime())/h);u.lines=l;l>v&&(u.lines=v);t.by_hour.push(u)})};t.prototype._hour_min=function(n){var r=this.options.time_start.split(":"),t=parseInt(this.options.time_split),i=60/t;return n==0?i-parseInt(r[1])/t:i};t.prototype._hour=function(n,t){var i=this.options.time_start.split(":"),r=parseInt(this.options.time_split),u=""+(parseInt(i[0])+n*Math.max(r/60,1)),f=""+(r*t+(n==0)?parseInt(i[1]):0);return u.formatNum(2)+":"+f.formatNum(2)};t.prototype._week=function(){this._loadTemplate("week-days");var t={},i=parseInt(this.options.position.start.getTime()),u=parseInt(this.options.position.end.getTime()),r=[],f=this,o=e(this,"first_day");return n.each(this.getEventsBetween(i,u),function(n,t){t.start_day=new Date(parseInt(t.start)).getDay();o==1&&(t.start_day=(t.start_day+6)%7);t.days=t.end-t.start<=864e5?1:(t.end-t.start)/864e5;t.start<i&&(t.days=t.days-(i-t.start)/864e5,t.start_day=0);t.days=Math.ceil(t.days);t.start_day+t.days>7&&(t.days=7-t.start_day);r.push(t)}),t.events=r,t.cal=this,f.options.templates["week-days"](t)};t.prototype._month=function(n){var t,i,r;return this._loadTemplate("year-month"),t={cal:this},i=n+1,t.data_day=this.options.position.start.getFullYear()+"-"+(i<10?"0"+i:i)+"-01",t.month_name=this.locale["m"+n],r=new Date(this.options.position.start.getFullYear(),n,1,0,0,0),t.start=parseInt(r.getTime()),t.end=parseInt(new Date(this.options.position.start.getFullYear(),n+1,1,0,0,0).getTime()),t.events=this.getEventsBetween(t.start,t.end),this.options.templates["year-month"](t)};t.prototype._day=function(t,i){var u,s,c,h;this._loadTemplate("month-day");var r={tooltip:"",cal:this},f=this.options.classes.months.outmonth,o=this.options.position.start.getDay();return e(this,"first_day")==2?o++:o=o==0?7:o,i=i-o+1,u=new Date(this.options.position.start.getFullYear(),this.options.position.start.getMonth(),i,0,0,0),i>0&&(f=this.options.classes.months.inmonth),s=new Date(this.options.position.end.getTime()-1).getDate(),i+1>s&&(this.stop_cycling=!0),i>s&&(i=i-s,f=this.options.classes.months.outmonth),f=n.trim(f+" "+this._getDayClass("months",u)),i<=0&&(c=new Date(this.options.position.start.getFullYear(),this.options.position.start.getMonth(),0).getDate(),i=c-Math.abs(i),f+=" cal-month-first-row"),h=this._getHoliday(u),h!==!1&&(r.tooltip=h),r.data_day=u.getFullYear()+"-"+u.getMonthFormatted()+"-"+(i<10?"0"+i:i),r.cls=f,r.day=i,r.dayOfWeek=u.toString().substring(0,3),r.includedEvents=[],r.start=parseInt(u.getTime()),r.end=parseInt(r.start+864e5),r.events=this.getEventsBetween(r.start,r.end),this.options.templates["month-day"](r)};t.prototype._getHoliday=function(t){var i=!1;return n.each(u(this,t.getFullYear()),function(){var r=!1;return n.each(this.days,function(){if(this.toDateString()==t.toDateString())return r=!0,!1}),r?(i=this.name,!1):void 0}),i};t.prototype._getHolidayName=function(n){var t=this._getHoliday(n);return t===!1?"":t};t.prototype._getDayClass=function(n,t){var u=this,r=function(t,i){var r;r=u.options.classes&&n in u.options.classes&&t in u.options.classes[n]?u.options.classes[n][t]:"";typeof r=="string"&&r.length&&i.push(r)},i=[],f;t.toDateString()==(new Date).toDateString()&&r("today",i);f=this._getHoliday(t);f!==!1&&r("holidays",i);switch(t.getDay()){case 0:r("sunday",i);break;case 6:r("saturday",i)}return r(t.toDateString(),i),i.join(" ")};t.prototype.view=function(n){if(n){if(!this.options.views[n].enable)return;this.options.view=n}this._init_position();this._loadEvents();this._render();this.options.onAfterViewLoad.call(this,this.options.view)};i=0;t.prototype.navigate=function(t,r){var u=n.extend({},this.options.position);if(-18<i&&n(".hc-calendar-month-selector-button.prev").removeClass("disabled"),18>i&&n(".hc-calendar-month-selector-button.next").removeClass("disabled"),t=="next")switch(this.options.view){case"year":u.start.setFullYear(this.options.position.start.getFullYear()+1);break;case"month":i<18&&!n(".hc-calendar-month-selector-button.next").hasClass("disabled")?(u.start.setMonth(this.options.position.start.getMonth()+1),i=i+1):n(".hc-calendar-month-selector-button.next").hasClass("disabled")||n(".hc-calendar-month-selector-button.next").addClass("disabled");break;case"week":u.start.setDate(this.options.position.start.getDate()+7);break;case"day":u.start.setDate(this.options.position.start.getDate()+1)}else if(t=="prev")switch(this.options.view){case"year":u.start.setFullYear(this.options.position.start.getFullYear()-1);break;case"month":i>-18&&!n(".hc-calendar-month-selector-button.prev").hasClass("disabled")?(u.start.setMonth(this.options.position.start.getMonth()-1),i=i-1):n(".hc-calendar-month-selector-button.prev").hasClass("disabled")||n(".hc-calendar-month-selector-button.prev").addClass("disabled");break;case"week":u.start.setDate(this.options.position.start.getDate()-7);break;case"day":u.start.setDate(this.options.position.start.getDate()-1)}else t=="today"?u.start.setTime((new Date).getTime()):n.error(this.locale.error_where.format(t));this.options.day=u.start.getFullYear()+"-"+u.start.getMonthFormatted()+"-"+u.start.getDateFormatted();this.view();_.isFunction(r)&&r()};t.prototype._init_position=function(){var t,i,r,f,o,u,s;this.options.day=="now"?(f=new Date,t=f.getFullYear(),i=f.getMonth(),r=f.getDate()):this.options.day.match(/^\d{4}-\d{2}-\d{2}$/g)?(o=this.options.day.split("-"),t=parseInt(o[0],10),i=parseInt(o[1],10)-1,r=parseInt(o[2],10)):n.error(this.locale.error_dateformat.format(this.options.day));switch(this.options.view){case"year":this.options.position.start.setTime(new Date(t,0,1).getTime());this.options.position.end.setTime(new Date(t+1,0,1).getTime());break;case"month":this.options.position.start.setTime(new Date(t,i,1).getTime());this.options.position.end.setTime(new Date(t,i+1,1).getTime());break;case"day":this.options.position.start.setTime(new Date(t,i,r).getTime());this.options.position.end.setTime(new Date(t,i,r+1).getTime());break;case"week":u=new Date(t,i,r);s=e(this,"first_day")==1?u.getDate()-(u.getDay()+6)%7:u.getDate()-u.getDay();this.options.position.start.setTime(new Date(t,i,s).getTime());this.options.position.end.setTime(new Date(t,i,s+7).getTime());break;default:n.error(this.locale.error_noview.format(this.options.view))}return this};t.prototype.getTitle=function(){var n=this.options.position.start;switch(this.options.view){case"year":return this.locale.title_year.format(n.getFullYear());case"month":return this.locale.title_month.format(this.locale["m"+n.getMonth()],n.getFullYear());case"week":return this.locale.title_week.format(n.getWeek(),n.getFullYear());case"day":return this.locale.title_day.format(this.locale["d"+n.getDay()],n.getDate(),this.locale["m"+n.getMonth()],n.getFullYear())}return};t.prototype.isToday=function(){var n=(new Date).getTime();return n>this.options.position.start&&n<this.options.position.end};t.prototype.getStartDate=function(){return this.options.position.start};t.prototype.getEndDate=function(){return this.options.position.end};t.prototype._loadEvents=function(){var t=this,i=null,u;"events_source"in this.options&&this.options.events_source!==""?i=this.options.events_source:"events_url"in this.options&&(i=this.options.events_url,f("The events_url option is DEPRECATED and it will be REMOVED in near future. Please use events_source instead."));switch(n.type(i)){case"function":u=function(){return i(t.options.position.start,t.options.position.end,r)};break;case"array":u=function(){return[].concat(i)};break;case"string":i.length&&(u=function(){var u=[],f={from:t.options.position.start.getTime(),to:t.options.position.end.getTime()};return r.length&&(f.browser_timezone=r),n.ajax({url:l(i,f),dataType:"json",type:"GET",async:!1}).done(function(t){t.success||n.error(t.error);t.result&&(u=t.result)}),u})}u||n.error(this.locale.error_loadurl);this.options.onBeforeEventsLoad.call(this,function(){t.options.events=u();t.options.events.sort(function(n,t){var i;return i=n.start-t.start,i==0&&(i=n.end-t.end),i});t.options.onAfterEventsLoad.call(t,t.options.events)})};t.prototype._templatePath=function(n){return typeof this.options.tmpl_path=="function"?this.options.tmpl_path(n):this.options.tmpl_path+n+".html"};t.prototype._loadTemplate=function(t){if(!this.options.templates[t]){var i=this;n.ajax({url:i._templatePath(t),dataType:"html",type:"GET",async:!1,cache:this.options.tmpl_cache}).done(function(n){i.options.templates[t]=_.template(n)})}};t.prototype._update=function(){var t=this;n('*[data-toggle="tooltip"]').tooltip({container:"body"});this["_update_"+this.options.view]();this._update_modal()};t.prototype._update_modal=function(){var t=this,i,r;if((n("a[data-event-id]",this.context).unbind("click"),t.options.modal)&&(i=n(t.options.modal),i.length)){r=null;t.options.modal_type=="iframe"&&(r=n(document.createElement("iframe")).attr({width:"100%",frameborder:"0"}));n("a[data-event-id]",this.context).on("click",function(u){u.preventDefault();u.stopPropagation();var f=n(this).attr("href"),e=n(this).data("event-id"),u=_.find(t.options.events,function(n){return n.id==e});t.options.modal_type=="iframe"&&(r.attr("src",f),n(".modal-body",i).html(r));(!i.data("handled.bootstrap-calendar")||i.data("handled.bootstrap-calendar")&&i.data("handled.event-id")!=u.id)&&i.on("show.bs.modal",function(){var r=n(this).find(".modal-body"),e;switch(t.options.modal_type){case"iframe":e=r.height()-parseInt(r.css("padding-top"),10)-parseInt(r.css("padding-bottom"),10);n(this).find("iframe").height(Math.max(e,50));break;case"ajax":n.ajax({url:f,dataType:"html",async:!1,success:function(n){r.html(n)}});break;case"template":t._loadTemplate("modal");r.html(t.options.templates.modal({event:u,calendar:t}))}_.isFunction(t.options.modal_title)&&i.find("h3").html(t.options.modal_title(u))}).on("shown.bs.modal",function(){t.options.onAfterModalShown.call(t,t.options.events)}).on("hidden.bs.modal",function(){t.options.onAfterModalHidden.call(t,t.options.events)}).data("handled.bootstrap-calendar",!0).data("handled.event-id",u.id);i.modal("show")})}};t.prototype._update_day=function(){n("#cal-day-panel").height(n("#cal-day-panel-hour").height())};t.prototype._update_week=function(){};t.prototype._update_year=function(){this._update_month_year()};t.prototype._update_month=function(){this._update_month_year();var t=this,i=n(document.createElement("div")).attr("id","cal-week-box"),r=this.options.position.start.getFullYear()+"-"+this.options.position.start.getMonthFormatted()+"-";i.click(function(){t.options.day=n(this).data("cal-week");t.view("week")})};t.prototype._update_month_year=function(){var r;if(this.options.views[this.options.view].slide_events){var t=this,i=n(document.createElement("div"));n(".cal-month-day, .cal-year-box .span3").on("mouseenter",function(){n(".events-list",this).length!=0&&n(this).children("[data-cal-date]").text()!=t.activecell&&i.show().appendTo(this)}).on("mouseleave",function(){i.hide()}).on("click keydown",function(u){if(u.type=="click"){if(n(".events-list",this).length==0)return;if(n(this).children("[data-cal-date]").text()==t.activecell)return;o(u,i,r,t)}else if(u.type=="keydown"&&u.which==13){if(n(".events-list",this).length==0)return;if(n(this).children("[data-cal-date]").text()==t.activecell)return;o(u,i,r,t)}});r=n(document.createElement("div")).attr("id","cal-slide-box");r.hide().click(function(n){n.stopPropagation()});this._loadTemplate("events-list");i.click(function(i){o(i,n(this),r,t)})}};t.prototype.getEventsBetween=function(t,i){var r=[];return n.each(this.options.events,function(){if(this.start==null)return!0;var n=this.end||this.start;parseInt(this.start)<i&&parseInt(n)>=t&&r.push(this)}),r};n.fn.calendar=function(n){return new t(n,this)}}(jQuery),function(){function n(){window.matchMedia("(min-width: 768px)").matches?($(".hc-calendar-options-filter-content").show(),$(".hc-cal-event-action").hide()):$(".hc-cal-event-action").show()}$(document).ready(function(){if(n(),$(window).resize(n),$("#calendar").length>0){$(".hc-calendar-option").on("click keydown",function(n){if(n.type=="click"||n.type=="keydown"&&n.which==13){$(this).hasClass("selected")?$(this).removeClass("selected"):$(this).addClass("selected");var t=$(this).closest("form.simple-calendar-filter, form.calendar-filter");t.length>0&&t.submit()}});$(".hc-calendar-options-filter-header").click(function(){var n;$(this).hasClass("expanded")?($(".hc-calendar-options-filter-content").slideUp(200),$(this).removeClass("expanded"),n=$(this).find(".fa-angle-up"),n.removeClass("fa-angle-up"),n.addClass("fa-angle-down")):($(".hc-calendar-options-filter-content").slideDown(200),$(this).addClass("expanded"),n=$(this).find(".fa-angle-down"),n.removeClass("fa-angle-down"),n.addClass("fa-angle-up"))});var i=$("form.calendar-filter .initial-date").val(),t=$("#calendar").calendar({tmpl_path:"/assets/tmpls/",day:i,events_source:function(n,t){var r=$(".hc-calendar-option.selected").map(function(){return $(this).attr("id")}).get(),u=$(".location-check-box:checked").map(function(){return $(this).attr("value")}).get(),f=$(".hc-mc-keywords-list input").map(function(){return $(this).attr("value")}).get(),e={from:n.getTime(),to:t.getTime(),Calendars:r,Locations:u,Keywords:f,zipcode:"",distance:""},i=[];return $.ajax({url:"/Calendar/GetEvents",dataType:"json",data:e,type:"POST",async:!1}).done(function(n){if(n.success||$.error(n.error),n.result)if(i=n.result,$(".hc-filter-location div.checkbox").remove(),n.locationFacets&&n.locationFacets.length>0){var t=n.locationFacets;$(".hc-filter-location").removeClass("hide");$.each(t,function(n,t){$(".hc-filter-location").append('<div class="checkbox hc-filter-checkbox"><label><input class="location-check-box" type="checkbox" value="'+t.Key+'" '+(t.Selected?"checked":"")+">"+t.Text+"<\/label><\/div>")});$(".hc-filter-checkbox :input:checkbox").on("change",function(){handleFilterChange()})}else $(".hc-filter-location").addClass("hide")}),i}});$("div[data-calendar-nav]").each(function(){var n=$(this);n.on("click keydown",function(i){(i.type=="click"||i.type=="keydown"&&i.which==13)&&(t.navigate(n.data("calendar-nav")),$(".hc-calendar-month-selector-month").text(t.getTitle()))})});$("form.calendar-filter").submit(function(n){n.preventDefault();t.view()});$(".hc-calendar-month-selector-month").text(t.getTitle())}})}(),function(n){function t(){var t=n(".form-helpful");t.find("textarea").closest(".form-group").hide();t.find(".radio").addClass("radio-inline");t.find(":radio").click(function(){this.value=="Yes"?t.find("textarea").closest(".form-group").hide():t.find("textarea").closest(".form-group").show()})}function i(){n("#titleBarSearchLink").click(function(){this.closest("form").submit()})}function r(){var t=n("#pullQuote"),i;t.length>0&&(i=n(".hc-news-item-pull-quote").detach(),i.length>0&&(t.text(""),t.append(i),i.show(),t.show()))}function u(){var t=n(".columnize"),i;t.lenth!=0&&(t.columnize({columns:3,lastNeverTallest:!0,buildOnce:!0}),n(window).resize(function(){clearTimeout(i);i=setTimeout(function(){n(".columnize").uncolumnize();window.matchMedia("(min-width: 768px)").matches&&n(".columnize").columnize({columns:3,lastNeverTallest:!0,buildOnce:!0})},200)}))}n(document).ready(function(){i();t();r();u()});n(document).on("headerAlertClose",function(){n.ajax({url:"/Navigation/DismissAlert",dataType:"json",type:"POST"}).done(function(t){t.success||n.error(t.error)})})}(jQuery),function(n,t,i){function s(){var t=n.L;r.noConflict=function(){return n.L=t,this};n.L=r}var r={version:"1.0.0-rc.1"},u,e,f,o;typeof module=="object"&&typeof module.exports=="object"?module.exports=r:typeof define=="function"&&define.amd&&define(r);typeof n!="undefined"&&s();r.Util={extend:function(n){for(var i,r,t=1,u=arguments.length;t<u;t++){r=arguments[t];for(i in r)n[i]=r[i]}return n},create:Object.create||function(){function n(){}return function(t){return n.prototype=t,new n}}(),bind:function(n,t){var i=Array.prototype.slice,r;return n.bind?n.bind.apply(n,i.call(arguments,1)):(r=i.call(arguments,2),function(){return n.apply(t,r.length?r.concat(i.call(arguments)):arguments)})},stamp:function(n){return n._leaflet_id=n._leaflet_id||++r.Util.lastId,n._leaflet_id},lastId:0,throttle:function(n,t,i){var u,r,f,e;return e=function(){u=!1;r&&(f.apply(i,r),r=!1)},f=function(){u?r=arguments:(n.apply(i,arguments),setTimeout(e,t),u=!0)}},wrapNum:function(n,t,i){var f=t[1],r=t[0],u=f-r;return n===f&&i?n:((n-r)%u+u)%u+r},falseFn:function(){return!1},formatNum:function(n,t){var i=Math.pow(10,t||5);return Math.round(n*i)/i},trim:function(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")},splitWords:function(n){return r.Util.trim(n).split(/\s+/)},setOptions:function(n,t){n.hasOwnProperty("options")||(n.options=n.options?r.Util.create(n.options):{});for(var i in t)n.options[i]=t[i];return n.options},getParamString:function(n,t,i){var u=[];for(var r in n)u.push(encodeURIComponent(i?r.toUpperCase():r)+"="+encodeURIComponent(n[r]));return(!t||t.indexOf("?")===-1?"?":"&")+u.join("&")},template:function(n,t){return n.replace(r.Util.templateRe,function(n,r){var u=t[r];if(u===i)throw new Error("No value provided for variable "+n);else typeof u=="function"&&(u=u(t));return u})},templateRe:/\{ *([\w_\-]+) *\}/g,isArray:Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"},indexOf:function(n,t){for(var i=0;i<n.length;i++)if(n[i]===t)return i;return-1},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function t(t){return n["webkit"+t]||n["moz"+t]||n["ms"+t]}function u(t){var r=+new Date,u=Math.max(0,16-(r-i));return i=r+u,n.setTimeout(t,u)}var i=0,f=n.requestAnimationFrame||t("RequestAnimationFrame")||u,e=n.cancelAnimationFrame||t("CancelAnimationFrame")||t("CancelRequestAnimationFrame")||function(t){n.clearTimeout(t)};r.Util.requestAnimFrame=function(t,i,e){if(e&&f===u)t.call(i);else return f.call(n,r.bind(t,i))};r.Util.cancelAnimFrame=function(t){t&&e.call(n,t)}}();r.extend=r.Util.extend;r.bind=r.Util.bind;r.stamp=r.Util.stamp;r.setOptions=r.Util.setOptions;r.Class=function(){};r.Class.extend=function(n){var i=function(){this.initialize&&this.initialize.apply(this,arguments);this.callInitHooks()},f=i.__super__=this.prototype,t=r.Util.create(f),u;t.constructor=i;i.prototype=t;for(u in this)this.hasOwnProperty(u)&&u!=="prototype"&&(i[u]=this[u]);return n.statics&&(r.extend(i,n.statics),delete n.statics),n.includes&&(r.Util.extend.apply(null,[t].concat(n.includes)),delete n.includes),t.options&&(n.options=r.Util.extend(r.Util.create(t.options),n.options)),r.extend(t,n),t._initHooks=[],t.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this);this._initHooksCalled=!0;for(var n=0,i=t._initHooks.length;n<i;n++)t._initHooks[n].call(this)}},i};r.Class.include=function(n){return r.extend(this.prototype,n),this};r.Class.mergeOptions=function(n){return r.extend(this.prototype.options,n),this};r.Class.addInitHook=function(n){var t=Array.prototype.slice.call(arguments,1),i=typeof n=="function"?n:function(){this[n].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};r.Evented=r.Class.extend({on:function(n,t,i){var f,u,e;if(typeof n=="object")for(f in n)this._on(f,n[f],t);else for(n=r.Util.splitWords(n),u=0,e=n.length;u<e;u++)this._on(n[u],t,i);return this},off:function(n,t,i){var f,u,e;if(n)if(typeof n=="object")for(f in n)this._off(f,n[f],t);else for(n=r.Util.splitWords(n),u=0,e=n.length;u<e;u++)this._off(n[u],t,i);else delete this._events;return this},_on:function(n,t,i){var u=this._events=this._events||{},f=i&&i!==this&&r.stamp(i);if(f){var e=n+"_idx",o=n+"_len",s=u[e]=u[e]||{},h=r.stamp(t)+"_"+f;s[h]||(s[h]={fn:t,ctx:i},u[o]=(u[o]||0)+1)}else u[n]=u[n]||[],u[n].push({fn:t})},_off:function(n,t,i){var f=this._events,c=n+"_idx",l=n+"_len",h,u,e,a,o,s;if(f){if(!t){delete f[n];delete f[c];delete f[l];return}if(h=i&&i!==this&&r.stamp(i),h)s=r.stamp(t)+"_"+h,u=f[c],u&&u[s]&&(o=u[s],delete u[s],f[l]--);else if(u=f[n],u)for(e=0,a=u.length;e<a;e++)if(u[e].fn===t){o=u[e];u.splice(e,1);break}o&&(o.fn=r.Util.falseFn)}},fire:function(n,t,i){var f,u,e,o,c,s,h;if(!this.listens(n,i))return this;if(f=r.Util.extend({},t,{type:n,target:this}),u=this._events,u){if(e=u[n+"_idx"],u[n])for(s=u[n].slice(),o=0,c=s.length;o<c;o++)s[o].fn.call(this,f);for(h in e)e[h].fn.call(e[h].ctx,f)}return i&&this._propagateEvent(f),this},listens:function(n,t){var i=this._events,r;if(i&&(i[n]||i[n+"_len"]))return!0;if(t)for(r in this._eventParents)if(this._eventParents[r].listens(n,t))return!0;return!1},once:function(n,t,i){var u,f;if(typeof n=="object"){for(u in n)this.once(u,n[u],t);return this}f=r.bind(function(){this.off(n,t,i).off(n,f,i)},this);return this.on(n,t,i).on(n,f,i)},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[r.stamp(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[r.stamp(n)],this},_propagateEvent:function(n){for(var t in this._eventParents)this._eventParents[t].fire(n.type,r.extend({layer:n.target},n),!0)}});u=r.Evented.prototype;u.addEventListener=u.on;u.removeEventListener=u.clearAllEventListeners=u.off;u.addOneTimeEventListener=u.once;u.fireEvent=u.fire;u.hasEventListeners=u.listens;r.Mixin={Events:u},function(){var i=navigator.userAgent.toLowerCase(),e=t.documentElement,f="ActiveXObject"in n,o=i.indexOf("webkit")!==-1,b=i.indexOf("phantom")!==-1,h=i.search("android [23]")!==-1,c=i.indexOf("chrome")!==-1,l=i.indexOf("gecko")!==-1&&!o&&!n.opera&&!f,u=typeof orientation!="undefined"||i.indexOf("mobile")!==-1,a=!n.PointerEvent&&n.MSPointerEvent,v=n.PointerEvent||a,y=f&&"transition"in e.style,s="WebKitCSSMatrix"in n&&"m11"in new n.WebKitCSSMatrix&&!h,p="MozPerspective"in e.style,w="OTransition"in e.style,k=!n.L_NO_TOUCH&&(v||"ontouchstart"in n||n.DocumentTouch&&t instanceof n.DocumentTouch);r.Browser={ie:f,ielt9:f&&!t.addEventListener,edge:"msLaunchUri"in navigator&&!("documentMode"in t),webkit:o,gecko:l,android:i.indexOf("android")!==-1,android23:h,chrome:c,safari:!c&&i.indexOf("safari")!==-1,ie3d:y,webkit3d:s,gecko3d:p,opera12:w,any3d:!n.L_DISABLE_3D&&(y||s||p)&&!w&&!b,mobile:u,mobileWebkit:u&&o,mobileWebkit3d:u&&s,mobileOpera:u&&n.opera,mobileGecko:u&&l,touch:!!k,msPointer:!!a,pointer:!!v,retina:(n.devicePixelRatio||n.screen.deviceXDPI/n.screen.logicalXDPI)>1}}();r.Point=function(n,t,i){this.x=i?Math.round(n):n;this.y=i?Math.round(t):t};r.Point.prototype={clone:function(){return new r.Point(this.x,this.y)},add:function(n){return this.clone()._add(r.point(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(r.point(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new r.Point(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new r.Point(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(n){n=r.point(n);var t=n.x-this.x,i=n.y-this.y;return Math.sqrt(t*t+i*i)},equals:function(n){return n=r.point(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=r.point(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+r.Util.formatNum(this.x)+", "+r.Util.formatNum(this.y)+")"}};r.point=function(n,t,u){return n instanceof r.Point?n:r.Util.isArray(n)?new r.Point(n[0],n[1]):n===i||n===null?n:new r.Point(n,t,u)};r.Bounds=function(n,t){var r,i,u;if(n)for(r=t?[n,t]:n,i=0,u=r.length;i<u;i++)this.extend(r[i])};r.Bounds.prototype={extend:function(n){return n=r.point(n),this.min||this.max?(this.min.x=Math.min(n.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(n.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=n.clone(),this.max=n.clone()),this},getCenter:function(n){return new r.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return new r.Point(this.min.x,this.max.y)},getTopRight:function(){return new r.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var t,i;return n=typeof n[0]=="number"||n instanceof r.Point?r.point(n):r.bounds(n),n instanceof r.Bounds?(t=n.min,i=n.max):t=i=n,t.x>=this.min.x&&i.x<=this.max.x&&t.y>=this.min.y&&i.y<=this.max.y},intersects:function(n){n=r.bounds(n);var t=this.min,i=this.max,u=n.min,f=n.max,e=f.x>=t.x&&u.x<=i.x,o=f.y>=t.y&&u.y<=i.y;return e&&o},overlaps:function(n){n=r.bounds(n);var t=this.min,i=this.max,u=n.min,f=n.max,e=f.x>t.x&&u.x<i.x,o=f.y>t.y&&u.y<i.y;return e&&o},isValid:function(){return!!(this.min&&this.max)}};r.bounds=function(n,t){return!n||n instanceof r.Bounds?n:new r.Bounds(n,t)};r.Transformation=function(n,t,i,r){this._a=n;this._b=t;this._c=i;this._d=r};r.Transformation.prototype={transform:function(n,t){return this._transform(n.clone(),t)},_transform:function(n,t){return t=t||1,n.x=t*(this._a*n.x+this._b),n.y=t*(this._c*n.y+this._d),n},untransform:function(n,t){return t=t||1,new r.Point((n.x/t-this._b)/this._a,(n.y/t-this._d)/this._c)}};r.DomUtil={get:function(n){return typeof n=="string"?t.getElementById(n):n},getStyle:function(n,i){var r=n.style[i]||n.currentStyle&&n.currentStyle[i],u;return(!r||r==="auto")&&t.defaultView&&(u=t.defaultView.getComputedStyle(n,null),r=u?u[i]:null),r==="auto"?null:r},create:function(n,i,r){var u=t.createElement(n);return u.className=i,r&&r.appendChild(u),u},remove:function(n){var t=n.parentNode;t&&t.removeChild(n)},empty:function(n){while(n.firstChild)n.removeChild(n.firstChild)},toFront:function(n){n.parentNode.appendChild(n)},toBack:function(n){var t=n.parentNode;t.insertBefore(n,t.firstChild)},hasClass:function(n,t){if(n.classList!==i)return n.classList.contains(t);var u=r.DomUtil.getClass(n);return u.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(u)},addClass:function(n,t){var f,u,o,e;if(n.classList!==i)for(f=r.Util.splitWords(t),u=0,o=f.length;u<o;u++)n.classList.add(f[u]);else r.DomUtil.hasClass(n,t)||(e=r.DomUtil.getClass(n),r.DomUtil.setClass(n,(e?e+" ":"")+t))},removeClass:function(n,t){n.classList!==i?n.classList.remove(t):r.DomUtil.setClass(n,r.Util.trim((" "+r.DomUtil.getClass(n)+" ").replace(" "+t+" "," ")))},setClass:function(n,t){n.className.baseVal===i?n.className=t:n.className.baseVal=t},getClass:function(n){return n.className.baseVal===i?n.className:n.className.baseVal},setOpacity:function(n,t){"opacity"in n.style?n.style.opacity=t:"filter"in n.style&&r.DomUtil._setOpacityIE(n,t)},_setOpacityIE:function(n,t){var i=!1,r="DXImageTransform.Microsoft.Alpha";try{i=n.filters.item(r)}catch(u){if(t===1)return}t=Math.round(t*100);i?(i.Enabled=t!==100,i.Opacity=t):n.style.filter+=" progid:"+r+"(opacity="+t+")"},testProp:function(n){for(var r=t.documentElement.style,i=0;i<n.length;i++)if(n[i]in r)return n[i];return!1},setTransform:function(n,t,i){var u=t||new r.Point(0,0);n.style[r.DomUtil.TRANSFORM]=(r.Browser.ie3d?"translate("+u.x+"px,"+u.y+"px)":"translate3d("+u.x+"px,"+u.y+"px,0)")+(i?" scale("+i+")":"")},setPosition:function(n,t){n._leaflet_pos=t;r.Browser.any3d?r.DomUtil.setTransform(n,t):(n.style.left=t.x+"px",n.style.top=t.y+"px")},getPosition:function(n){return n._leaflet_pos||new r.Point(0,0)}},function(){var u,i;r.DomUtil.TRANSFORM=r.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);u=r.DomUtil.TRANSITION=r.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);r.DomUtil.TRANSITION_END=u==="webkitTransition"||u==="OTransition"?u+"End":"transitionend";"onselectstart"in t?(r.DomUtil.disableTextSelection=function(){r.DomEvent.on(n,"selectstart",r.DomEvent.preventDefault)},r.DomUtil.enableTextSelection=function(){r.DomEvent.off(n,"selectstart",r.DomEvent.preventDefault)}):(i=r.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),r.DomUtil.disableTextSelection=function(){if(i){var n=t.documentElement.style;this._userSelect=n[i];n[i]="none"}},r.DomUtil.enableTextSelection=function(){i&&(t.documentElement.style[i]=this._userSelect,delete this._userSelect)});r.DomUtil.disableImageDrag=function(){r.DomEvent.on(n,"dragstart",r.DomEvent.preventDefault)};r.DomUtil.enableImageDrag=function(){r.DomEvent.off(n,"dragstart",r.DomEvent.preventDefault)};r.DomUtil.preventOutline=function(t){while(t.tabIndex===-1)t=t.parentNode;if(t&&t.style){r.DomUtil.restoreOutline();this._outlineElement=t;this._outlineStyle=t.style.outline;t.style.outline="none";r.DomEvent.on(n,"keydown",r.DomUtil.restoreOutline,this)}};r.DomUtil.restoreOutline=function(){this._outlineElement&&(this._outlineElement.style.outline=this._outlineStyle,delete this._outlineElement,delete this._outlineStyle,r.DomEvent.off(n,"keydown",r.DomUtil.restoreOutline,this))}}();r.LatLng=function(n,t,r){if(isNaN(n)||isNaN(t))throw new Error("Invalid LatLng object: ("+n+", "+t+")");this.lat=+n;this.lng=+t;r!==i&&(this.alt=+r)};r.LatLng.prototype={equals:function(n,t){if(!n)return!1;n=r.latLng(n);var u=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return u<=(t===i?1e-9:t)},toString:function(n){return"LatLng("+r.Util.formatNum(this.lat,n)+", "+r.Util.formatNum(this.lng,n)+")"},distanceTo:function(n){return r.CRS.Earth.distance(this,r.latLng(n))},wrap:function(){return r.CRS.Earth.wrapLatLng(this)},toBounds:function(n){var t=180*n/40075017,i=t/Math.cos(Math.PI/180*this.lat);return r.latLngBounds([this.lat-t,this.lng-i],[this.lat+t,this.lng+i])},clone:function(){return new r.LatLng(this.lat,this.lng,this.alt)}};r.latLng=function(n,t,u){return n instanceof r.LatLng?n:r.Util.isArray(n)&&typeof n[0]!="object"?n.length===3?new r.LatLng(n[0],n[1],n[2]):n.length===2?new r.LatLng(n[0],n[1]):null:n===i||n===null?n:typeof n=="object"&&"lat"in n?new r.LatLng(n.lat,"lng"in n?n.lng:n.lon,n.alt):t===i?null:new r.LatLng(n,t,u)};r.LatLngBounds=function(n,t){var r,i,u;if(n)for(r=t?[n,t]:n,i=0,u=r.length;i<u;i++)this.extend(r[i])};r.LatLngBounds.prototype={extend:function(n){var u=this._southWest,f=this._northEast,t,i;if(n instanceof r.LatLng)t=n,i=n;else if(n instanceof r.LatLngBounds){if(t=n._southWest,i=n._northEast,!t||!i)return this}else return n?this.extend(r.latLng(n)||r.latLngBounds(n)):this;return u||f?(u.lat=Math.min(t.lat,u.lat),u.lng=Math.min(t.lng,u.lng),f.lat=Math.max(i.lat,f.lat),f.lng=Math.max(i.lng,f.lng)):(this._southWest=new r.LatLng(t.lat,t.lng),this._northEast=new r.LatLng(i.lat,i.lng)),this},pad:function(n){var t=this._southWest,i=this._northEast,u=Math.abs(t.lat-i.lat)*n,f=Math.abs(t.lng-i.lng)*n;return new r.LatLngBounds(new r.LatLng(t.lat-u,t.lng-f),new r.LatLng(i.lat+u,i.lng+f))},getCenter:function(){return new r.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new r.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new r.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){n=typeof n[0]=="number"||n instanceof r.LatLng?r.latLng(n):r.latLngBounds(n);var u=this._southWest,f=this._northEast,t,i;return n instanceof r.LatLngBounds?(t=n.getSouthWest(),i=n.getNorthEast()):t=i=n,t.lat>=u.lat&&i.lat<=f.lat&&t.lng>=u.lng&&i.lng<=f.lng},intersects:function(n){n=r.latLngBounds(n);var t=this._southWest,i=this._northEast,u=n.getSouthWest(),f=n.getNorthEast(),e=f.lat>=t.lat&&u.lat<=i.lat,o=f.lng>=t.lng&&u.lng<=i.lng;return e&&o},overlaps:function(n){n=r.latLngBounds(n);var t=this._southWest,i=this._northEast,u=n.getSouthWest(),f=n.getNorthEast(),e=f.lat>t.lat&&u.lat<i.lat,o=f.lng>t.lng&&u.lng<i.lng;return e&&o},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n){return n?(n=r.latLngBounds(n),this._southWest.equals(n.getSouthWest())&&this._northEast.equals(n.getNorthEast())):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};r.latLngBounds=function(n,t){return n instanceof r.LatLngBounds?n:new r.LatLngBounds(n,t)};r.Projection={};r.Projection.LonLat={project:function(n){return new r.Point(n.lng,n.lat)},unproject:function(n){return new r.LatLng(n.y,n.x)},bounds:r.bounds([-180,-90],[180,90])};r.Projection.SphericalMercator={R:6378137,MAX_LATITUDE:85.0511287798,project:function(n){var t=Math.PI/180,i=this.MAX_LATITUDE,f=Math.max(Math.min(i,n.lat),-i),u=Math.sin(f*t);return new r.Point(this.R*n.lng*t,this.R*Math.log((1+u)/(1-u))/2)},unproject:function(n){var t=180/Math.PI;return new r.LatLng((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*t,n.x*t/this.R)},bounds:function(){var n=6378137*Math.PI;return r.bounds([-n,-n],[n,n])}()};r.CRS={latLngToPoint:function(n,t){var i=this.projection.project(n),r=this.scale(t);return this.transformation._transform(i,r)},pointToLatLng:function(n,t){var i=this.scale(t),r=this.transformation.untransform(n,i);return this.projection.unproject(r)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var t=this.projection.bounds,i=this.scale(n),u=this.transformation.transform(t.min,i),f=this.transformation.transform(t.max,i);return r.bounds(u,f)},infinite:!1,wrapLatLng:function(n){var t=this.wrapLng?r.Util.wrapNum(n.lng,this.wrapLng,!0):n.lng,i=this.wrapLat?r.Util.wrapNum(n.lat,this.wrapLat,!0):n.lat,u=n.alt;return r.latLng(i,t,u)}};r.CRS.Simple=r.extend({},r.CRS,{projection:r.Projection.LonLat,transformation:new r.Transformation(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,t){var i=t.lng-n.lng,r=t.lat-n.lat;return Math.sqrt(i*i+r*r)},infinite:!0});r.CRS.Earth=r.extend({},r.CRS,{wrapLng:[-180,180],R:6371e3,distance:function(n,t){var i=Math.PI/180,r=n.lat*i,u=t.lat*i,f=Math.sin(r)*Math.sin(u)+Math.cos(r)*Math.cos(u)*Math.cos((t.lng-n.lng)*i);return this.R*Math.acos(Math.min(f,1))}});r.CRS.EPSG3857=r.extend({},r.CRS.Earth,{code:"EPSG:3857",projection:r.Projection.SphericalMercator,transformation:function(){var n=.5/(Math.PI*r.Projection.SphericalMercator.R);return new r.Transformation(n,.5,-n,.5)}()});r.CRS.EPSG900913=r.extend({},r.CRS.EPSG3857,{code:"EPSG:900913"});r.CRS.EPSG4326=r.extend({},r.CRS.Earth,{code:"EPSG:4326",projection:r.Projection.LonLat,transformation:new r.Transformation(1/180,1,-1/180,.5)});r.Map=r.Evented.extend({options:{crs:r.CRS.EPSG3857,center:i,zoom:i,minZoom:i,maxZoom:i,layers:[],maxBounds:i,renderer:i,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,t){t=r.setOptions(this,t);this._initContainer(n);this._initLayout();this._onResize=r.bind(this._onResize,this);this._initEvents();t.maxBounds&&this.setMaxBounds(t.maxBounds);t.zoom!==i&&(this._zoom=this._limitZoom(t.zoom));t.center&&t.zoom!==i&&this.setView(r.latLng(t.center),t.zoom,{reset:!0});this._handlers=[];this._layers={};this._zoomBoundLayers={};this._sizeChanged=!0;this.callInitHooks();this._addLayers(this.options.layers)},setView:function(n,t){return t=t===i?this.getZoom():t,this._resetView(r.latLng(n),t),this},setZoom:function(n,t){return this._loaded?this.setView(this.getCenter(),n,{zoom:t}):(this._zoom=n,this)},zoomIn:function(n,t){return n=n||(r.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,t)},zoomOut:function(n,t){return n=n||(r.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,t)},setZoomAround:function(n,t,i){var f=this.getZoomScale(t),u=this.getSize().divideBy(2),e=n instanceof r.Point?n:this.latLngToContainerPoint(n),o=e.subtract(u).multiplyBy(1-1/f),s=this.containerPointToLatLng(u.add(o));return this.setView(s,t,{zoom:i})},_getBoundsCenterZoom:function(n,t){t=t||{};n=n.getBounds?n.getBounds():r.latLngBounds(n);var u=r.point(t.paddingTopLeft||t.padding||[0,0]),f=r.point(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(n,!1,u.add(f));i=typeof t.maxZoom=="number"?Math.min(t.maxZoom,i):i;var e=f.subtract(u).divideBy(2),o=this.project(n.getSouthWest(),i),s=this.project(n.getNorthEast(),i),h=this.unproject(o.add(s).divideBy(2).add(e),i);return{center:h,zoom:i}},fitBounds:function(n,t){if(n=r.latLngBounds(n),!n.isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(n,t);return this.setView(i.center,i.zoom,t)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,t){return this.setView(n,this._zoom,{pan:t})},panBy:function(n){return this.fire("movestart"),this._rawPanBy(r.point(n)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(n){if(n=r.latLngBounds(n),n)this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds);else return this.off("moveend",this._panInsideMaxBounds);this.options.maxBounds=n;this._loaded&&this._panInsideMaxBounds();return this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(n){return(this.options.minZoom=n,this._loaded&&this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){return(this.options.maxZoom=n,this._loaded&&this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,t){this._enforcingBounds=!0;var i=this.getCenter(),u=this._limitCenter(i,this._zoom,r.latLngBounds(n));return i.equals(u)||this.panTo(u,t),this._enforcingBounds=!1,this},invalidateSize:function(n){var i;if(!this._loaded)return this;n=r.extend({animate:!1,pan:!0},n===!0?{animate:!0}:n);i=this.getSize();this._sizeChanged=!0;this._lastCenter=null;var u=this.getSize(),f=i.divideBy(2).round(),e=u.divideBy(2).round(),t=f.subtract(e);return!t.x&&!t.y?this:(n.animate&&n.pan?this.panBy(t):(n.pan&&this._rawPanBy(t),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},addHandler:function(n,t){if(!t)return this;var i=this[n]=new t(this);return this._handlers.push(i),this.options[n]&&i.enable(),this},remove:function(){this._initEvents(!0);try{delete this._container._leaflet}catch(t){this._container._leaflet=i}r.DomUtil.remove(this._mapPane);this._clearControlPos&&this._clearControlPos();this._clearHandlers();this._loaded&&this.fire("unload");for(var n in this._layers)this._layers[n].remove();return this},createPane:function(n,t){var u="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),i=r.DomUtil.create("div",u,t||this._mapPane);return n&&(this._panes[n]=i),i},getCenter:function(){return(this._checkIfLoaded(),this._lastCenter&&!this._moved())?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),t=this.unproject(n.getBottomLeft()),i=this.unproject(n.getTopRight());return new r.LatLngBounds(t,i)},getMinZoom:function(){return this.options.minZoom===i?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===i?this._layersMaxZoom===i?Infinity:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,t,i){n=r.latLngBounds(n);i=r.point(i||[0,0]);var u=this.getZoom()||0,s=this.getMinZoom(),h=this.getMaxZoom(),c=n.getNorthWest(),l=n.getSouthEast(),e=this.getSize(),o=this.project(l,u).subtract(this.project(c,u)).add(i),f=r.Browser.any3d?this.options.zoomSnap:1,a=Math.min(e.x/o.x,e.y/o.y);return u=this.getScaleZoom(a,u),f&&(u=Math.round(u/(f/100))*(f/100),u=t?Math.ceil(u/f)*f:Math.floor(u/f)*f),Math.max(s,Math.min(h,u))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new r.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,t){var i=this._getTopLeftPoint(n,t);return new r.Bounds(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===i?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,t){var r=this.options.crs;return t=t===i?this._zoom:t,r.scale(n)/r.scale(t)},getScaleZoom:function(n,t){var r=this.options.crs;return t=t===i?this._zoom:t,r.zoom(n*r.scale(t))},project:function(n,t){return t=t===i?this._zoom:t,this.options.crs.latLngToPoint(r.latLng(n),t)},unproject:function(n,t){return t=t===i?this._zoom:t,this.options.crs.pointToLatLng(r.point(n),t)},layerPointToLatLng:function(n){var t=r.point(n).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(n){var t=this.project(r.latLng(n))._round();return t._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(r.latLng(n))},distance:function(n,t){return this.options.crs.distance(r.latLng(n),r.latLng(t))},containerPointToLayerPoint:function(n){return r.point(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return r.point(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var t=this.containerPointToLayerPoint(r.point(n));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(r.latLng(n)))},mouseEventToContainerPoint:function(n){return r.DomEvent.getMousePosition(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var t=this._container=r.DomUtil.get(n);if(t){if(t._leaflet)throw new Error("Map container is already initialized.");}else throw new Error("Map container not found.");r.DomEvent.addListener(t,"scroll",this._onScroll,this);t._leaflet=!0},_initLayout:function(){var t=this._container,n;this._fadeAnimated=this.options.fadeAnimation&&r.Browser.any3d;r.DomUtil.addClass(t,"leaflet-container"+(r.Browser.touch?" leaflet-touch":"")+(r.Browser.retina?" leaflet-retina":"")+(r.Browser.ielt9?" leaflet-oldie":"")+(r.Browser.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));n=r.DomUtil.getStyle(t,"position");n!=="absolute"&&n!=="relative"&&n!=="fixed"&&(t.style.position="relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={};this._mapPane=this.createPane("mapPane",this._container);r.DomUtil.setPosition(this._mapPane,new r.Point(0,0));this.createPane("tilePane");this.createPane("shadowPane");this.createPane("overlayPane");this.createPane("markerPane");this.createPane("popupPane");this.options.markerZoomAnimation||(r.DomUtil.addClass(n.markerPane,"leaflet-zoom-hide"),r.DomUtil.addClass(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,t){var u,i;r.DomUtil.setPosition(this._mapPane,new r.Point(0,0));u=!this._loaded;this._loaded=!0;t=this._limitZoom(t);this.fire("viewprereset");i=this._zoom!==t;this._moveStart(i)._move(n,t)._moveEnd(i);this.fire("viewreset");u&&this.fire("load")},_moveStart:function(n){return n&&this.fire("zoomstart"),this.fire("movestart")},_move:function(n,t,r){t===i&&(t=this._zoom);var u=this._zoom!==t;return this._zoom=t,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),(u||r&&r.pinch)&&this.fire("zoom",r),this.fire("move",r)},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return r.Util.cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){r.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.");},_initEvents:function(t){if(r.DomEvent){this._targets={};this._targets[r.stamp(this._container)]=this;var i=t?"off":"on";r.DomEvent[i](this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this);this.options.trackResize&&r.DomEvent[i](n,"resize",this._onResize,this);r.Browser.any3d&&this.options.transform3DLimit&&this[i]("moveend",this._onMoveEnd)}},_onResize:function(){r.Util.cancelAnimFrame(this._resizeRequest);this._resizeRequest=r.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0;this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,t){for(var f=[],u,e=t==="mouseout"||t==="mouseover",i=n.target||n.srcElement,o=!1;i;){if(u=this._targets[r.stamp(i)],u&&(t==="click"||t==="preclick")&&!n._simulated&&this._draggableMoved(u)){o=!0;break}if(u&&u.listens(t,!0)){if(e&&!r.DomEvent._isExternalTarget(i,n))break;if(f.push(u),e)break}if(i===this._container)break;i=i.parentNode}return f.length||o||e||!r.DomEvent._isExternalTarget(i,n)||(f=[this]),f},_handleDOMEvent:function(n){var t,i;this._loaded&&!r.DomEvent._skipped(n)&&(t=n.type==="keypress"&&n.keyCode===13?"click":n.type,n.type==="click"&&(i=r.Util.extend({},n),i.type="preclick",this._handleDOMEvent(i)),t==="mousedown"&&r.DomUtil.preventOutline(n.target||n.srcElement),this._fireDOMEvent(n,t))},_fireDOMEvent:function(n,t,i){var e,u,o,f;if(!n._stopped&&(i=(i||[]).concat(this._findEventTargets(n,t)),i.length))for(e=i[0],t==="contextmenu"&&e.listens(t,!0)&&r.DomEvent.preventDefault(n),u={originalEvent:n},n.type!=="keypress"&&(o=e instanceof r.Marker,u.containerPoint=o?this.latLngToContainerPoint(e.getLatLng()):this.mouseEventToContainerPoint(n),u.layerPoint=this.containerPointToLayerPoint(u.containerPoint),u.latlng=o?e.getLatLng():this.layerPointToLatLng(u.layerPoint)),f=0;f<i.length;f++)if(i[f].fire(t,u,!0),u.originalEvent._stopped||i[f].options.nonBubblingEvents&&r.Util.indexOf(i[f].options.nonBubblingEvents,t)!==-1)return},_draggableMoved:function(n){return n=n.options.draggable?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,t=this._handlers.length;n<t;n++)this._handlers[n].disable()},whenReady:function(n,t){if(this._loaded)n.call(t||this,{target:this});else this.on("load",n,t);return this},_getMapPanePos:function(){return r.DomUtil.getPosition(this._mapPane)||new r.Point(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,t){var r=n&&t!==i?this._getNewPixelOrigin(n,t):this.getPixelOrigin();return r.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,t){var i=this.getSize()._divideBy(2);return this.project(n,t)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,t,i){var r=this._getNewPixelOrigin(i,t);return this.project(n,t)._subtract(r)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,t,i){if(!i)return n;var u=this.project(n,t),f=this.getSize().divideBy(2),o=new r.Bounds(u.subtract(f),u.add(f)),e=this._getBoundsOffset(o,i,t);return e.round().equals([0,0])?n:this.unproject(u.add(e),t)},_limitOffset:function(n,t){if(!t)return n;var i=this.getPixelBounds(),u=new r.Bounds(i.min.add(n),i.max.add(n));return n.add(this._getBoundsOffset(u,t))},_getBoundsOffset:function(n,t,i){var u=r.bounds(this.project(t.getNorthEast(),i),this.project(t.getSouthWest(),i)),f=u.min.subtract(n.min),e=u.max.subtract(n.max),o=this._rebound(f.x,-e.x),s=this._rebound(f.y,-e.y);return new r.Point(o,s)},_rebound:function(n,t){return n+t>0?Math.round(n-t)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(t))},_limitZoom:function(n){var i=this.getMinZoom(),u=this.getMaxZoom(),t=r.Browser.any3d?this.options.zoomSnap:1;return t&&(n=Math.round(n/t)*t),Math.max(i,Math.min(u,n))}});r.map=function(n,t){return new r.Map(n,t)};r.Layer=r.Evented.extend({options:{pane:"overlayPane",nonBubblingEvents:[]},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[r.stamp(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[r.stamp(n)],this},_layerAdd:function(n){var t=n.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents)t.on(this.getEvents(),this);this.onAdd(t);this.getAttribution&&this._map.attributionControl&&this._map.attributionControl.addAttribution(this.getAttribution());this.fire("add");t.fire("layeradd",{layer:this})}}});r.Map.include({addLayer:function(n){var t=r.stamp(n);return this._layers[t]?n:(this._layers[t]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var t=r.stamp(n);if(!this._layers[t])return this;if(this._loaded)n.onRemove(this);return n.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(n.getAttribution()),n.getEvents&&this.off(n.getEvents(),n),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this},hasLayer:function(n){return!!n&&r.stamp(n)in this._layers},eachLayer:function(n,t){for(var i in this._layers)n.call(t,this._layers[i]);return this},_addLayers:function(n){n=n?r.Util.isArray(n)?n:[n]:[];for(var t=0,i=n.length;t<i;t++)this.addLayer(n[t])},_addZoomLimit:function(n){(isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[r.stamp(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var t=r.stamp(n);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var n=Infinity,t=-Infinity,f=this._getZoomSpan(),u,r;for(u in this._zoomBoundLayers)r=this._zoomBoundLayers[u].options,n=r.minZoom===i?n:Math.min(n,r.minZoom),t=r.maxZoom===i?t:Math.max(t,r.maxZoom);this._layersMaxZoom=t===-Infinity?i:t;this._layersMinZoom=n===Infinity?i:n;f!==this._getZoomSpan()&&this.fire("zoomlevelschange")}});r.Projection.Mercator={R:6378137,R_MINOR:6356752.3142451793,bounds:r.bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(n){var u=Math.PI/180,i=this.R,t=n.lat*u,f=this.R_MINOR/i,e=Math.sqrt(1-f*f),o=e*Math.sin(t),s=Math.tan(Math.PI/4-t/2)/Math.pow((1-o)/(1+o),e/2);return t=-i*Math.log(Math.max(s,1e-10)),new r.Point(n.lng*u*i,t)},unproject:function(n){for(var e=180/Math.PI,u=this.R,o=this.R_MINOR/u,s=Math.sqrt(1-o*o),h=Math.exp(-n.y/u),i=Math.PI/2-2*Math.atan(h),c=0,f=.1,t;c<15&&Math.abs(f)>1e-7;c++)t=s*Math.sin(i),t=Math.pow((1-t)/(1+t),s/2),f=Math.PI/2-2*Math.atan(h*t)-i,i+=f;return new r.LatLng(i*e,n.x*e/u)}};r.CRS.EPSG3395=r.extend({},r.CRS.Earth,{code:"EPSG:3395",projection:r.Projection.Mercator,transformation:function(){var n=.5/(Math.PI*r.Projection.Mercator.R);return new r.Transformation(n,.5,-n,.5)}()});r.GridLayer=r.Layer.extend({options:{tileSize:256,opacity:1,updateWhenIdle:r.Browser.mobile,updateInterval:200,attribution:null,zIndex:1,bounds:null,minZoom:0,noWrap:!1,pane:"tilePane"},initialize:function(n){n=r.setOptions(this,n)},onAdd:function(){this._initContainer();this._levels={};this._tiles={};this._resetView();this._update()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles();r.DomUtil.remove(this._container);n._removeZoomLimit(this);this._container=null;this._tileZoom=null},bringToFront:function(){return this._map&&(r.DomUtil.toFront(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(r.DomUtil.toBack(this._container),this._setAutoZIndex(Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=r.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return t.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof r.Point?n:new r.Point(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==i&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var r=this.getPane().children,t=-n(-Infinity,Infinity),i=0,f=r.length,u;i<f;i++)u=r[i].style.zIndex,r[i]!==this._container&&u&&(t=n(t,+u));isFinite(t)&&(this.options.zIndex=t+n(-1,1),this._updateZIndex())},_updateOpacity:function(){var f,n,t;if(this._map&&!r.Browser.ielt9){r.DomUtil.setOpacity(this._container,this.options.opacity);var e=+new Date,i=!1,u=!1;for(f in this._tiles)(n=this._tiles[f],n.current&&n.loaded)&&(t=Math.min(1,(e-n.loaded)/200),r.DomUtil.setOpacity(n.el,t),t<1?i=!0:(n.active&&(u=!0),n.active=!0));u&&!this._noPrune&&this._pruneTiles();i&&(r.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=r.Util.requestAnimFrame(this._updateOpacity,this))}},_initContainer:function(){this._container||(this._container=r.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,e=this.options.maxZoom,t,n,f;if(u===i)return i;for(t in this._levels)this._levels[t].el.children.length||t===u?this._levels[t].el.style.zIndex=e-Math.abs(u-t):(r.DomUtil.remove(this._levels[t].el),this._removeTilesAtZoom(t),delete this._levels[t]);return n=this._levels[u],f=this._map,n||(n=this._levels[u]={},n.el=r.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=e,n.origin=f.project(f.unproject(f.getPixelOrigin()),u).round(),n.zoom=u,this._setZoomTransform(n,f.getCenter(),f.getZoom()),r.Util.falseFn(n.el.offsetWidth)),this._level=n,n},_pruneTiles:function(){var t,i,r,n;if(this._map){if(r=this._map.getZoom(),r>this.options.maxZoom||r<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)i=this._tiles[t],i.retain=i.current;for(t in this._tiles)i=this._tiles[t],i.current&&!i.active&&(n=i.coords,this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2));for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(n){for(var t in this._tiles)this._tiles[t].coords.z===n&&this._removeTile(t)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)r.DomUtil.remove(this._levels[n].el),delete this._levels[n];this._removeAllTiles();this._tileZoom=null},_retainParent:function(n,t,i,u){var o=Math.floor(n/2),s=Math.floor(t/2),e=i-1,h=new r.Point(+o,+s),c,f;return(h.z=+e,c=this._tileCoordsToKey(h),f=this._tiles[c],f&&f.active)?(f.retain=!0,!0):(f&&f.loaded&&(f.retain=!0),e>u)?this._retainParent(o,s,e,u):!1},_retainChildren:function(n,t,i,u){for(var o,s,h,f,e=2*n;e<2*n+2;e++)for(o=2*t;o<2*t+2;o++){if(s=new r.Point(e,o),s.z=i+1,h=this._tileCoordsToKey(s),f=this._tiles[h],f&&f.active){f.retain=!0;continue}else f&&f.loaded&&(f.retain=!0);i+1<u&&this._retainChildren(e,o,i+1,u)}},_resetView:function(n){var t=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_setView:function(n,t,r,u){var f=Math.round(t),e;(this.options.maxZoom!==i&&f>this.options.maxZoom||this.options.minZoom!==i&&f<this.options.minZoom)&&(f=i);e=f!==this._tileZoom;(!u||e)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==i&&this._update(n),r||this._pruneTiles(),this._noPrune=!!r);this._setZoomTransforms(n,t)},_setZoomTransforms:function(n,t){for(var i in this._levels)this._setZoomTransform(this._levels[i],n,t)},_setZoomTransform:function(n,t,i){var u=this._map.getZoomScale(i,n.zoom),f=n.origin.multiplyBy(u).subtract(this._map._getNewPixelOrigin(t,i)).round();r.Browser.any3d?r.DomUtil.setTransform(n.el,f,u):r.DomUtil.setPosition(n.el,f)},_resetGrid:function(){var t=this._map,n=t.options.crs,i=this._tileSize=this.getTileSize(),r=this._tileZoom,u=this._map.getPixelWorldBounds(this._tileZoom);u&&(this._globalTileRange=this._pxBoundsToTileRange(u));this._wrapX=n.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,n.wrapLng[0]],r).x/i.x),Math.ceil(t.project([0,n.wrapLng[1]],r).x/i.y)];this._wrapY=n.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([n.wrapLat[0],0],r).y/i.x),Math.ceil(t.project([n.wrapLat[1],0],r).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._resetView()},_getTiledPixelBounds:function(n){var t=this._map,f=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),e=t.getZoomScale(f,this._tileZoom),i=t.project(n,this._tileZoom).floor(),u=t.getSize().divideBy(e*2);return new r.Bounds(i.subtract(u),i.add(u))},_update:function(n){var h=this._map,c,y,s,u,o,l,a;if(h&&(c=h.getZoom(),n===i&&(n=h.getCenter()),this._tileZoom!==i)){var p=this._getTiledPixelBounds(n),f=this._pxBoundsToTileRange(p),v=f.getCenter(),e=[];for(y in this._tiles)this._tiles[y].current=!1;if(Math.abs(c-this._tileZoom)>1){this._setView(n,c);return}for(s=f.min.y;s<=f.max.y;s++)for(u=f.min.x;u<=f.max.x;u++)(o=new r.Point(u,s),o.z=this._tileZoom,this._isValidTile(o))&&(l=this._tiles[this._tileCoordsToKey(o)],l?l.current=!0:e.push(o));if(e.sort(function(n,t){return n.distanceTo(v)-t.distanceTo(v)}),e.length!==0){for(this._loading||(this._loading=!0,this.fire("loading")),a=t.createDocumentFragment(),u=0;u<e.length;u++)this._addTile(e[u],a);this._level.el.appendChild(a)}}},_isValidTile:function(n){var i=this._map.options.crs,t,u;return!i.infinite&&(t=this._globalTileRange,!i.wrapLng&&(n.x<t.min.x||n.x>t.max.x)||!i.wrapLat&&(n.y<t.min.y||n.y>t.max.y))?!1:this.options.bounds?(u=this._tileCoordsToBounds(n),r.latLngBounds(this.options.bounds).overlaps(u)):!0},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToBounds:function(n){var t=this._map,i=this.getTileSize(),u=n.scaleBy(i),f=u.add(i),e=t.wrapLatLng(t.unproject(u,n.z)),o=t.wrapLatLng(t.unproject(f,n.z));return new r.LatLngBounds(e,o)},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var t=n.split(":"),i=new r.Point(+t[0],+t[1]);return i.z=+t[2],i},_removeTile:function(n){var t=this._tiles[n];t&&(r.DomUtil.remove(t.el),delete this._tiles[n],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){r.DomUtil.addClass(n,"leaflet-tile");var t=this.getTileSize();n.style.width=t.x+"px";n.style.height=t.y+"px";n.onselectstart=r.Util.falseFn;n.onmousemove=r.Util.falseFn;r.Browser.ielt9&&this.options.opacity<1&&r.DomUtil.setOpacity(n,this.options.opacity);r.Browser.android&&!r.Browser.android23&&(n.style.WebkitBackfaceVisibility="hidden")},_addTile:function(n,t){var u=this._getTilePos(n),f=this._tileCoordsToKey(n),i=this.createTile(this._wrapCoords(n),r.bind(this._tileReady,this,n));this._initTile(i);this.createTile.length<2&&r.Util.requestAnimFrame(r.bind(this._tileReady,this,n,null,i));r.DomUtil.setPosition(i,u);this._tiles[f]={el:i,coords:n,current:!0};t.appendChild(i);this.fire("tileloadstart",{tile:i,coords:n})},_tileReady:function(n,t,i){if(this._map){t&&this.fire("tileerror",{error:t,tile:i,coords:n});var u=this._tileCoordsToKey(n);(i=this._tiles[u],i)&&(i.loaded=+new Date,this._map._fadeAnimated?(r.DomUtil.setOpacity(i.el,0),r.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=r.Util.requestAnimFrame(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),r.DomUtil.addClass(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:n}),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),r.Browser.ielt9||!this._map._fadeAnimated?r.Util.requestAnimFrame(this._pruneTiles,this):setTimeout(r.bind(this._pruneTiles,this),250)))}},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var t=new r.Point(this._wrapX?r.Util.wrapNum(n.x,this._wrapX):n.x,this._wrapY?r.Util.wrapNum(n.y,this._wrapY):n.y);return t.z=n.z,t},_pxBoundsToTileRange:function(n){var t=this.getTileSize();return new r.Bounds(n.min.unscaleBy(t).floor(),n.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});r.gridLayer=function(n){return new r.GridLayer(n)};r.TileLayer=r.GridLayer.extend({options:{minZoom:0,maxZoom:18,maxNativeZoom:null,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(n,t){if(this._url=n,t=r.setOptions(this,t),t.detectRetina&&r.Browser.retina&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomOffset++,t.minZoom=Math.max(0,t.minZoom),t.maxZoom--),typeof t.subdomains=="string"&&(t.subdomains=t.subdomains.split("")),!r.Browser.android)this.on("tileunload",this._onTileRemove)},setUrl:function(n,t){return this._url=n,t||this.redraw(),this},createTile:function(n,i){var u=t.createElement("img");r.DomEvent.on(u,"load",r.bind(this._tileOnLoad,this,i,u));r.DomEvent.on(u,"error",r.bind(this._tileOnError,this,i,u));return this.options.crossOrigin&&(u.crossOrigin=""),u.alt="",u.src=this.getTileUrl(n),u},getTileUrl:function(n){var t={r:r.Browser.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()},i;return this._map&&!this._map.options.crs.infinite&&(i=this._globalTileRange.max.y-n.y,this.options.tms&&(t.y=i),t["-y"]=i),r.Util.template(this._url,r.extend(t,this.options))},_tileOnLoad:function(n,t){r.Browser.ielt9?setTimeout(r.bind(n,this,null,t),0):n(null,t)},_tileOnError:function(n,t,i){var r=this.options.errorTileUrl;r&&(t.src=r);n(i,t)},getTileSize:function(){var u=this._map,t=r.GridLayer.prototype.getTileSize.call(this),i=this._tileZoom+this.options.zoomOffset,n=this.options.maxNativeZoom;return n!==null&&i>n?t.divideBy(u.getZoomScale(n,i)).round():t},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this.options,t=this._tileZoom;return n.zoomReverse&&(t=n.maxZoom-t),t+=n.zoomOffset,n.maxNativeZoom!==null?Math.min(t,n.maxNativeZoom):t},_getSubdomain:function(n){var t=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var t,n;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&(n=this._tiles[t].el,n.onload=r.Util.falseFn,n.onerror=r.Util.falseFn,n.complete||(n.src=r.Util.emptyImageUrl,r.DomUtil.remove(n)))}});r.tileLayer=function(n,t){return new r.TileLayer(n,t)};r.TileLayer.WMS=r.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,t){var i,u;this._url=n;i=r.extend({},this.defaultWmsParams);for(u in t)u in this.options||(i[u]=t[u]);t=r.setOptions(this,t);i.width=i.height=t.tileSize*(t.detectRetina&&r.Browser.retina?2:1);this.wmsParams=i},onAdd:function(n){this._crs=this.options.crs||n.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code;r.TileLayer.prototype.onAdd.call(this,n)},getTileUrl:function(n){var u=this._tileCoordsToBounds(n),t=this._crs.project(u.getNorthWest()),i=this._crs.project(u.getSouthEast()),e=(this._wmsVersion>=1.3&&this._crs===r.CRS.EPSG4326?[i.y,t.x,t.y,i.x]:[t.x,i.y,i.x,t.y]).join(","),f=r.TileLayer.prototype.getTileUrl.call(this,n);return f+r.Util.getParamString(this.wmsParams,f,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+e},setParams:function(n,t){return r.extend(this.wmsParams,n),t||this.redraw(),this}});r.tileLayer.wms=function(n,t){return new r.TileLayer.WMS(n,t)};r.ImageOverlay=r.Layer.extend({options:{opacity:1,alt:"",interactive:!1,attribution:null},initialize:function(n,t,i){this._url=n;this._bounds=r.latLngBounds(t);r.setOptions(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity());this.options.interactive&&(r.DomUtil.addClass(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image));this.getPane().appendChild(this._image);this._reset()},onRemove:function(){r.DomUtil.remove(this._image);this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&r.DomUtil.toFront(this._image),this},bringToBack:function(){return this._map&&r.DomUtil.toBack(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=n,this._map&&this._reset(),this},getAttribution:function(){return this.options.attribution},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._image=r.DomUtil.create("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));n.onselectstart=r.Util.falseFn;n.onmousemove=r.Util.falseFn;n.onload=r.bind(this.fire,this,"load");this.options.crossOrigin&&(n.crossOrigin="");n.src=this._url;n.alt=this.options.alt},_animateZoom:function(n){var t=this._map.getZoomScale(n.zoom),i=this._map._latLngToNewLayerPoint(this._bounds.getNorthWest(),n.zoom,n.center);r.DomUtil.setTransform(this._image,i,t)},_reset:function(){var n=this._image,t=new r.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=t.getSize();r.DomUtil.setPosition(n,t.min);n.style.width=i.x+"px";n.style.height=i.y+"px"},_updateOpacity:function(){r.DomUtil.setOpacity(this._image,this.options.opacity)}});r.imageOverlay=function(n,t,i){return new r.ImageOverlay(n,t,i)};r.Icon=r.Class.extend({initialize:function(n){r.setOptions(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,t){var r=this._getIconUrl(n),i;if(!r){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}return i=this._createImg(r,t&&t.tagName==="IMG"?t:null),this._setIconStyles(i,n),i},_setIconStyles:function(n,t){var u=this.options,i=r.point(u[t+"Size"]),f=r.point(t==="shadow"&&u.shadowAnchor||u.iconAnchor||i&&i.divideBy(2,!0));n.className="leaflet-marker-"+t+" "+(u.className||"");f&&(n.style.marginLeft=-f.x+"px",n.style.marginTop=-f.y+"px");i&&(n.style.width=i.x+"px",n.style.height=i.y+"px")},_createImg:function(n,i){return i=i||t.createElement("img"),i.src=n,i},_getIconUrl:function(n){return r.Browser.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});r.icon=function(n){return new r.Icon(n)};r.Icon.Default=r.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(n){var i=n+"Url",t;if(this.options[i])return this.options[i];if(t=r.Icon.Default.imagePath,!t)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return t+"/marker-"+n+(r.Browser.retina&&n==="icon"?"-2x":"")+".png"}});r.Icon.Default.imagePath=function(){for(var u=t.getElementsByTagName("script"),f=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/,i,r,n=0,e=u.length;n<e;n++)if(i=u[n].src||"",i.match(f))return r=i.split(f)[0],(r?r+"/":"")+"images"}();r.Marker=r.Layer.extend({options:{icon:new r.Icon.Default,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",nonBubblingEvents:["click","dblclick","mouseover","mouseout","contextmenu"]},initialize:function(n,t){r.setOptions(this,t);this._latlng=r.latLng(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation;this._initIcon();this.update()},onRemove:function(){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks());this._removeIcon();this._removeShadow()},getEvents:function(){var n={zoom:this.update,viewreset:this.update};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},getLatLng:function(){return this._latlng},setLatLng:function(n){var t=this._latlng;return this._latlng=r.latLng(n),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),t=n.icon.createIcon(this._icon),e=!1,i,u;if(t!==this._icon&&(this._icon&&this._removeIcon(),e=!0,n.title&&(t.title=n.title),n.alt&&(t.alt=n.alt)),r.DomUtil.addClass(t,f),n.keyboard&&(t.tabIndex="0"),this._icon=t,n.riseOnHover)this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});i=n.icon.createShadow(this._shadow);u=!1;i!==this._shadow&&(this._removeShadow(),u=!0);i&&r.DomUtil.addClass(i,f);this._shadow=i;n.opacity<1&&this._updateOpacity();e&&this.getPane().appendChild(this._icon);this._initInteraction();i&&u&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex});r.DomUtil.remove(this._icon);this.removeInteractiveTarget(this._icon);this._icon=null},_removeShadow:function(){this._shadow&&r.DomUtil.remove(this._shadow);this._shadow=null},_setPos:function(n){r.DomUtil.setPosition(this._icon,n);this._shadow&&r.DomUtil.setPosition(this._shadow,n);this._zIndex=n.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(n){this._icon.style.zIndex=this._zIndex+n},_animateZoom:function(n){var t=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(r.DomUtil.addClass(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),r.Handler.MarkerDrag)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable());this.dragging=new r.Handler.MarkerDrag(this);n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;r.DomUtil.setOpacity(this._icon,n);this._shadow&&r.DomUtil.setOpacity(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}});r.marker=function(n,t){return new r.Marker(n,t)};r.DivIcon=r.Icon.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var i=n&&n.tagName==="DIV"?n:t.createElement("div"),u=this.options,f;return i.innerHTML=u.html!==!1?u.html:"",u.bgPos&&(f=r.point(u.bgPos),i.style.backgroundPosition=-f.x+"px "+-f.y+"px"),this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});r.divIcon=function(n){return new r.DivIcon(n)};r.Map.mergeOptions({closePopupOnClick:!0});r.Popup=r.Layer.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,offset:[0,7],autoClose:!0,zoomAnimation:!0,className:"",pane:"popupPane"},initialize:function(n,t){r.setOptions(this,n);this._source=t},onAdd:function(n){if(this._zoomAnimated=this._zoomAnimated&&this.options.zoomAnimation,this._container||this._initLayout(),n._fadeAnimated&&r.DomUtil.setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&r.DomUtil.setOpacity(this._container,1),n.fire("popupopen",{popup:this}),this._source){this._source.fire("popupopen",{popup:this},!0);this._source.on("preclick",r.DomEvent.stopPropagation)}},openOn:function(n){return n.openPopup(this),this},onRemove:function(n){n._fadeAnimated?(r.DomUtil.setOpacity(this._container,0),this._removeTimeout=setTimeout(r.bind(r.DomUtil.remove,r.DomUtil,this._container),200)):r.DomUtil.remove(this._container);n.fire("popupclose",{popup:this});this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source.off("preclick",r.DomEvent.stopPropagation))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=r.latLng(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this._close),this.options.keepInView&&(n.moveend=this._adjustPan),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&r.DomUtil.toFront(this._container),this},bringToBack:function(){return this._map&&r.DomUtil.toBack(this._container),this},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var n="leaflet-popup",u=this._container=r.DomUtil.create("div",n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),t,i;if(this.options.closeButton){t=this._closeButton=r.DomUtil.create("a",n+"-close-button",u);t.href="#close";t.innerHTML="&#215;";r.DomEvent.on(t,"click",this._onCloseButtonClick,this)}i=this._wrapper=r.DomUtil.create("div",n+"-content-wrapper",u);this._contentNode=r.DomUtil.create("div",n+"-content",i);r.DomEvent.disableClickPropagation(i).disableScrollPropagation(this._contentNode).on(i,"contextmenu",r.DomEvent.stopPropagation);this._tipContainer=r.DomUtil.create("div",n+"-tip-container",u);this._tip=r.DomUtil.create("div",n+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){var n=this._contentNode,t=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof t=="string")n.innerHTML=t;else{while(n.hasChildNodes())n.removeChild(n.firstChild);n.appendChild(t)}this.fire("contentupdate")}},_updateLayout:function(){var i=this._contentNode,n=i.style,t;n.width="";n.whiteSpace="nowrap";t=i.offsetWidth;t=Math.min(t,this.options.maxWidth);t=Math.max(t,this.options.minWidth);n.width=t+1+"px";n.whiteSpace="";n.height="";var e=i.offsetHeight,u=this.options.maxHeight,f="leaflet-popup-scrolled";u&&e>u?(n.height=u+"px",r.DomUtil.addClass(i,f)):r.DomUtil.removeClass(i,f);this._containerWidth=this._container.offsetWidth},_updatePosition:function(){var t,n,i,u;this._map&&(t=this._map.latLngToLayerPoint(this._latlng),n=r.point(this.options.offset),this._zoomAnimated?r.DomUtil.setPosition(this._container,t):n=n.add(t),i=this._containerBottom=-n.y,u=this._containerLeft=-Math.round(this._containerWidth/2)+n.x,this._container.style.bottom=i+"px",this._container.style.left=u+"px")},_animateZoom:function(n){var t=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);r.DomUtil.setPosition(this._container,t)},_adjustPan:function(){if(this.options.autoPan&&(!this._map._panAnim||!this._map._panAnim._inProgress)){var o=this._map,s=this._container.offsetHeight,h=this._containerWidth,c=new r.Point(this._containerLeft,-s-this._containerBottom);this._zoomAnimated&&c._add(r.DomUtil.getPosition(this._container));var n=o.layerPointToContainerPoint(c),l=r.point(this.options.autoPanPadding),u=r.point(this.options.autoPanPaddingTopLeft||l),f=r.point(this.options.autoPanPaddingBottomRight||l),e=o.getSize(),t=0,i=0;n.x+h+f.x>e.x&&(t=n.x+h-e.x+f.x);n.x-t-u.x<0&&(t=n.x-u.x);n.y+s+f.y>e.y&&(i=n.y+s-e.y+f.y);n.y-i-u.y<0&&(i=n.y-u.y);(t||i)&&o.fire("autopanstart").panBy([t,i])}},_onCloseButtonClick:function(n){this._close();r.DomEvent.stop(n)}});r.popup=function(n,t){return new r.Popup(n,t)};r.Map.include({openPopup:function(n,t,i){return(n instanceof r.Popup||(n=new r.Popup(i).setContent(n)),t&&n.setLatLng(t),this.hasLayer(n))?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=n,this.addLayer(n))},closePopup:function(n){return n&&n!==this._popup||(n=this._popup,this._popup=null),n&&this.removeLayer(n),this}});r.Layer.include({bindPopup:function(n,t){if(n instanceof r.Popup?(r.setOptions(n,t),this._popup=n,n._source=this):((!this._popup||t)&&(this._popup=new r.Popup(t,this)),this._popup.setContent(n)),!this._popupHandlersAdded){this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup});this._popupHandlersAdded=!0}return this._originalPopupOffset=this._popup.options.offset,this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n,t){if(n instanceof r.Layer||(t=n,n=this),n instanceof r.FeatureGroup)for(var i in this._layers){n=this._layers[i];break}return t||(t=n.getCenter?n.getCenter():n.getLatLng()),this._popup&&this._map&&(this._popup.options.offset=this._popupAnchor(n),this._popup._source=n,this._popup.update(),this._map.openPopup(this._popup,t)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(n){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(n)),this},isPopupOpen:function(){return this._popup.isOpen()},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){var t=n.layer||n.target;if(this._popup&&this._map){if(t instanceof r.Path){this.openPopup(n.layer||n.target,n.latlng);return}this._map.hasLayer(this._popup)&&this._popup._source===t?this.closePopup():this.openPopup(t,n.latlng)}},_popupAnchor:function(n){var t=n._getPopupAnchor?n._getPopupAnchor():[0,0],i=this._originalPopupOffset||r.Popup.prototype.options.offset;return r.point(t).add(i)},_movePopup:function(n){this._popup.setLatLng(n.latlng)}});r.Marker.include({_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]}});r.LayerGroup=r.Layer.extend({initialize:function(n){this._layers={};var t,i;if(n)for(t=0,i=n.length;t<i;t++)this.addLayer(n[t])},addLayer:function(n){var t=this.getLayerId(n);return this._layers[t]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var t=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(n){return!!n&&(n in this._layers||this.getLayerId(n)in this._layers)},clearLayers:function(){for(var n in this._layers)this.removeLayer(this._layers[n]);return this},invoke:function(n){var r=Array.prototype.slice.call(arguments,1),i,t;for(i in this._layers)t=this._layers[i],t[n]&&t[n].apply(t,r);return this},onAdd:function(n){for(var t in this._layers)n.addLayer(this._layers[t])},onRemove:function(n){for(var t in this._layers)n.removeLayer(this._layers[t])},eachLayer:function(n,t){for(var i in this._layers)n.call(t,this._layers[i]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];for(var t in this._layers)n.push(this._layers[t]);return n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return r.stamp(n)}});r.layerGroup=function(n){return new r.LayerGroup(n)};r.FeatureGroup=r.LayerGroup.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),r.LayerGroup.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),r.LayerGroup.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new r.LatLngBounds,i,n;for(i in this._layers)n=this._layers[i],t.extend(n.getBounds?n.getBounds():n.getLatLng());return t}});r.featureGroup=function(n){return new r.FeatureGroup(n)};r.Renderer=r.Layer.extend({options:{padding:.1},initialize:function(n){r.setOptions(this,n);r.stamp(this)},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&r.DomUtil.addClass(this._container,"leaflet-zoom-animated"));this.getPane().appendChild(this._container);this._update()},onRemove:function(){r.DomUtil.remove(this._container)},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,t){var i=this._map.getZoomScale(t,this._zoom),e=r.DomUtil.getPosition(this._container),u=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,t),s=this._map.project(n,t),h=s.subtract(o),f=u.multiplyBy(-i).add(e).add(u).subtract(h);r.Browser.any3d?r.DomUtil.setTransform(this._container,f,i):r.DomUtil.setPosition(this._container,f)},_reset:function(){this._update();this._updateTransform(this._center,this._zoom)},_update:function(){var n=this.options.padding,t=this._map.getSize(),i=this._map.containerPointToLayerPoint(t.multiplyBy(-n)).round();this._bounds=new r.Bounds(i,i.add(t.multiplyBy(1+n*2)).round());this._center=this._map.getCenter();this._zoom=this._map.getZoom()}});r.Map.include({getRenderer:function(n){var t=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this.options.preferCanvas&&r.canvas()||r.svg()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(n){if(n==="overlayPane"||n===i)return!1;var t=this._paneRenderers[n];return t===i&&(t=r.SVG&&r.svg({pane:n})||r.Canvas&&r.canvas({pane:n}),this._paneRenderers[n]=t),t}});r.Path=r.Layer.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this);this._reset();this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},getEvents:function(){return{zoomend:this._project,moveend:this._update,viewreset:this._reset}},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return r.setOptions(this,n),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project();this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(r.Browser.touch?10:0)}});r.LineUtil={simplify:function(n,t){if(!t||!n.length)return n.slice();var i=t*t;return n=this._reducePoints(n,i),this._simplifyDP(n,i)},pointToSegmentDistance:function(n,t,i){return Math.sqrt(this._sqClosestPointOnSegment(n,t,i,!0))},closestPointOnSegment:function(n,t,i){return this._sqClosestPointOnSegment(n,t,i)},_simplifyDP:function(n,t){var u=n.length,o=typeof Uint8Array!=i+""?Uint8Array:Array,f=new o(u),r,e;for(f[0]=f[u-1]=1,this._simplifyDPStep(n,f,t,0,u-1),e=[],r=0;r<u;r++)f[r]&&e.push(n[r]);return e},_simplifyDPStep:function(n,t,i,r,u){for(var o=0,e,s,f=r+1;f<=u-1;f++)s=this._sqClosestPointOnSegment(n[f],n[r],n[u],!0),s>o&&(e=f,o=s);o>i&&(t[e]=1,this._simplifyDPStep(n,t,i,r,e),this._simplifyDPStep(n,t,i,e,u))},_reducePoints:function(n,t){for(var r=[n[0]],i=1,u=0,f=n.length;i<f;i++)this._sqDist(n[i],n[u])>t&&(r.push(n[i]),u=i);return u<f-1&&r.push(n[f-1]),r},clipSegment:function(n,t,i,r,u){var f=r?this._lastCode:this._getBitCode(n,i),e=this._getBitCode(t,i),s,o,h;for(this._lastCode=e;;){if(!(f|e))return[n,t];if(f&e)return!1;s=f||e;o=this._getEdgeIntersection(n,t,s,i,u);h=this._getBitCode(o,i);s===f?(n=o,f=h):(t=o,e=h)}},_getEdgeIntersection:function(n,t,i,u,f){var s=t.x-n.x,h=t.y-n.y,c=u.min,l=u.max,e,o;return i&8?(e=n.x+s*(l.y-n.y)/h,o=l.y):i&4?(e=n.x+s*(c.y-n.y)/h,o=c.y):i&2?(e=l.x,o=n.y+h*(l.x-n.x)/s):i&1&&(e=c.x,o=n.y+h*(c.x-n.x)/s),new r.Point(e,o,f)},_getBitCode:function(n,t){var i=0;return n.x<t.min.x?i|=1:n.x>t.max.x&&(i|=2),n.y<t.min.y?i|=4:n.y>t.max.y&&(i|=8),i},_sqDist:function(n,t){var i=t.x-n.x,r=t.y-n.y;return i*i+r*r},_sqClosestPointOnSegment:function(n,t,i,u){var o=t.x,s=t.y,f=i.x-o,e=i.y-s,c=f*f+e*e,h;return c>0&&(h=((n.x-o)*f+(n.y-s)*e)/c,h>1?(o=i.x,s=i.y):h>0&&(o+=f*h,s+=e*h)),f=n.x-o,e=n.y-s,u?f*f+e*e:new r.Point(o,s)}};r.Polyline=r.Path.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,t){r.setOptions(this,t);this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var u,t,l,h,f=Infinity,i=null,c=r.LineUtil._sqClosestPointOnSegment,e,o,s=0,a=this._parts.length;s<a;s++)for(u=this._parts[s],t=1,l=u.length;t<l;t++)e=u[t-1],o=u[t],h=c(n,e,o,!0),h<f&&(f=h,i=c(n,e,o));return i&&(i.distance=Math.sqrt(f)),i},getCenter:function(){var n,r,e,u,f,t,o,i=this._rings[0],s=i.length;if(!s)return null;for(n=0,r=0;n<s-1;n++)r+=i[n].distanceTo(i[n+1])/2;if(r===0)return this._map.layerPointToLatLng(i[0]);for(n=0,u=0;n<s-1;n++)if(f=i[n],t=i[n+1],e=f.distanceTo(t),u+=e,u>r)return o=(u-r)/e,this._map.layerPointToLatLng([t.x-o*(t.x-f.x),t.y-o*(t.y-f.y)])},getBounds:function(){return this._bounds},addLatLng:function(n,t){return t=t||this._defaultShape(),n=r.latLng(n),t.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new r.LatLngBounds;this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return r.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var i=[],u=r.Polyline._flat(n),t=0,f=n.length;t<f;t++)u?(i[t]=r.latLng(n[t]),this._bounds.extend(i[t])):i[t]=this._convertLatLngs(n[t]);return i},_project:function(){var n=new r.Bounds,t,i;this._rings=[];this._projectLatlngs(this._latlngs,this._rings,n);t=this._clickTolerance();i=new r.Point(t,t);this._bounds.isValid()&&n.isValid()&&(n.min._subtract(i),n.max._add(i),this._pxBounds=n)},_projectLatlngs:function(n,t,i){var o=n[0]instanceof r.LatLng,e=n.length,u,f;if(o){for(f=[],u=0;u<e;u++)f[u]=this._map.latLngToLayerPoint(n[u]),i.extend(f[u]);t.push(f)}else for(u=0;u<e;u++)this._projectLatlngs(n[u],t,i)},_clipPoints:function(){var s=this._renderer._bounds,i,e,n,t,h,o,u,f;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(s)){if(this.options.noClip){this._parts=this._rings;return}for(i=this._parts,e=0,t=0,h=this._rings.length;e<h;e++)for(f=this._rings[e],n=0,o=f.length;n<o-1;n++)(u=r.LineUtil.clipSegment(f[n],f[n+1],s,n,!0),u)&&(i[t]=i[t]||[],i[t].push(u[0]),(u[1]!==f[n+1]||n===o-2)&&(i[t].push(u[1]),t++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,n=0,u=t.length;n<u;n++)t[n]=r.LineUtil.simplify(t[n],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)}});r.polyline=function(n,t){return new r.Polyline(n,t)};r.Polyline._flat=function(n){return!r.Util.isArray(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]!="undefined"};r.PolyUtil={};r.PolyUtil.clipPolygon=function(n,t,i){for(var o,y=[1,4,2,8],v,a,s,h,e,f,l=r.LineUtil,u=0,c=n.length;u<c;u++)n[u]._code=l._getBitCode(n[u],t);for(a=0;a<4;a++){for(e=y[a],o=[],u=0,c=n.length,v=c-1;u<c;v=u++)s=n[u],h=n[v],s._code&e?h._code&e||(f=l._getEdgeIntersection(h,s,e,t,i),f._code=l._getBitCode(f,t),o.push(f)):(h._code&e&&(f=l._getEdgeIntersection(h,s,e,t,i),f._code=l._getBitCode(f,t),o.push(f)),o.push(s));n=o}return n};r.Polygon=r.Polyline.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){var r,e,n,t,u,i,o,s,c,f=this._rings[0],h=f.length;if(!h)return null;for(i=o=s=0,r=0,e=h-1;r<h;e=r++)n=f[r],t=f[e],u=n.y*t.x-t.y*n.x,o+=(n.x+t.x)*u,s+=(n.y+t.y)*u,i+=u*3;return c=i===0?f[0]:[o/i,s/i],this._map.layerPointToLatLng(c)},_convertLatLngs:function(n){var t=r.Polyline.prototype._convertLatLngs.call(this,n),i=t.length;return i>=2&&t[0]instanceof r.LatLng&&t[0].equals(t[i-1])&&t.pop(),t},_setLatLngs:function(n){r.Polyline.prototype._setLatLngs.call(this,n);r.Polyline._flat(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return r.Polyline._flat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,u=this.options.weight,f=new r.Point(u,u),t,e,i;if(n=new r.Bounds(n.min.subtract(f),n.max.add(f)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(n)){if(this.options.noClip){this._parts=this._rings;return}for(t=0,e=this._rings.length;t<e;t++)i=r.PolyUtil.clipPolygon(this._rings[t],n,!0),i.length&&this._parts.push(i)}},_updatePath:function(){this._renderer._updatePoly(this,!0)}});r.polygon=function(n,t){return new r.Polygon(n,t)};r.Rectangle=r.Polygon.extend({initialize:function(n,t){r.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(n),t)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=r.latLngBounds(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});r.rectangle=function(n,t){return new r.Rectangle(n,t)};r.CircleMarker=r.Path.extend({options:{fill:!0,radius:10},initialize:function(n,t){r.setOptions(this,t);this._latlng=r.latLng(n);this._radius=this.options.radius},setLatLng:function(n){return this._latlng=r.latLng(n),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var t=n&&n.radius||this._radius;return r.Path.prototype.setStyle.call(this,n),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng);this._updateBounds()},_updateBounds:function(){var n=this._radius,u=this._radiusY||n,t=this._clickTolerance(),i=[n+t,u+t];this._pxBounds=new r.Bounds(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)}});r.circleMarker=function(n,t){return new r.CircleMarker(n,t)};r.Circle=r.CircleMarker.extend({initialize:function(n,t,i){if(typeof t=="number"&&(t=r.extend({},i,{radius:t})),r.setOptions(this,t),this._latlng=r.latLng(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new r.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:r.Path.prototype.setStyle,_project:function(){var o=this._latlng.lng,i=this._latlng.lat,n=this._map,s=n.options.crs,l;if(s.distance===r.CRS.Earth.distance){var t=Math.PI/180,f=this._mRadius/r.CRS.Earth.R/t,c=n.project([i+f,o]),a=n.project([i-f,o]),e=c.add(a).divideBy(2),h=n.unproject(e).lat,u=Math.acos((Math.cos(f*t)-Math.sin(i*t)*Math.sin(h*t))/(Math.cos(i*t)*Math.cos(h*t)))/t;(isNaN(u)||u===0)&&(u=f/Math.cos(Math.PI/180*i));this._point=e.subtract(n.getPixelOrigin());this._radius=isNaN(u)?0:Math.max(Math.round(e.x-n.project([h,o-u]).x),1);this._radiusY=Math.max(Math.round(e.y-c.y),1)}else l=s.unproject(s.project(this._latlng).subtract([this._mRadius,0])),this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(l).x;this._updateBounds()}});r.circle=function(n,t,i){return new r.Circle(n,t,i)};r.SVG=r.Renderer.extend({getEvents:function(){var n=r.Renderer.prototype.getEvents.call(this);return n.zoomstart=this._onZoomStart,n},_initContainer:function(){this._container=r.SVG.create("svg");this._container.setAttribute("pointer-events","none");this._rootGroup=r.SVG.create("g");this._container.appendChild(this._rootGroup)},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){r.Renderer.prototype._update.call(this);var t=this._bounds,n=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(n)||(this._svgSize=n,i.setAttribute("width",n.x),i.setAttribute("height",n.y));r.DomUtil.setPosition(i,t.min);i.setAttribute("viewBox",[t.min.x,t.min.y,n.x,n.y].join(" "))}},_initPath:function(n){var t=n._path=r.SVG.create("path");n.options.className&&r.DomUtil.addClass(t,n.options.className);n.options.interactive&&r.DomUtil.addClass(t,"leaflet-interactive");this._updateStyle(n)},_addPath:function(n){this._rootGroup.appendChild(n._path);n.addInteractiveTarget(n._path)},_removePath:function(n){r.DomUtil.remove(n._path);n.removeInteractiveTarget(n._path)},_updatePath:function(n){n._project();n._update()},_updateStyle:function(n){var t=n._path,i=n.options;t&&(i.stroke?(t.setAttribute("stroke",i.color),t.setAttribute("stroke-opacity",i.opacity),t.setAttribute("stroke-width",i.weight),t.setAttribute("stroke-linecap",i.lineCap),t.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?t.setAttribute("stroke-dasharray",i.dashArray):t.removeAttribute("stroke-dasharray"),i.dashOffset?t.setAttribute("stroke-dashoffset",i.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),i.fill?(t.setAttribute("fill",i.fillColor||i.color),t.setAttribute("fill-opacity",i.fillOpacity),t.setAttribute("fill-rule",i.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(n,t){this._setPath(n,r.SVG.pointsToPath(n._parts,t))},_updateCircle:function(n){var i=n._point,t=n._radius,u=n._radiusY||t,r="a"+t+","+u+" 0 1,0 ",f=n._empty()?"M0 0":"M"+(i.x-t)+","+i.y+r+t*2+",0 "+r+-t*2+",0 ";this._setPath(n,f)},_setPath:function(n,t){n._path.setAttribute("d",t)},_bringToFront:function(n){r.DomUtil.toFront(n._path)},_bringToBack:function(n){r.DomUtil.toBack(n._path)}});r.extend(r.SVG,{create:function(n){return t.createElementNS("http://www.w3.org/2000/svg",n)},pointsToPath:function(n,t){for(var f="",i,h,e,o,u=0,s=n.length;u<s;u++){for(e=n[u],i=0,h=e.length;i<h;i++)o=e[i],f+=(i?"L":"M")+o.x+" "+o.y;f+=t?r.Browser.svg?"z":"x":""}return f||"M0 0"}});r.Browser.svg=!!(t.createElementNS&&r.SVG.create("svg").createSVGRect);r.svg=function(n){return r.Browser.svg||r.Browser.vml?new r.SVG(n):null};r.Browser.vml=!r.Browser.svg&&function(){var i,n;try{return i=t.createElement("div"),i.innerHTML='<v:shape adj="1"/>',n=i.firstChild,n.style.behavior="url(#default#VML)",n&&typeof n.adj=="object"}catch(r){return!1}}();r.SVG.include(r.Browser.vml?{_initContainer:function(){this._container=r.DomUtil.create("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||r.Renderer.prototype._update.call(this)},_initPath:function(n){var t=n._container=r.SVG.create("shape");r.DomUtil.addClass(t,"leaflet-vml-shape "+(this.options.className||""));t.coordsize="1 1";n._path=r.SVG.create("path");t.appendChild(n._path);this._updateStyle(n)},_addPath:function(n){var t=n._container;this._container.appendChild(t);n.options.interactive&&n.addInteractiveTarget(t)},_removePath:function(n){var t=n._container;r.DomUtil.remove(t);n.removeInteractiveTarget(t)},_updateStyle:function(n){var i=n._stroke,u=n._fill,t=n.options,f=n._container;f.stroked=!!t.stroke;f.filled=!!t.fill;t.stroke?(i||(i=n._stroke=r.SVG.create("stroke")),f.appendChild(i),i.weight=t.weight+"px",i.color=t.color,i.opacity=t.opacity,i.dashStyle=t.dashArray?r.Util.isArray(t.dashArray)?t.dashArray.join(" "):t.dashArray.replace(/( *, *)/g," "):"",i.endcap=t.lineCap.replace("butt","flat"),i.joinstyle=t.lineJoin):i&&(f.removeChild(i),n._stroke=null);t.fill?(u||(u=n._fill=r.SVG.create("fill")),f.appendChild(u),u.color=t.fillColor||t.color,u.opacity=t.fillOpacity):u&&(f.removeChild(u),n._fill=null)},_updateCircle:function(n){var t=n._point.round(),i=Math.round(n._radius),r=Math.round(n._radiusY||i);this._setPath(n,n._empty()?"M0 0":"AL "+t.x+","+t.y+" "+i+","+r+" 0,23592600")},_setPath:function(n,t){n._path.v=t},_bringToFront:function(n){r.DomUtil.toFront(n._container)},_bringToBack:function(n){r.DomUtil.toBack(n._container)}}:{});r.Browser.vml&&(r.SVG.create=function(){try{return t.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return t.createElement("<lvml:"+n+' class="lvml">')}}catch(n){return function(n){return t.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}());r.Canvas=r.Renderer.extend({onAdd:function(){r.Renderer.prototype.onAdd.call(this);this._layers=this._layers||{};this._draw()},_initContainer:function(){var n=this._container=t.createElement("canvas");r.DomEvent.on(n,"mousemove",r.Util.throttle(this._onMouseMove,32,this),this).on(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this).on(n,"mouseout",this._handleMouseOut,this);this._ctx=n.getContext("2d")},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={};r.Renderer.prototype._update.call(this);var t=this._bounds,n=this._container,i=t.getSize(),u=r.Browser.retina?2:1;r.DomUtil.setPosition(n,t.min);n.width=u*i.x;n.height=u*i.y;n.style.width=i.x+"px";n.style.height=i.y+"px";r.Browser.retina&&this._ctx.scale(2,2);this._ctx.translate(-t.min.x,-t.min.y)}},_initPath:function(n){this._updateDashArray(n);this._layers[r.stamp(n)]=n},_addPath:r.Util.falseFn,_removePath:function(n){n._removed=!0;this._requestRedraw(n)},_updatePath:function(n){this._redrawBounds=n._pxBounds;this._draw(!0);n._project();n._update();this._draw();this._redrawBounds=null},_updateStyle:function(n){this._updateDashArray(n);this._requestRedraw(n)},_updateDashArray:function(n){if(n.options.dashArray){for(var i=n.options.dashArray.split(","),r=[],t=0;t<i.length;t++)r.push(Number(i[t]));n.options._dashArray=r}},_requestRedraw:function(n){if(this._map){var t=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new r.Bounds;this._redrawBounds.extend(n._pxBounds.min.subtract([t,t]));this._redrawBounds.extend(n._pxBounds.max.add([t,t]));this._redrawRequest=this._redrawRequest||r.Util.requestAnimFrame(this._redraw,this)}},_redraw:function(){this._redrawRequest=null;this._draw(!0);this._draw();this._redrawBounds=null},_draw:function(n){var i,t,r;this._clear=n;t=this._redrawBounds;this._ctx.save();t&&(this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,t.max.x-t.min.x,t.max.y-t.min.y),this._ctx.clip());for(r in this._layers)i=this._layers[r],(!t||i._pxBounds.intersects(t))&&i._updatePath(),n&&i._removed&&(delete i._removed,delete this._layers[r]);this._ctx.restore()},_updatePoly:function(n,t){var r,u,o,f,e=n._parts,s=e.length,i=this._ctx;if(s){for(this._drawnLayers[n._leaflet_id]=n,i.beginPath(),i.setLineDash&&i.setLineDash(n.options&&n.options._dashArray||[]),r=0;r<s;r++){for(u=0,o=e[r].length;u<o;u++)f=e[r][u],i[u?"lineTo":"moveTo"](f.x,f.y);t&&i.closePath()}this._fillStroke(i,n)}},_updateCircle:function(n){if(!n._empty()){var u=n._point,t=this._ctx,r=n._radius,i=(n._radiusY||r)/r;this._drawnLayers[n._leaflet_id]=n;i!==1&&(t.save(),t.scale(1,i));t.beginPath();t.arc(u.x,u.y/i,r,0,Math.PI*2,!1);i!==1&&t.restore();this._fillStroke(t,n)}},_fillStroke:function(n,t){var r=this._clear,i=t.options;n.globalCompositeOperation=r?"destination-out":"source-over";i.fill&&(n.globalAlpha=r?1:i.fillOpacity,n.fillStyle=i.fillColor||i.color,n.fill(i.fillRule||"evenodd"));i.stroke&&i.weight!==0&&(n.globalAlpha=r?1:i.opacity,t._prevWeight=n.lineWidth=r?t._prevWeight+1:i.weight,n.strokeStyle=i.color,n.lineCap=i.lineCap,n.lineJoin=i.lineJoin,n.stroke())},_onClick:function(n){var u=this._map.mouseEventToLayerPoint(n),i=[],t;for(var f in this._layers)t=this._layers[f],t.options.interactive&&t._containsPoint(u)&&(r.DomEvent._fakeStop(n),i.push(t));i.length&&this._fireEvent(i,n)},_onMouseMove:function(n){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(n);this._handleMouseOut(n,t);this._handleMouseHover(n,t)}},_handleMouseOut:function(n,t){var i=this._hoveredLayer;i&&(n.type==="mouseout"||!i._containsPoint(t))&&(r.DomUtil.removeClass(this._container,"leaflet-interactive"),this._fireEvent([i],n,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(n,t){var u,i;for(u in this._drawnLayers)i=this._drawnLayers[u],i.options.interactive&&i._containsPoint(t)&&(r.DomUtil.addClass(this._container,"leaflet-interactive"),this._fireEvent([i],n,"mouseover"),this._hoveredLayer=i);this._hoveredLayer&&this._fireEvent([this._hoveredLayer],n)},_fireEvent:function(n,t,i){this._map._fireDOMEvent(t,i||t.type,n)},_bringToFront:r.Util.falseFn,_bringToBack:r.Util.falseFn});r.Browser.canvas=function(){return!!t.createElement("canvas").getContext}();r.canvas=function(n){return r.Browser.canvas?new r.Canvas(n):null};r.Polyline.prototype._containsPoint=function(n,t){var u,i,e,s,o,f,h=this._clickTolerance();if(!this._pxBounds.contains(n))return!1;for(u=0,s=this._parts.length;u<s;u++)for(f=this._parts[u],i=0,o=f.length,e=o-1;i<o;e=i++)if((t||i!==0)&&r.LineUtil.pointToSegmentDistance(n,f[e],f[i])<=h)return!0;return!1};r.Polygon.prototype._containsPoint=function(n){var o=!1,i,t,u,f,e,s,c,h;if(!this._pxBounds.contains(n))return!1;for(f=0,c=this._parts.length;f<c;f++)for(i=this._parts[f],e=0,h=i.length,s=h-1;e<h;s=e++)t=i[e],u=i[s],t.y>n.y!=u.y>n.y&&n.x<(u.x-t.x)*(n.y-t.y)/(u.y-t.y)+t.x&&(o=!o);return o||r.Polyline.prototype._containsPoint.call(this,n,!0)};r.CircleMarker.prototype._containsPoint=function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()};r.GeoJSON=r.FeatureGroup.extend({initialize:function(n,t){r.setOptions(this,t);this._layers={};n&&this.addData(n)},addData:function(n){var e=r.Util.isArray(n)?n:n.features,f,o,i,u,t;if(e){for(f=0,o=e.length;f<o;f++)i=e[f],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}if((u=this.options,u.filter&&!u.filter(n))||(t=r.GeoJSON.geometryToLayer(n,u),!t))return this;if(t.feature=r.GeoJSON.asFeature(n),t.defaultOptions=t.options,this.resetStyle(t),u.onEachFeature)u.onEachFeature(n,t);return this.addLayer(t)},resetStyle:function(n){return n.options=r.Util.extend({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this},setStyle:function(n){return this.eachLayer(function(t){this._setLayerStyle(t,n)},this)},_setLayerStyle:function(n,t){typeof t=="function"&&(t=t(n.feature));n.setStyle&&n.setStyle(t)}});r.extend(r.GeoJSON,{geometryToLayer:function(n,t){var i=n.type==="Feature"?n.geometry:n,f=i?i.coordinates:null,o=[],s=t&&t.pointToLayer,h=t&&t.coordsToLatLng||this.coordsToLatLng,e,c,u,l,a;if(!f&&!i)return null;switch(i.type){case"Point":return e=h(f),s?s(n,e):new r.Marker(e);case"MultiPoint":for(u=0,l=f.length;u<l;u++)e=h(f[u]),o.push(s?s(n,e):new r.Marker(e));return new r.FeatureGroup(o);case"LineString":case"MultiLineString":return c=this.coordsToLatLngs(f,i.type==="LineString"?0:1,h),new r.Polyline(c,t);case"Polygon":case"MultiPolygon":return c=this.coordsToLatLngs(f,i.type==="Polygon"?1:2,h),new r.Polygon(c,t);case"GeometryCollection":for(u=0,l=i.geometries.length;u<l;u++)a=this.geometryToLayer({geometry:i.geometries[u],type:"Feature",properties:n.properties},t),a&&o.push(a);return new r.FeatureGroup(o);default:throw new Error("Invalid GeoJSON object.");}},coordsToLatLng:function(n){return new r.LatLng(n[1],n[0],n[2])},coordsToLatLngs:function(n,t,i){for(var u=[],r=0,e=n.length,f;r<e;r++)f=t?this.coordsToLatLngs(n[r],t-1,i):(i||this.coordsToLatLng)(n[r]),u.push(f);return u},latLngToCoords:function(n){return n.alt!==i?[n.lng,n.lat,n.alt]:[n.lng,n.lat]},latLngsToCoords:function(n,t,i){for(var u=[],f=0,e=n.length;f<e;f++)u.push(t?r.GeoJSON.latLngsToCoords(n[f],t-1,i):r.GeoJSON.latLngToCoords(n[f]));return!t&&i&&u.push(u[0]),u},getFeature:function(n,t){return n.feature?r.extend({},n.feature,{geometry:t}):r.GeoJSON.asFeature(t)},asFeature:function(n){return n.type==="Feature"?n:{type:"Feature",properties:{},geometry:n}}});e={toGeoJSON:function(){return r.GeoJSON.getFeature(this,{type:"Point",coordinates:r.GeoJSON.latLngToCoords(this.getLatLng())})}};r.Marker.include(e);r.Circle.include(e);r.CircleMarker.include(e);r.Polyline.prototype.toGeoJSON=function(){var n=!r.Polyline._flat(this._latlngs),t=r.GeoJSON.latLngsToCoords(this._latlngs,n?1:0);return r.GeoJSON.getFeature(this,{type:(n?"Multi":"")+"LineString",coordinates:t})};r.Polygon.prototype.toGeoJSON=function(){var n=!r.Polyline._flat(this._latlngs),i=n&&!r.Polyline._flat(this._latlngs[0]),t=r.GeoJSON.latLngsToCoords(this._latlngs,i?2:n?1:0,!0);return n||(t=[t]),r.GeoJSON.getFeature(this,{type:(i?"Multi":"")+"Polygon",coordinates:t})};r.LayerGroup.include({toMultiPoint:function(){var n=[];return this.eachLayer(function(t){n.push(t.toGeoJSON().geometry.coordinates)}),r.GeoJSON.getFeature(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type,t,n;return i==="MultiPoint"?this.toMultiPoint():(t=i==="GeometryCollection",n=[],this.eachLayer(function(i){if(i.toGeoJSON){var u=i.toGeoJSON();n.push(t?u.geometry:r.GeoJSON.asFeature(u))}}),t)?r.GeoJSON.getFeature(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});r.geoJSON=function(n,t){return new r.GeoJSON(n,t)};r.geoJson=r.geoJSON;f="_leaflet_events";r.DomEvent={on:function(n,t,i,u){var e,f,o;if(typeof t=="object")for(e in t)this._on(n,e,t[e],i);else for(t=r.Util.splitWords(t),f=0,o=t.length;f<o;f++)this._on(n,t[f],i,u);return this},off:function(n,t,i,u){var e,f,o;if(typeof t=="object")for(e in t)this._off(n,e,t[e],i);else for(t=r.Util.splitWords(t),f=0,o=t.length;f<o;f++)this._off(n,t[f],i,u);return this},_on:function(t,i,u,e){var s=i+r.stamp(u)+(e?"_"+r.stamp(e):""),o,h;return t[f]&&t[f][s]?this:(o=function(i){return u.call(e||t,i||n.event)},h=o,r.Browser.pointer&&i.indexOf("touch")===0?this.addPointerListener(t,i,o,s):r.Browser.touch&&i==="dblclick"&&this.addDoubleTapListener?this.addDoubleTapListener(t,o,s):"addEventListener"in t?i==="mousewheel"?t.addEventListener("onwheel"in t?"wheel":"mousewheel",o,!1):i==="mouseenter"||i==="mouseleave"?(o=function(i){i=i||n.event;r.DomEvent._isExternalTarget(t,i)&&h(i)},t.addEventListener(i==="mouseenter"?"mouseover":"mouseout",o,!1)):(i==="click"&&r.Browser.android&&(o=function(n){return r.DomEvent._filterClick(n,h)}),t.addEventListener(i,o,!1)):"attachEvent"in t&&t.attachEvent("on"+i,o),t[f]=t[f]||{},t[f][s]=o,this)},_off:function(n,t,i,u){var e=t+r.stamp(i)+(u?"_"+r.stamp(u):""),o=n[f]&&n[f][e];return o?(r.Browser.pointer&&t.indexOf("touch")===0?this.removePointerListener(n,t,e):r.Browser.touch&&t==="dblclick"&&this.removeDoubleTapListener?this.removeDoubleTapListener(n,e):"removeEventListener"in n?t==="mousewheel"?n.removeEventListener("onwheel"in n?"wheel":"mousewheel",o,!1):n.removeEventListener(t==="mouseenter"?"mouseover":t==="mouseleave"?"mouseout":t,o,!1):"detachEvent"in n&&n.detachEvent("on"+t,o),n[f][e]=null,this):this},stopPropagation:function(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,r.DomEvent._skipped(n),this},disableScrollPropagation:function(n){return r.DomEvent.on(n,"mousewheel",r.DomEvent.stopPropagation)},disableClickPropagation:function(n){var t=r.DomEvent.stopPropagation;r.DomEvent.on(n,r.Draggable.START.join(" "),t);return r.DomEvent.on(n,{click:r.DomEvent._fakeStop,dblclick:t})},preventDefault:function(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this},stop:function(n){return r.DomEvent.preventDefault(n).stopPropagation(n)},getMousePosition:function(n,t){if(!t)return new r.Point(n.clientX,n.clientY);var i=t.getBoundingClientRect();return new r.Point(n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop)},getWheelDelta:function(n){return n.deltaY&&n.deltaMode===0?-n.deltaY:n.deltaY&&n.deltaMode===1?-n.deltaY*18:n.deltaY&&n.deltaMode===2?-n.deltaY*52:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*18:n.detail?n.detail/-32765*52:0},_skipEvents:{},_fakeStop:function(n){r.DomEvent._skipEvents[n.type]=!0},_skipped:function(n){var t=this._skipEvents[n.type];return this._skipEvents[n.type]=!1,t},_isExternalTarget:function(n,t){var i=t.relatedTarget;if(!i)return!0;try{while(i&&i!==n)i=i.parentNode}catch(r){return!1}return i!==n},_filterClick:function(n,t){var u=n.timeStamp||n.originalEvent&&n.originalEvent.timeStamp,i=r.DomEvent._lastClick&&u-r.DomEvent._lastClick;if(i&&i>100&&i<500||n.target._simulatedClick&&!n._simulated){r.DomEvent.stop(n);return}r.DomEvent._lastClick=u;t(n)}};r.DomEvent.addListener=r.DomEvent.on;r.DomEvent.removeListener=r.DomEvent.off;r.Draggable=r.Evented.extend({options:{clickTolerance:3},statics:{START:r.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(n,t,i){this._element=n;this._dragStartTarget=t||n;this._preventOutline=i},enable:function(){if(!this._enabled){r.DomEvent.on(this._dragStartTarget,r.Draggable.START.join(" "),this._onDown,this);this._enabled=!0}},disable:function(){this._enabled&&(r.DomEvent.off(this._dragStartTarget,r.Draggable.START.join(" "),this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(!n._simulated&&(this._moved=!1,!r.DomUtil.hasClass(this._element,"leaflet-zoom-anim"))&&!r.Draggable._dragging&&!n.shiftKey&&(n.which===1||n.button===1||n.touches)&&this._enabled&&(r.Draggable._dragging=!0,this._preventOutline&&r.DomUtil.preventOutline(this._element),r.DomUtil.disableImageDrag(),r.DomUtil.disableTextSelection(),!this._moving)){this.fire("down");var i=n.touches?n.touches[0]:n;this._startPoint=new r.Point(i.clientX,i.clientY);this._startPos=this._newPos=r.DomUtil.getPosition(this._element);r.DomEvent.on(t,r.Draggable.MOVE[n.type],this._onMove,this).on(t,r.Draggable.END[n.type],this._onUp,this)}},_onMove:function(i){if(!i._simulated){if(i.touches&&i.touches.length>1){this._moved=!0;return}var f=i.touches&&i.touches.length===1?i.touches[0]:i,e=new r.Point(f.clientX,f.clientY),u=e.subtract(this._startPoint);(u.x||u.y)&&(Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(r.DomEvent.preventDefault(i),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=r.DomUtil.getPosition(this._element).subtract(u),r.DomUtil.addClass(t.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,n.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),r.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,r.Util.cancelAnimFrame(this._animRequest),this._lastEvent=i,this._animRequest=r.Util.requestAnimFrame(this._updatePosition,this,!0)))}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n);r.DomUtil.setPosition(this._element,this._newPos);this.fire("drag",n)},_onUp:function(n){if(!n._simulated){r.DomUtil.removeClass(t.body,"leaflet-dragging");this._lastTarget&&(r.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var i in r.Draggable.MOVE)r.DomEvent.off(t,r.Draggable.MOVE[i],this._onMove,this).off(t,r.Draggable.END[i],this._onUp,this);r.DomUtil.enableImageDrag();r.DomUtil.enableTextSelection();this._moved&&this._moving&&(r.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)}));this._moving=!1;r.Draggable._dragging=!1}}});r.Handler=r.Class.extend({initialize:function(n){this._map=n},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}});r.Map.mergeOptions({dragging:!0,inertia:!r.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});r.Map.Drag=r.Handler.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new r.Draggable(n._mapPane,n._container);this._draggable.on({down:this._onDown,dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);this._draggable.on("predrag",this._onPreDragLimit,this);if(n.options.worldCopyJump){this._draggable.on("predrag",this._onPreDragWrap,this);n.on("zoomend",this._onZoomEnd,this);n.whenReady(this._onZoomEnd,this)}}r.DomUtil.addClass(this._map._container,"leaflet-grab");this._draggable.enable();this._positions=[];this._times=[]},removeHooks:function(){r.DomUtil.removeClass(this._map._container,"leaflet-grab");this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDown:function(){this._map._stop()},_onDragStart:function(){var t=this._map,n;this._map.options.maxBounds&&this._map.options.maxBoundsViscosity?(n=r.latLngBounds(this._map.options.maxBounds),this._offsetLimit=r.bounds(this._map.latLngToContainerPoint(n.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(n.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))):this._offsetLimit=null;t.fire("movestart").fire("dragstart");t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var t=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i);this._times.push(t);t-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",n).fire("drag",n)},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(n).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,t){return n-(n-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var n=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;n.x<t.min.x&&(n.x=this._viscousLimit(n.x,t.min.x));n.y<t.min.y&&(n.y=this._viscousLimit(n.y,t.min.y));n.x>t.max.x&&(n.x=this._viscousLimit(n.x,t.max.x));n.y>t.max.y&&(n.y=this._viscousLimit(n.y,t.max.y));this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var i=this._worldWidth,t=Math.round(i/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,u=(r-t+n)%i+t-n,f=(r+t+n)%i-t-n,e=Math.abs(u+n)<Math.abs(f+n)?u:f;this._draggable._absPos=this._draggable._newPos.clone();this._draggable._newPos.x=e},_onDragEnd:function(n){var t=this._map,u=t.options,c=!u.inertia||this._times.length<2;if(t.fire("dragend",n),c)t.fire("moveend");else{var l=this._lastPos.subtract(this._positions[0]),a=(this._lastTime-this._times[0])/1e3,f=u.easeLinearity,e=l.multiplyBy(f/a),o=e.distanceTo([0,0]),s=Math.min(u.inertiaMaxSpeed,o),v=e.multiplyBy(s/o),h=s/(u.inertiaDeceleration*f),i=v.multiplyBy(-h/2).round();i.x||i.y?(i=t._limitOffset(i,t.options.maxBounds),r.Util.requestAnimFrame(function(){t.panBy(i,{duration:h,easeLinearity:f,noMoveStart:!0,animate:!0})})):t.fire("moveend")}}});r.Map.addInitHook("addHandler","dragging",r.Map.Drag);r.Map.mergeOptions({doubleClickZoom:!0});r.Map.DoubleClickZoom=r.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var t=this._map,i=t.getZoom(),r=t.options.zoomDelta,u=n.originalEvent.shiftKey?i-r:i+r;t.options.doubleClickZoom==="center"?t.setZoom(u):t.setZoomAround(n.containerPoint,u)}});r.Map.addInitHook("addHandler","doubleClickZoom",r.Map.DoubleClickZoom);r.Map.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:50});r.Map.ScrollWheelZoom=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this);this._delta=0},removeHooks:function(){r.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var i=r.DomEvent.getWheelDelta(n),u=this._map.options.wheelDebounceTime,t;this._delta+=i;this._lastMousePos=this._map.mouseEventToContainerPoint(n);this._startTime||(this._startTime=+new Date);t=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(r.bind(this._performZoom,this),t);r.DomEvent.stop(n)},_performZoom:function(){var n=this._map,t=n.getZoom(),i=this._map.options.zoomSnap||0;n._stop();var e=this._delta/(this._map.options.wheelPxPerZoomLevel*4),u=4*Math.log(2/(1+Math.exp(-Math.abs(e))))/Math.LN2,f=i?Math.ceil(u/i)*i:u,r=n._limitZoom(t+(this._delta>0?f:-f))-t;(this._delta=0,this._startTime=null,r)&&(n.options.scrollWheelZoom==="center"?n.setZoom(t+r):n.setZoomAround(this._lastMousePos,t+r))}});r.Map.addInitHook("addHandler","scrollWheelZoom",r.Map.ScrollWheelZoom);r.extend(r.DomEvent,{_touchstart:r.Browser.msPointer?"MSPointerDown":r.Browser.pointer?"pointerdown":"touchstart",_touchend:r.Browser.msPointer?"MSPointerUp":r.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(n,t,i){function s(n){var e,t,i;(e=r.Browser.pointer?r.DomEvent._pointersCount:n.touches.length,e>1)||(t=Date.now(),i=t-(f||t),u=n.touches?n.touches[0]:n,o=i>0&&i<=a,f=t)}function h(){if(o&&!u.cancelBubble){if(r.Browser.pointer){var i={},n;for(var e in u)n=u[e],i[e]=n&&n.bind?n.bind(u):n;u=i}u.type="dblclick";t(u);f=null}}var f,u,o=!1,a=250,e="_leaflet_",c=this._touchstart,l=this._touchend;return n[e+c+i]=s,n[e+l+i]=h,n[e+"dblclick"+i]=t,n.addEventListener(c,s,!1),n.addEventListener(l,h,!1),r.Browser.edge||n.addEventListener("dblclick",t,!1),this},removeDoubleTapListener:function(n,t){var i="_leaflet_",u=n[i+this._touchstart+t],f=n[i+this._touchend+t],e=n[i+"dblclick"+t];return n.removeEventListener(this._touchstart,u,!1),n.removeEventListener(this._touchend,f,!1),r.Browser.edge||n.removeEventListener("dblclick",e,!1),this}});r.extend(r.DomEvent,{POINTER_DOWN:r.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:r.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:r.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:r.Browser.msPointer?"MSPointerCancel":"pointercancel",TAG_WHITE_LIST:["INPUT","SELECT","OPTION"],_pointers:{},_pointersCount:0,addPointerListener:function(n,t,i,r){return t==="touchstart"?this._addPointerStart(n,i,r):t==="touchmove"?this._addPointerMove(n,i,r):t==="touchend"&&this._addPointerEnd(n,i,r),this},removePointerListener:function(n,t,i){var r=n["_leaflet_"+t+i];return t==="touchstart"?n.removeEventListener(this.POINTER_DOWN,r,!1):t==="touchmove"?n.removeEventListener(this.POINTER_MOVE,r,!1):t==="touchend"&&(n.removeEventListener(this.POINTER_UP,r,!1),n.removeEventListener(this.POINTER_CANCEL,r,!1)),this},_addPointerStart:function(n,i,u){var e=r.bind(function(n){if(n.pointerType!=="mouse"&&n.pointerType!==n.MSPOINTER_TYPE_MOUSE)if(this.TAG_WHITE_LIST.indexOf(n.target.tagName)<0)r.DomEvent.preventDefault(n);else return;this._handlePointer(n,i)},this),f;n["_leaflet_touchstart"+u]=e;n.addEventListener(this.POINTER_DOWN,e,!1);this._pointerDocListener||(f=r.bind(this._globalPointerUp,this),t.documentElement.addEventListener(this.POINTER_DOWN,r.bind(this._globalPointerDown,this),!0),t.documentElement.addEventListener(this.POINTER_MOVE,r.bind(this._globalPointerMove,this),!0),t.documentElement.addEventListener(this.POINTER_UP,f,!0),t.documentElement.addEventListener(this.POINTER_CANCEL,f,!0),this._pointerDocListener=!0)},_globalPointerDown:function(n){this._pointers[n.pointerId]=n;this._pointersCount++},_globalPointerMove:function(n){this._pointers[n.pointerId]&&(this._pointers[n.pointerId]=n)},_globalPointerUp:function(n){delete this._pointers[n.pointerId];this._pointersCount--},_handlePointer:function(n,t){n.touches=[];for(var i in this._pointers)n.touches.push(this._pointers[i]);n.changedTouches=[n];t(n)},_addPointerMove:function(n,t,i){var u=r.bind(function(n){(n.pointerType!==n.MSPOINTER_TYPE_MOUSE&&n.pointerType!=="mouse"||n.buttons!==0)&&this._handlePointer(n,t)},this);n["_leaflet_touchmove"+i]=u;n.addEventListener(this.POINTER_MOVE,u,!1)},_addPointerEnd:function(n,t,i){var u=r.bind(function(n){this._handlePointer(n,t)},this);n["_leaflet_touchend"+i]=u;n.addEventListener(this.POINTER_UP,u,!1);n.addEventListener(this.POINTER_CANCEL,u,!1)}});r.Map.mergeOptions({touchZoom:r.Browser.touch&&!r.Browser.android23,bounceAtZoomLimits:!0});r.Map.TouchZoom=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){r.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var i=this._map,u,f;if(n.touches&&n.touches.length===2&&!i._animatingZoom&&!this._zooming){u=i.mouseEventToContainerPoint(n.touches[0]);f=i.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=i.getSize()._divideBy(2);this._startLatLng=i.containerPointToLatLng(this._centerPoint);i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(u.add(f)._divideBy(2)));this._startDist=u.distanceTo(f);this._startZoom=i.getZoom();this._moved=!1;this._zooming=!0;i._stop();r.DomEvent.on(t,"touchmove",this._onTouchMove,this).on(t,"touchend",this._onTouchEnd,this);r.DomEvent.preventDefault(n)}},_onTouchMove:function(n){var u,o;if(n.touches&&n.touches.length===2&&this._zooming){var t=this._map,f=t.mouseEventToContainerPoint(n.touches[0]),e=t.mouseEventToContainerPoint(n.touches[1]),i=f.distanceTo(e)/this._startDist;if(this._zoom=t.getScaleZoom(i,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&i<1||this._zoom>t.getMaxZoom()&&i>1)&&(this._zoom=t._limitZoom(this._zoom)),t.options.touchZoom==="center"){if(this._center=this._startLatLng,i===1)return}else{if(u=f._add(e)._divideBy(2)._subtract(this._centerPoint),i===1&&u.x===0&&u.y===0)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(u),this._zoom)}this._moved||(t._moveStart(!0),this._moved=!0);r.Util.cancelAnimFrame(this._animRequest);o=r.bind(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=r.Util.requestAnimFrame(o,this,!0);r.DomEvent.preventDefault(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1;r.Util.cancelAnimFrame(this._animRequest);r.DomEvent.off(t,"touchmove",this._onTouchMove).off(t,"touchend",this._onTouchEnd);this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.snapZoom):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});r.Map.addInitHook("addHandler","touchZoom",r.Map.TouchZoom);r.Map.mergeOptions({tap:!0,tapTolerance:15});r.Map.Tap=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){r.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(n.touches){if(r.DomEvent.preventDefault(n),this._fireClick=!0,n.touches.length>1){this._fireClick=!1;clearTimeout(this._holdTimeout);return}var i=n.touches[0],u=i.target;this._startPos=this._newPos=new r.Point(i.clientX,i.clientY);u.tagName&&u.tagName.toLowerCase()==="a"&&r.DomUtil.addClass(u,"leaflet-active");this._holdTimeout=setTimeout(r.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",i))},this),1e3);this._simulateEvent("mousedown",i);r.DomEvent.on(t,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(n){if(clearTimeout(this._holdTimeout),r.DomEvent.off(t,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&n&&n.changedTouches){var u=n.changedTouches[0],i=u.target;i&&i.tagName&&i.tagName.toLowerCase()==="a"&&r.DomUtil.removeClass(i,"leaflet-active");this._simulateEvent("mouseup",u);this._isTapValid()&&this._simulateEvent("click",u)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(n){var t=n.touches[0];this._newPos=new r.Point(t.clientX,t.clientY);this._simulateEvent("mousemove",t)},_simulateEvent:function(i,r){var u=t.createEvent("MouseEvents");u._simulated=!0;r.target._simulatedClick=!0;u.initMouseEvent(i,!0,!0,n,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null);r.target.dispatchEvent(u)}});r.Browser.touch&&!r.Browser.pointer&&r.Map.addInitHook("addHandler","tap",r.Map.Tap);r.Map.mergeOptions({boxZoom:!0});r.Map.BoxZoom=r.Handler.extend({initialize:function(n){this._map=n;this._container=n._container;this._pane=n._panes.overlayPane},addHooks:function(){r.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){r.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_resetState:function(){this._moved=!1},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._resetState();r.DomUtil.disableTextSelection();r.DomUtil.disableImageDrag();this._startPoint=this._map.mouseEventToContainerPoint(n);r.DomEvent.on(t,{contextmenu:r.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=r.DomUtil.create("div","leaflet-zoom-box",this._container),r.DomUtil.addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart"));this._point=this._map.mouseEventToContainerPoint(n);var t=new r.Bounds(this._point,this._startPoint),i=t.getSize();r.DomUtil.setPosition(this._box,t.min);this._box.style.width=i.x+"px";this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(r.DomUtil.remove(this._box),r.DomUtil.removeClass(this._container,"leaflet-crosshair"));r.DomUtil.enableTextSelection();r.DomUtil.enableImageDrag();r.DomEvent.off(t,{contextmenu:r.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if((n.which===1||n.button===1)&&(this._finish(),this._moved)){setTimeout(r.bind(this._resetState,this),0);var t=new r.LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(n){n.keyCode===27&&this._finish()}});r.Map.addInitHook("addHandler","boxZoom",r.Map.BoxZoom);r.Map.mergeOptions({keyboard:!0,keyboardPanDelta:80});r.Map.Keyboard=r.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n;this._setPanDelta(n.options.keyboardPanDelta);this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0");r.DomEvent.on(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks();r.DomEvent.off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=t.body,r=t.documentElement,u=i.scrollTop||r.scrollTop,f=i.scrollLeft||r.scrollLeft;this._map._container.focus();n.scrollTo(f,u)}},_onFocus:function(){this._focused=!0;this._map.fire("focus")},_onBlur:function(){this._focused=!1;this._map.fire("blur")},_setPanDelta:function(n){for(var u=this._panKeys={},i=this.keyCodes,t=0,r=i.left.length;t<r;t++)u[i.left[t]]=[-1*n,0];for(t=0,r=i.right.length;t<r;t++)u[i.right[t]]=[n,0];for(t=0,r=i.down.length;t<r;t++)u[i.down[t]]=[0,n];for(t=0,r=i.up.length;t<r;t++)u[i.up[t]]=[0,-1*n]},_setZoomDelta:function(n){for(var u=this._zoomKeys={},i=this.keyCodes,t=0,r=i.zoomIn.length;t<r;t++)u[i.zoomIn[t]]=n;for(t=0,r=i.zoomOut.length;t<r;t++)u[i.zoomOut[t]]=-n},_addHooks:function(){r.DomEvent.on(t,"keydown",this._onKeyDown,this)},_removeHooks:function(){r.DomEvent.off(t,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!n.altKey&&!n.ctrlKey&&!n.metaKey){var i=n.keyCode,t=this._map,u;if(i in this._panKeys){if(t._panAnim&&t._panAnim._inProgress)return;u=this._panKeys[i];n.shiftKey&&(u=r.point(u).multiplyBy(3));t.panBy(u);t.options.maxBounds&&t.panInsideBounds(t.options.maxBounds)}else if(i in this._zoomKeys)t.setZoom(t.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27)t.closePopup();else return;r.DomEvent.stop(n)}}});r.Map.addInitHook("addHandler","keyboard",r.Map.Keyboard);r.Handler.MarkerDrag=r.Handler.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new r.Draggable(n,n,!0));this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable();r.DomUtil.addClass(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable();this._marker._icon&&r.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(n){var t=this._marker,i=t._shadow,u=r.DomUtil.getPosition(t._icon),f=t._map.layerPointToLatLng(u);i&&r.DomUtil.setPosition(i,u);t._latlng=f;n.latlng=f;t.fire("move",n).fire("drag",n)},_onDragEnd:function(n){this._marker.fire("moveend").fire("dragend",n)}});r.Control=r.Class.extend({options:{position:"topright"},initialize:function(n){r.setOptions(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var t=this._map;return t&&t.removeControl(this),this.options.position=n,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove();this._map=n;var t=this._container=this.onAdd(n),u=this.getPosition(),i=n._controlCorners[u];return r.DomUtil.addClass(t,"leaflet-control"),u.indexOf("bottom")!==-1?i.insertBefore(t,i.firstChild):i.appendChild(t),this},remove:function(){if(!this._map)return this;if(r.DomUtil.remove(this._container),this.onRemove)this.onRemove(this._map);return this._map=null,this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}});r.control=function(n){return new r.Control(n)};r.Map.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){function n(n,f){var e=t+n+" "+t+f;i[n+f]=r.DomUtil.create("div",e,u)}var i=this._controlCorners={},t="leaflet-",u=this._controlContainer=r.DomUtil.create("div",t+"control-container",this._container);n("top","left");n("top","right");n("bottom","left");n("bottom","right")},_clearControlPos:function(){r.DomUtil.remove(this._controlContainer)}});r.Control.Zoom=r.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(n){var i="leaflet-control-zoom",u=r.DomUtil.create("div",i+" leaflet-bar"),t=this.options;this._zoomInButton=this._createButton(t.zoomInText,t.zoomInTitle,i+"-in",u,this._zoomIn);this._zoomOutButton=this._createButton(t.zoomOutText,t.zoomOutTitle,i+"-out",u,this._zoomOut);this._updateDisabled();n.on("zoomend zoomlevelschange",this._updateDisabled,this);return u},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){this._disabled||this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){this._disabled||this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,t,i,u,f){var e=r.DomUtil.create("a",i,u);e.innerHTML=n;e.href="#";e.title=t;r.DomEvent.on(e,"mousedown dblclick",r.DomEvent.stopPropagation).on(e,"click",r.DomEvent.stop).on(e,"click",f,this).on(e,"click",this._refocusOnMap,this);return e},_updateDisabled:function(){var n=this._map,t="leaflet-disabled";r.DomUtil.removeClass(this._zoomInButton,t);r.DomUtil.removeClass(this._zoomOutButton,t);(this._disabled||n._zoom===n.getMinZoom())&&r.DomUtil.addClass(this._zoomOutButton,t);(this._disabled||n._zoom===n.getMaxZoom())&&r.DomUtil.addClass(this._zoomInButton,t)}});r.Map.mergeOptions({zoomControl:!0});r.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new r.Control.Zoom,this.addControl(this.zoomControl))});r.control.zoom=function(n){return new r.Control.Zoom(n)};r.Control.Attribution=r.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet<\/a>'},initialize:function(n){r.setOptions(this,n);this._attributions={}},onAdd:function(n){n.attributionControl=this;this._container=r.DomUtil.create("div","leaflet-control-attribution");r.DomEvent&&r.DomEvent.disableClickPropagation(this._container);for(var t in n._layers)n._layers[t].getAttribution&&this.addAttribution(n._layers[t].getAttribution());return this._update(),this._container},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){var n,i,t;if(this._map){n=[];for(i in this._attributions)this._attributions[i]&&n.push(i);t=[];this.options.prefix&&t.push(this.options.prefix);n.length&&t.push(n.join(", "));this._container.innerHTML=t.join(" | ")}}});r.Map.mergeOptions({attributionControl:!0});r.Map.addInitHook(function(){this.options.attributionControl&&(new r.Control.Attribution).addTo(this)});r.control.attribution=function(n){return new r.Control.Attribution(n)};r.Control.Scale=r.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var t="leaflet-control-scale",i=r.DomUtil.create("div",t),u=this.options;this._addScales(u,t+"-line",i);n.on(u.updateWhenIdle?"moveend":"move",this._update,this);return n.whenReady(this._update,this),i},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,t,i){n.metric&&(this._mScale=r.DomUtil.create("div",t,i));n.imperial&&(this._iScale=r.DomUtil.create("div",t,i))},_update:function(){var n=this._map,t=n.getSize().y/2,i=n.distance(n.containerPointToLatLng([0,t]),n.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(i)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n);this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var t=this._getRoundNum(n),i=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,i,t/n)},_updateImperial:function(n){var t=n*3.2808399,i,r,u;t>5280?(i=t/5280,r=this._getRoundNum(i),this._updateScale(this._iScale,r+" mi",r/i)):(u=this._getRoundNum(t),this._updateScale(this._iScale,u+" ft",u/t))},_updateScale:function(n,t,i){n.style.width=Math.round(this.options.maxWidth*i)+"px";n.innerHTML=t},_getRoundNum:function(n){var i=Math.pow(10,(Math.floor(n)+"").length-1),t=n/i;return t=t>=10?10:t>=5?5:t>=3?3:t>=2?2:1,i*t}});r.control.scale=function(n){return new r.Control.Scale(n)};r.Control.Layers=r.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1},initialize:function(n,t,i){r.setOptions(this,i);this._layers=[];this._lastZIndex=0;this._handlingClick=!1;for(var u in n)this._addLayer(n[u],u);for(u in t)this._addLayer(t[u],u,!0)},onAdd:function(n){this._initLayout();this._update();this._map=n;n.on("zoomend",this._checkDisabledLayers,this);return this._container},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n in this._layers)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,t){return this._addLayer(n,t),this._map?this._update():this},addOverlay:function(n,t){return this._addLayer(n,t,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var t=this._getLayer(r.stamp(n));return this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){r.DomUtil.addClass(this._container,"leaflet-control-layers-expanded");this._form.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._form.clientHeight?(r.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=n+"px"):r.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return r.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",t=this._container=r.DomUtil.create("div",n),i,u;if(t.setAttribute("aria-haspopup",!0),r.DomEvent.disableClickPropagation(t),r.Browser.touch||r.DomEvent.disableScrollPropagation(t),i=this._form=r.DomUtil.create("form",n+"-list"),this.options.collapsed){if(!r.Browser.android)r.DomEvent.on(t,{mouseenter:this.expand,mouseleave:this.collapse},this);if(u=this._layersLink=r.DomUtil.create("a",n+"-toggle",t),u.href="#",u.title="Layers",r.Browser.touch)r.DomEvent.on(u,"click",r.DomEvent.stop).on(u,"click",this.expand,this);else r.DomEvent.on(u,"focus",this.expand,this);r.DomEvent.on(i,"click",function(){setTimeout(r.bind(this._onInputClick,this),0)},this);this._map.on("click",this.collapse,this)}else this.expand();this._baseLayersList=r.DomUtil.create("div",n+"-base",i);this._separator=r.DomUtil.create("div",n+"-separator",i);this._overlaysList=r.DomUtil.create("div",n+"-overlays",i);t.appendChild(i)},_getLayer:function(n){for(var t=0;t<=this._layers.length;t++)if(r.stamp(this._layers[t].layer)===n)return this._layers[t]},_addLayer:function(n,t,i){n.on("add remove",this._onLayerChange,this);this._layers.push({layer:n,name:t,overlay:i});this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex))},_update:function(){if(!this._container)return this;r.DomUtil.empty(this._baseLayersList);r.DomUtil.empty(this._overlaysList);var n,i,u,t,f=0;for(u in this._layers)t=this._layers[u],this._addItem(t),i=i||t.overlay,n=n||!t.overlay,f+=t.overlay?0:1;return this.options.hideSingleBase&&(n=n&&f>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=i&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var t=this._getLayer(r.stamp(n.target)),i=t.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;i&&this._map.fire(i,t)},_createRadioElement:function(n,i){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(i?' checked="checked"':"")+"/>",r=t.createElement("div");return r.innerHTML=u,r.firstChild},_addItem:function(n){var f=t.createElement("label"),o=this._map.hasLayer(n.layer),i,e,u,s;n.overlay?(i=t.createElement("input"),i.type="checkbox",i.className="leaflet-control-layers-selector",i.defaultChecked=o):i=this._createRadioElement("leaflet-base-layers",o);i.layerId=r.stamp(n.layer);r.DomEvent.on(i,"click",this._onInputClick,this);return e=t.createElement("span"),e.innerHTML=" "+n.name,u=t.createElement("div"),f.appendChild(u),u.appendChild(i),u.appendChild(e),s=n.overlay?this._overlaysList:this._baseLayersList,s.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){var e=this._form.getElementsByTagName("input"),t,i,r,u=[],f=[],n;for(this._handlingClick=!0,n=e.length-1;n>=0;n--)t=e[n],i=this._getLayer(t.layerId).layer,r=this._map.hasLayer(i),t.checked&&!r?u.push(i):!t.checked&&r&&f.push(i);for(n=0;n<f.length;n++)this._map.removeLayer(f[n]);for(n=0;n<u.length;n++)this._map.addLayer(u[n]);this._handlingClick=!1;this._refocusOnMap()},_checkDisabledLayers:function(){for(var u=this._form.getElementsByTagName("input"),t,n,f=this._map.getZoom(),r=u.length-1;r>=0;r--)t=u[r],n=this._getLayer(t.layerId).layer,t.disabled=n.options.minZoom!==i&&f<n.options.minZoom||n.options.maxZoom!==i&&f>n.options.maxZoom},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}});r.control.layers=function(n,t,i){return new r.Control.Layers(n,t,i)};r.PosAnimation=r.Evented.extend({run:function(n,t,i,u){this.stop();this._el=n;this._inProgress=!0;this._duration=i||.25;this._easeOutPower=1/Math.max(u||.5,.2);this._startPos=r.DomUtil.getPosition(n);this._offset=t.subtract(this._startPos);this._startTime=+new Date;this.fire("start");this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=r.Util.requestAnimFrame(this._animate,this);this._step()},_step:function(n){var t=+new Date-this._startTime,i=this._duration*1e3;t<i?this._runFrame(this._easeOut(t/i),n):(this._runFrame(1),this._complete())},_runFrame:function(n,t){var i=this._startPos.add(this._offset.multiplyBy(n));t&&i._round();r.DomUtil.setPosition(this._el,i);this.fire("step")},_complete:function(){r.Util.cancelAnimFrame(this._animId);this._inProgress=!1;this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}});r.Map.include({setView:function(n,t,u){if(t=t===i?this._zoom:this._limitZoom(t),n=this._limitCenter(r.latLng(n),t,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==i&&(u.zoom=r.extend({animate:u.animate},u.zoom),u.pan=r.extend({animate:u.animate,duration:u.duration},u.pan));var f=this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,t,u.zoom):this._tryAnimatedPan(n,u.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(n,t),this},panBy:function(n,t){if(n=r.point(n).round(),t=t||{},!n.x&&!n.y)return this.fire("moveend");if(t.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(!this._panAnim){this._panAnim=new r.PosAnimation;this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)}if(t.noMoveStart||this.fire("movestart"),t.animate!==!1){r.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,i,t.duration||.25,t.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){r.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(n,t){var i=this._getCenterOffset(n)._floor();return(t&&t.animate)!==!0&&!this.getSize().contains(i)?!1:(this.panBy(i,t),!0)}});r.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4});o=r.DomUtil.TRANSITION&&r.Browser.any3d&&!r.Browser.mobileOpera;o&&r.Map.addInitHook(function(){if(this._zoomAnimated=this.options.zoomAnimation,this._zoomAnimated){this._createAnimProxy();r.DomEvent.on(this._proxy,r.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}});r.Map.include(o?{_createAnimProxy:function(){var n=this._proxy=r.DomUtil.create("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n);this.on("zoomanim",function(t){var i=r.DomUtil.TRANSFORM,u=n.style[i];r.DomUtil.setTransform(n,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1));u===n.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()},this);this.on("load moveend",function(){var i=this.getCenter(),t=this.getZoom();r.DomUtil.setTransform(n,this.project(i,t),this.getZoomScale(t,1))},this)},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,t,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||i.animate===!1||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var u=this.getZoomScale(t),f=this._getCenterOffset(n)._divideBy(1-1/u);return i.animate!==!0&&!this.getSize().contains(f)?!1:(r.Util.requestAnimFrame(function(){this._moveStart(!0)._animateZoom(n,t,!0)},this),!0)},_animateZoom:function(n,t,i,u){i&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=t,r.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"));this.fire("zoomanim",{center:n,zoom:t,noUpdate:u});setTimeout(r.bind(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(r.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),r.Util.requestAnimFrame(function(){this._moveEnd(!0)},this))}}:{});r.Map.include({flyTo:function(n,t,u){function w(n){var r=n?-1:1,u=n?v:f,e=v*v-f*f+r*c*c*h*h,o=2*u*c*h,t=e/o,i=Math.sqrt(t*t+1)-t;return i<1e-9?-18:Math.log(i)}function b(n){return(Math.exp(n)-Math.exp(-n))/2}function l(n){return(Math.exp(n)+Math.exp(-n))/2}function g(n){return b(n)/l(n)}function nt(n){return f*(l(e)/l(e+o*n))}function tt(n){return f*(l(e)*g(e+o*n)-b(e))/c}function it(n){return 1-Math.pow(1-n,1.5)}function d(){var i=(Date.now()-rt)/ut,u=it(i)*k;i<=1?(this._flyToFrame=r.Util.requestAnimFrame(d,this),this._move(this.unproject(a.add(y.subtract(a).multiplyBy(tt(u)/h)),s),this.getScaleZoom(f/nt(u),s),{flyTo:!0})):this._move(n,t)._moveEnd(!0)}var e;if(u=u||{},u.animate===!1||!r.Browser.any3d)return this.setView(n,t,u);this._stop();var a=this.project(this.getCenter()),y=this.project(n),p=this.getSize(),s=this._zoom;n=r.latLng(n);t=t===i?s:t;var f=Math.max(p.x,p.y),v=f*this.getZoomScale(s,t),h=y.distanceTo(a)||1,o=1.42,c=o*o;e=w(0);var rt=Date.now(),k=(w(1)-e)/o,ut=u.duration?1e3*u.duration:1e3*k*.8;return this._moveStart(!0),d.call(this),this},flyToBounds:function(n,t){var i=this._getBoundsCenterZoom(n,t);return this.flyTo(i.center,i.zoom,t)}});r.Map.include({_defaultLocateOptions:{timeout:1e4,watch:!1},locate:function(n){if(n=this._locateOptions=r.extend({},this._defaultLocateOptions,n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=r.bind(this._handleGeolocationResponse,this),i=r.bind(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,i,n):navigator.geolocation.getCurrentPosition(t,i,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){var t=n.code,i=n.message||(t===1?"permission denied":t===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld();this.fire("locationerror",{code:t,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(n){var s=n.coords.latitude,h=n.coords.longitude,i=new r.LatLng(s,h),o=i.toBounds(n.coords.accuracy),u=this._locateOptions,f,e,t;u.setView&&(f=this.getBoundsZoom(o),this.setView(i,u.maxZoom?Math.min(f,u.maxZoom):f));e={latlng:i,bounds:o,timestamp:n.timestamp};for(t in n.coords)typeof n.coords[t]=="number"&&(e[t]=n.coords[t]);this.fire("locationfound",e)}})}(window,document);!function(n,t){"function"==typeof define&&define.amd?define(["leaflet"],n):"object"==typeof exports&&(module.exports="undefined"!=typeof t&&t.L?n(L):n(require("leaflet")));"undefined"!=typeof t&&t.L&&(t.L.Control.Locate=n(L))}(function(n){var t=n.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPan",keepCurrentZoomLevel:!1,clickBehavior:{inView:"stop",outOfView:"setView"},drawCircle:!0,drawMarker:!0,markerClass:n.CircleMarker,circleStyle:{color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:2,opacity:.5},markerStyle:{color:"#136AEC",fillColor:"#2A93EE",fillOpacity:.7,weight:2,opacity:.9,radius:5},followCircleStyle:{},followMarkerStyle:{},icon:"fa fa-map-marker",iconLoading:"fa fa-spinner fa-spin",iconElementTag:"span",circlePadding:[0,0],metric:!0,onLocationError:function(n){alert(n.message)},onLocationOutsideMapBounds:function(n){n.stop();alert(n.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize:function(t){for(var i in t)"object"==typeof this.options[i]?n.extend(this.options[i],t[i]):this.options[i]=t[i];this.options.followMarkerStyle=n.extend({},this.options.markerStyle,this.options.followMarkerStyle);this.options.followCircleStyle=n.extend({},this.options.circleStyle,this.options.followCircleStyle)},onAdd:function(t){var i=n.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");return this._layer=this.options.layer||new n.LayerGroup,this._layer.addTo(t),this._event=void 0,this._link=n.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",i),this._link.href="#",this._link.title=this.options.strings.title,this._icon=n.DomUtil.create(this.options.iconElementTag,this.options.icon,this._link),n.DomEvent.on(this._link,"click",n.DomEvent.stopPropagation).on(this._link,"click",n.DomEvent.preventDefault).on(this._link,"click",this._onClick,this).on(this._link,"dblclick",n.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),i},_onClick:function(){if(this._justClicked=!0,this._userPanned=!1,this._active&&!this._event)this.stop();else if(this._active&&void 0!==this._event){var n=this._map.getBounds().contains(this._event.latlng)?this.options.clickBehavior.inView:this.options.clickBehavior.outOfView;switch(n){case"setView":this.setView();break;case"stop":this.stop()}}else this.start();this._updateContainerStyle()},start:function(){this._activate();this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView());this._updateContainerStyle()},stop:function(){this._deactivate();this._cleanClasses();this._resetVariables();this._removeMarker()},_activate:function(){this._active||(this._map.locate(this.options.locateOptions),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this))},_deactivate:function(){this._map.stopLocate();this._active=!1;this._map.off("locationfound",this._onLocationFound,this);this._map.off("locationerror",this._onLocationError,this);this._map.off("dragstart",this._onDrag,this)},setView:function(){this._isOutsideMapBounds()?this.options.onLocationOutsideMapBounds(this):this.options.keepCurrentZoomLevel?this._map.panTo([this._event.latitude,this._event.longitude]):this._map.fitBounds(this._event.bounds,{padding:this.options.circlePadding,maxZoom:this.options.locateOptions.maxZoom});this._drawMarker()},_drawMarker:function(){var i,t,r,u,f,e,o;void 0===this._event.accuracy&&(this._event.accuracy=0);i=this._event.accuracy;t=this._event.latlng;this.options.drawCircle&&(r=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle,this._circle?this._circle.setLatLng(t).setRadius(i).setStyle(r):this._circle=n.circle(t,i,r).addTo(this._layer));(this.options.metric?(u=i.toFixed(0),f=this.options.strings.metersUnit):(u=(3.2808399*i).toFixed(0),f=this.options.strings.feetUnit),this.options.drawMarker)&&(e=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle,this._marker?this._marker.setLatLng(t).setStyle(e):this._marker=new this.options.markerClass(t,e).addTo(this._layer));o=this.options.strings.popup;this.options.showPopup&&o&&this._marker&&this._marker.bindPopup(n.Util.template(o,{distance:u,unit:f}))._popup.setLatLng(t)},_removeMarker:function(){this._layer.clearLayers();this._marker=void 0;this._circle=void 0},_unload:function(){this.stop();this._map.off("unload",this._unload,this)},_onLocationError:function(n){3==n.code&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(n,this))},_onLocationFound:function(n){if((!this._event||this._event.latlng.lat!==n.latlng.lat||this._event.latlng.lng!==n.latlng.lng||this._event.accuracy!==n.accuracy)&&this._active){switch(this._event=n,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"always":this.setView()}this._justClicked=!1}},_onDrag:function(){this._event&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing:function(){return this._active?"always"===this.options.setView?!0:"untilPan"===this.options.setView?!this._userPanned:void 0:!1},_isOutsideMapBounds:function(){return void 0===this._event?!1:this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle:function(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses:function(t){"requesting"==t?(n.DomUtil.removeClasses(this._container,"active following"),n.DomUtil.addClasses(this._container,"requesting"),n.DomUtil.removeClasses(this._icon,this.options.icon),n.DomUtil.addClasses(this._icon,this.options.iconLoading)):"active"==t?(n.DomUtil.removeClasses(this._container,"requesting following"),n.DomUtil.addClasses(this._container,"active"),n.DomUtil.removeClasses(this._icon,this.options.iconLoading),n.DomUtil.addClasses(this._icon,this.options.icon)):"following"==t&&(n.DomUtil.removeClasses(this._container,"requesting"),n.DomUtil.addClasses(this._container,"active following"),n.DomUtil.removeClasses(this._icon,this.options.iconLoading),n.DomUtil.addClasses(this._icon,this.options.icon))},_cleanClasses:function(){n.DomUtil.removeClass(this._container,"requesting");n.DomUtil.removeClass(this._container,"active");n.DomUtil.removeClass(this._container,"following");n.DomUtil.removeClasses(this._icon,this.options.iconLoading);n.DomUtil.addClasses(this._icon,this.options.icon)},_resetVariables:function(){this._active=!1;this._justClicked=!1;this._userPanned=!1}});return n.control.locate=function(t){return new n.Control.Locate(t)},function(){var t=function(t,i,r){r=r.split(" ");r.forEach(function(r){n.DomUtil[t].call(this,i,r)})};n.DomUtil.addClasses=function(n,i){t("addClass",n,i)};n.DomUtil.removeClasses=function(n,i){t("removeClass",n,i)}}(),t},window);!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("leaflet")):"function"==typeof define&&define.amd?define(["exports","leaflet"],t):t((n.L=n.L||{},n.L.esri=n.L.esri||{}),n.L)}(this,function(n,t){"use strict";function li(n,t){for(var i=0;i<n.length;i++)if(n[i]!==t[i])return!1;return!0}function tt(n){return li(n[0],n[n.length-1])||n.push(n[0]),n}function it(n){var i,u=0,t=0,f=n.length,r=n[t];for(t;f-1>t;t++)i=n[t+1],u+=(i[0]-r[0])*(i[1]+r[1]),r=i;return u>=0}function ai(n,t,i,r){var o=(r[0]-i[0])*(n[1]-i[1])-(r[1]-i[1])*(n[0]-i[0]),s=(t[0]-n[0])*(n[1]-i[1])-(t[1]-n[1])*(n[0]-i[0]),u=(r[1]-i[1])*(t[0]-n[0])-(r[0]-i[0])*(t[1]-n[1]),f,e;return 0!==u&&(f=o/u,e=s/u,f>=0&&1>=f&&e>=0&&1>=e)?!0:!1}function ht(n,t){for(var r,i=0;i<n.length-1;i++)for(r=0;r<t.length-1;r++)if(ai(n[i],n[i+1],t[r],t[r+1]))return!0;return!1}function vi(n,t){for(var u=!1,i=-1,f=n.length,r=f-1;++i<f;r=i)(n[i][1]<=t[1]&&t[1]<n[r][1]||n[r][1]<=t[1]&&t[1]<n[i][1])&&t[0]<(n[r][0]-n[i][0])*(t[1]-n[i][1])/(n[r][1]-n[i][1])+n[i][0]&&(u=!u);return u}function yi(n,t){var i=ht(n,t),r=vi(n,t[0]);return!(i||!r)}function pi(n){for(var u,l,e,h,c,i,f,r,t=[],o=[],s=0;s<n.length;s++)u=tt(n[s].slice(0)),u.length<4||(it(u)?(l=[u],t.push(l)):o.push(u));for(e=[];o.length;){for(r=o.pop(),h=!1,i=t.length-1;i>=0;i--)if(f=t[i][0],yi(f,r)){t[i].push(r);h=!0;break}h||e.push(r)}for(;e.length;){for(r=e.pop(),c=!1,i=t.length-1;i>=0;i--)if(f=t[i][0],ht(f,r)){t[i].push(r);c=!0;break}c||t.push([r.reverse()])}return 1===t.length?{type:"Polygon",coordinates:t[0]}:{type:"MultiPolygon",coordinates:t}}function ct(n){var u=[],f=n.slice(0),i=tt(f.shift().slice(0)),r,t;if(i.length>=4)for(it(i)||i.reverse(),u.push(i),r=0;r<f.length;r++)t=tt(f[r].slice(0)),t.length>=4&&(it(t)&&t.reverse(),u.push(t));return u}function wi(n){for(var u,i,f,r=[],t=0;t<n.length;t++)for(u=ct(n[t]),i=u.length-1;i>=0;i--)f=u[i].slice(0),r.push(f);return r}function lt(n){var i={};for(var t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i}function at(n,t){var i={};return"number"==typeof n.x&&"number"==typeof n.y&&(i.type="Point",i.coordinates=[n.x,n.y]),n.points&&(i.type="MultiPoint",i.coordinates=n.points.slice(0)),n.paths&&(1===n.paths.length?(i.type="LineString",i.coordinates=n.paths[0].slice(0)):(i.type="MultiLineString",i.coordinates=n.paths.slice(0))),n.rings&&(i=pi(n.rings.slice(0))),(n.geometry||n.attributes)&&(i.type="Feature",i.geometry=n.geometry?at(n.geometry):null,i.properties=n.attributes?lt(n.attributes):null,n.attributes&&(i.id=n.attributes[t]||n.attributes.OBJECTID||n.attributes.FID)),i}function l(n,t){t=t||"OBJECTID";var r,u={wkid:4326},i={};switch(n.type){case"Point":i.x=n.coordinates[0];i.y=n.coordinates[1];i.spatialReference=u;break;case"MultiPoint":i.points=n.coordinates.slice(0);i.spatialReference=u;break;case"LineString":i.paths=[n.coordinates.slice(0)];i.spatialReference=u;break;case"MultiLineString":i.paths=n.coordinates.slice(0);i.spatialReference=u;break;case"Polygon":i.rings=ct(n.coordinates.slice(0));i.spatialReference=u;break;case"MultiPolygon":i.rings=wi(n.coordinates.slice(0));i.spatialReference=u;break;case"Feature":n.geometry&&(i.geometry=l(n.geometry,t));i.attributes=n.properties?lt(n.properties):{};n.id&&(i.attributes[t]=n.id);break;case"FeatureCollection":for(i=[],r=0;r<n.features.length;r++)i.push(l(n.features[r],t));break;case"GeometryCollection":for(i=[],r=0;r<n.geometries.length;r++)i.push(l(n.geometries[r],t))}return i}function rt(n,t){return l(n,t)}function vt(n,t){return at(n,t)}function bi(n){var i={};for(var t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i}function ki(n){var i=t.latLng(n.ymin,n.xmin),r=t.latLng(n.ymax,n.xmax);return t.latLngBounds(i,r)}function di(n){return n=t.latLngBounds(n),{xmin:n.getSouthWest().lng,ymin:n.getSouthWest().lat,xmax:n.getNorthEast().lng,ymax:n.getNorthEast().lat,spatialReference:{wkid:4326}}}function gi(n,t){var i,r,e,u,f,o;if(t)i=t;else if(n.objectIdFieldName)i=n.objectIdFieldName;else if(n.fields){for(r=0;r<=n.fields.length-1;r++)if("esriFieldTypeOID"===n.fields[r].type){i=n.fields[r].name;break}}else i="OBJECTID";if(e={type:"FeatureCollection",features:[]},u=n.features||n.results,u.length)for(f=u.length-1;f>=0;f--)o=vt(u[f],i),e.features.push(o);return e}function e(n){return n=t.Util.trim(n),"/"!==n[n.length-1]&&(n+="/"),n}function nr(n){return/\.arcgis\.com.*?FeatureServer/g.test(n)}function tr(n){var t;switch(n){case"Point":t="esriGeometryPoint";break;case"MultiPoint":t="esriGeometryMultipoint";break;case"LineString":t="esriGeometryPolyline";break;case"MultiLineString":t="esriGeometryPolyline";break;case"Polygon":t="esriGeometryPolygon";break;case"MultiPolygon":t="esriGeometryPolygon"}return t}function a(){console&&console.warn&&console.warn.apply(console,arguments)}function v(n){var i="",r,f,t,u;n.f=n.f||"json";for(r in n)n.hasOwnProperty(r)&&(t=n[r],u=Object.prototype.toString.call(t),i.length&&(i+="&"),f="[object Array]"===u?"[object Object]"===Object.prototype.toString.call(t[0])?JSON.stringify(t):t.join(","):"[object Object]"===u?JSON.stringify(t):"[object Date]"===u?t.valueOf():t,i+=encodeURIComponent(r)+"="+encodeURIComponent(f));return i}function ut(n,i){var r=new window.XMLHttpRequest;return r.onerror=function(){r.onreadystatechange=t.Util.falseFn;n.call(i,{error:{code:500,message:"XMLHttpRequest error"}},null)},r.onreadystatechange=function(){var u,f;if(4===r.readyState){try{u=JSON.parse(r.responseText)}catch(e){u=null;f={code:500,message:"Could not parse response as JSON. This could also be caused by a CORS or XMLHttpRequest error."}}!f&&u.error&&(f=u.error,u=null);r.onerror=t.Util.falseFn;n.call(i,f,u)}},r.ontimeout=function(){this.onerror()},r}function yt(n,t,i,r){var u=ut(i,r);return u.open("POST",n),"undefined"!=typeof r&&null!==r&&"undefined"!=typeof r.options&&(u.timeout=r.options.timeout),u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.send(v(t)),u}function pt(n,t,i,r){var u=ut(i,r);return u.open("GET",n+"?"+v(t),!0),"undefined"!=typeof r&&null!==r&&"undefined"!=typeof r.options&&(u.timeout=r.options.timeout),u.send(null),u}function wt(n,t,i,r){var e=v(t),u=ut(i,r),f=(n+"?"+e).length;if(2e3>=f&&o.cors?u.open("GET",n+"?"+e):f>2e3&&o.cors&&(u.open("POST",n),u.setRequestHeader("Content-Type","application/x-www-form-urlencoded")),"undefined"!=typeof r&&null!==r&&"undefined"!=typeof r.options&&(u.timeout=r.options.timeout),2e3>=f&&o.cors)u.send(null);else{if(!(f>2e3&&o.cors))return 2e3>=f&&!o.cors?y(n,t,i,r):void a("a request to "+n+" was longer then 2000 characters and this browser cannot make a cross-domain post request. Please use a proxy http://esri.github.io/esri-leaflet/api-reference/request.html");u.send(e)}return u}function y(n,i,r,u){var f,e;return window._EsriLeafletCallbacks=window._EsriLeafletCallbacks||{},f="c"+ti,i.callback="window._EsriLeafletCallbacks."+f,window._EsriLeafletCallbacks[f]=function(n){if(window._EsriLeafletCallbacks[f]!==!0){var t,i=Object.prototype.toString.call(n);"[object Object]"!==i&&"[object Array]"!==i&&(t={error:{code:500,message:"Expected array or object as JSONP response"}},n=null);!t&&n.error&&(t=n,n=null);r.call(u,t,n);window._EsriLeafletCallbacks[f]=!0}},e=t.DomUtil.create("script",null,document.body),e.type="text/javascript",e.src=n+"?"+v(i),e.id=f,ti++,{id:f,url:e.src,abort:function(){window._EsriLeafletCallbacks._callback[f]({code:0,message:"Request aborted."})}}}function ir(n){return new s(n)}function p(n){return new ii(n)}function bt(n){return new ri(n)}function rr(n){return new d(n)}function kt(n){return new ui(n)}function dt(n){return new fi(n)}function ur(n){return new h(n)}function ft(n){return new ei(n)}function gt(n){return new oi(n)}function ni(n){return new si(n)}function fr(n){return new lr(n)}function er(n,t){return new g(n,t)}function or(n,t){return new et(n,t)}function sr(n,t){return new hi(n,t)}function hr(n,t){return new ci(n,t)}function u(n){this.values=[].concat(n||[])}function cr(n){return new st(n)}var c,st;t="default"in t?t["default"]:t;var w=window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest,f=""===document.documentElement.style.pointerEvents,o={cors:w,pointerEvents:f},r={shallowClone:bi,warn:a,cleanUrl:e,isArcgisOnline:nr,geojsonTypeToArcGIS:tr,responseToFeatureCollection:gi,geojsonToArcGIS:rt,arcgisToGeoJSON:vt,boundsToExtent:di,extentToBounds:ki},ti=0,b=o.cors?pt:y;b.CORS=pt;b.JSONP=y;var k={request:wt,get:b,post:yt},s=t.Class.extend({options:{proxy:!1,useCors:w},generateSetter:function(n,i){return t.Util.bind(function(t){return this.params[n]=t,this},i)},initialize:function(n){var i,r;if(n.request&&n.options?(this._service=n,t.Util.setOptions(this,n.options)):(t.Util.setOptions(this,n),this.options.url=e(n.url)),this.params=t.Util.extend({},this.params||{}),this.setters)for(i in this.setters)r=this.setters[i],this[i]=this.generateSetter(r,this)},token:function(n){return this._service?this._service.authenticate(n):this.params.token=n,this},request:function(n,t){return this._service?this._service.request(this.path,this.params,n,t):this._request("request",this.path,this.params,n,t)},_request:function(n,t,i,r,u){var f=this.options.proxy?this.options.proxy+"?"+this.options.url+t:this.options.url+t;return"get"!==n&&"request"!==n||this.options.useCors?k[n](f,i,r,u):k.get.JSONP(f,i,r,u)}}),ii=s.extend({setters:{offset:"offset",limit:"limit",fields:"outFields",precision:"geometryPrecision",featureIds:"objectIds",returnGeometry:"returnGeometry",token:"token"},path:"query",params:{returnGeometry:!0,where:"1=1",outSr:4326,outFields:"*"},within:function(n){return this._setGeometry(n),this.params.spatialRel="esriSpatialRelContains",this},intersects:function(n){return this._setGeometry(n),this.params.spatialRel="esriSpatialRelIntersects",this},contains:function(n){return this._setGeometry(n),this.params.spatialRel="esriSpatialRelWithin",this},crosses:function(n){return this._setGeometry(n),this.params.spatialRel="esriSpatialRelCrosses",this},touches:function(n){return this._setGeometry(n),this.params.spatialRel="esriSpatialRelTouches",this},overlaps:function(n){return this._setGeometry(n),this.params.spatialRel="esriSpatialRelOverlaps",this},nearby:function(n,i){return n=t.latLng(n),this.params.geometry=[n.lng,n.lat],this.params.geometryType="esriGeometryPoint",this.params.spatialRel="esriSpatialRelIntersects",this.params.units="esriSRUnit_Meter",this.params.distance=i,this.params.inSr=4326,this},where:function(n){return this.params.where=n,this},between:function(n,t){return this.params.time=[n.valueOf(),t.valueOf()],this},simplify:function(n,t){var i=Math.abs(n.getBounds().getWest()-n.getBounds().getEast());return this.params.maxAllowableOffset=i/n.getSize().y*t,this},orderBy:function(n,t){return t=t||"ASC",this.params.orderByFields=this.params.orderByFields?this.params.orderByFields+",":"",this.params.orderByFields+=[n,t].join(" "),this},run:function(n,t){return this._cleanParams(),r.isArcgisOnline(this.options.url)?(this.params.f="geojson",this.request(function(i,r){this._trapSQLerrors(i);n.call(t,i,r,r)},this)):this.request(function(i,u){this._trapSQLerrors(i);n.call(t,i,u&&r.responseToFeatureCollection(u),u)},this)},count:function(n,t){return this._cleanParams(),this.params.returnCountOnly=!0,this.request(function(t,i){n.call(this,t,i&&i.count,i)},t)},ids:function(n,t){return this._cleanParams(),this.params.returnIdsOnly=!0,this.request(function(t,i){n.call(this,t,i&&i.objectIds,i)},t)},bounds:function(n,t){return this._cleanParams(),this.params.returnExtentOnly=!0,this.request(function(i,u){n.call(t,i,u&&u.extent&&r.extentToBounds(u.extent),u)},t)},pixelSize:function(n){return n=t.point(n),this.params.pixelSize=[n.x,n.y],this},layer:function(n){return this.path=n+"/query",this},_trapSQLerrors:function(n){n&&"400"===n.code&&r.warn("one common syntax error in query requests is encasing string values in double quotes instead of single quotes")},_cleanParams:function(){delete this.params.returnIdsOnly;delete this.params.returnExtentOnly;delete this.params.returnCountOnly},_setGeometry:function(n){return this.params.inSr=4326,n instanceof t.LatLngBounds?(this.params.geometry=r.boundsToExtent(n),void(this.params.geometryType="esriGeometryEnvelope")):(n.getLatLng&&(n=n.getLatLng()),n instanceof t.LatLng&&(n={type:"Point",coordinates:[n.lng,n.lat]}),n instanceof t.GeoJSON&&(n=n.getLayers()[0].feature.geometry,this.params.geometry=r.geojsonToArcGIS(n),this.params.geometryType=r.geojsonTypeToArcGIS(n.type)),n.toGeoJSON&&(n=n.toGeoJSON()),"Feature"===n.type&&(n=n.geometry),"Point"===n.type||"LineString"===n.type||"Polygon"===n.type?(this.params.geometry=r.geojsonToArcGIS(n),void(this.params.geometryType=r.geojsonTypeToArcGIS(n.type))):void r.warn("invalid geometry passed to spatial query. Should be an L.LatLng, L.LatLngBounds or L.Marker or a GeoJSON Point Line or Polygon object"))}}),ri=s.extend({setters:{contains:"contains",text:"searchText",fields:"searchFields",spatialReference:"sr",sr:"sr",layers:"layers",returnGeometry:"returnGeometry",maxAllowableOffset:"maxAllowableOffset",precision:"geometryPrecision",dynamicLayers:"dynamicLayers",returnZ:"returnZ",returnM:"returnM",gdbVersion:"gdbVersion",token:"token"},path:"find",params:{sr:4326,contains:!0,returnGeometry:!0,returnZ:!0,returnM:!1},layerDefs:function(n,t){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[n,t].join(":"),this},simplify:function(n,t){var i=Math.abs(n.getBounds().getWest()-n.getBounds().getEast());return this.params.maxAllowableOffset=i/n.getSize().y*t,this},run:function(n,t){return this.request(function(i,u){n.call(t,i,u&&r.responseToFeatureCollection(u),u)},t)}}),d=s.extend({path:"identify",between:function(n,t){return this.params.time=[n.valueOf(),t.valueOf()],this}}),ui=d.extend({setters:{layers:"layers",precision:"geometryPrecision",tolerance:"tolerance",returnGeometry:"returnGeometry"},params:{sr:4326,layers:"all",tolerance:3,returnGeometry:!0},on:function(n){var t=r.boundsToExtent(n.getBounds()),i=n.getSize();return this.params.imageDisplay=[i.x,i.y,96],this.params.mapExtent=[t.xmin,t.ymin,t.xmax,t.ymax],this},at:function(n){return n=t.latLng(n),this.params.geometry=[n.lng,n.lat],this.params.geometryType="esriGeometryPoint",this},layerDef:function(n,t){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[n,t].join(":"),this},simplify:function(n,t){var i=Math.abs(n.getBounds().getWest()-n.getBounds().getEast());return this.params.maxAllowableOffset=i/n.getSize().y*(1-t),this},run:function(n,t){return this.request(function(i,u){var e,f,o;if(i)return void n.call(t,i,void 0,u);for(e=r.responseToFeatureCollection(u),u.results=u.results.reverse(),f=0;f<e.features.length;f++)o=e.features[f],o.layerId=u.results[f].layerId;n.call(t,void 0,e,u)})}}),fi=d.extend({setters:{setMosaicRule:"mosaicRule",setRenderingRule:"renderingRule",setPixelSize:"pixelSize",returnCatalogItems:"returnCatalogItems",returnGeometry:"returnGeometry"},params:{returnGeometry:!1},at:function(n){return n=t.latLng(n),this.params.geometry=JSON.stringify({x:n.lng,y:n.lat,spatialReference:{wkid:4326}}),this.params.geometryType="esriGeometryPoint",this},getMosaicRule:function(){return this.params.mosaicRule},getRenderingRule:function(){return this.params.renderingRule},getPixelSize:function(){return this.params.pixelSize},run:function(n,t){return this.request(function(i,r){n.call(t,i,r&&this._responseToGeoJSON(r),r)},this)},_responseToGeoJSON:function(n){var f=n.location,e=n.catalogItems,u=n.catalogItemVisibilities,t={pixel:{type:"Feature",geometry:{type:"Point",coordinates:[f.x,f.y]},crs:{type:"EPSG",properties:{code:f.spatialReference.wkid}},properties:{OBJECTID:n.objectId,name:n.name,value:n.value},id:n.objectId}},i;if(n.properties&&n.properties.Values&&(t.pixel.properties.values=n.properties.Values),e&&e.features&&(t.catalogItems=r.responseToFeatureCollection(e),u&&u.length===t.catalogItems.features.length))for(i=u.length-1;i>=0;i--)t.catalogItems.features[i].properties.catalogItemVisibility=u[i];return t}}),h=t.Evented.extend({options:{proxy:!1,useCors:w,timeout:0},initialize:function(n){n=n||{};this._requestQueue=[];this._authenticating=!1;t.Util.setOptions(this,n);this.options.url=e(this.options.url)},get:function(n,t,i,r){return this._request("get",n,t,i,r)},post:function(n,t,i,r){return this._request("post",n,t,i,r)},request:function(n,t,i,r){return this._request("request",n,t,i,r)},metadata:function(n,t){return this._request("get","",{},n,t)},authenticate:function(n){return this._authenticating=!1,this.options.token=n,this._runQueue(),this},getTimeout:function(){return this.options.timeout},setTimeout:function(n){this.options.timeout=n},_request:function(n,t,i,r,u){var f,e;return(this.fire("requeststart",{url:this.options.url+t,params:i,method:n},!0),f=this._createServiceCallback(n,t,i,r,u),this.options.token&&(i.token=this.options.token),this._authenticating)?void this._requestQueue.push([n,t,i,r,u]):(e=this.options.proxy?this.options.proxy+"?"+this.options.url+t:this.options.url+t,"get"!==n&&"request"!==n||this.options.useCors?k[n](e,i,f,u):k.get.JSONP(e,i,f,u))},_createServiceCallback:function(n,i,r,u,f){return t.Util.bind(function(e,o){e&&(499===e.code||498===e.code)&&(this._authenticating=!0,this._requestQueue.push([n,i,r,u,f]),this.fire("authenticationrequired",{authenticate:t.Util.bind(this.authenticate,this)},!0),e.authenticate=t.Util.bind(this.authenticate,this));u.call(f,e,o);e?this.fire("requesterror",{url:this.options.url+i,params:r,message:e.message,code:e.code,method:n},!0):this.fire("requestsuccess",{url:this.options.url+i,params:r,response:o,method:n},!0);this.fire("requestend",{url:this.options.url+i,params:r,method:n},!0)},this)},_runQueue:function(){for(var t,i,n=this._requestQueue.length-1;n>=0;n--)t=this._requestQueue[n],i=t.shift(),this[i].apply(this,t);this._requestQueue=[]}}),ei=h.extend({identify:function(){return kt(this)},find:function(){return bt(this)},query:function(){return p(this)}}),oi=h.extend({query:function(){return p(this)},identify:function(){return dt(this)}}),si=h.extend({options:{idAttribute:"OBJECTID"},query:function(){return p(this)},addFeature:function(n,t,i){return delete n.id,n=rt(n),this.post("addFeatures",{features:[n]},function(n,r){var u=r&&r.addResults?r.addResults[0]:void 0;t&&t.call(i,n||r.addResults[0].error,u)},i)},updateFeature:function(n,t,i){return n=rt(n,this.options.idAttribute),this.post("updateFeatures",{features:[n]},function(n,r){var u=r&&r.updateResults?r.updateResults[0]:void 0;t&&t.call(i,n||r.updateResults[0].error,u)},i)},deleteFeature:function(n,t,i){return this.post("deleteFeatures",{objectIds:n},function(n,r){var u=r&&r.deleteResults?r.deleteResults[0]:void 0;t&&t.call(i,n||r.deleteResults[0].error,u)},i)},deleteFeatures:function(n,t,i){return this.post("deleteFeatures",{objectIds:n},function(n,r){var u=r&&r.deleteResults?r.deleteResults:void 0;t&&t.call(i,n||r.deleteResults[0].error,u)},i)}}),lr=t.Control.extend({options:{position:"bottomright",marginTop:0,marginLeft:0,marginBottom:0,marginRight:0},onAdd:function(){var n=t.DomUtil.create("div","esri-leaflet-logo");return n.style.marginTop=this.options.marginTop,n.style.marginLeft=this.options.marginLeft,n.style.marginBottom=this.options.marginBottom,n.style.marginRight=this.options.marginRight,n.innerHTML='<a href="http://www.esri.com" target="_blank" style="border: none;"><img src="https://js.arcgis.com/3.13/esri/images/map/logo-sm.png" alt="Powered by Esri" style="border: none;"><\/a>',n}}),i="https:"!==window.location.protocol?"http:":"https:",g=t.TileLayer.extend({statics:{TILES:{Streets:{urlTemplate:i+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",attributionUrl:"https://static.arcgis.com/attribution/World_Street_Map",options:{hideLogo:!1,logoPosition:"bottomright",minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"Esri"}},Topographic:{urlTemplate:i+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",attributionUrl:"https://static.arcgis.com/attribution/World_Topo_Map",options:{hideLogo:!1,logoPosition:"bottomright",minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"Esri"}},Oceans:{urlTemplate:i+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",attributionUrl:"https://static.arcgis.com/attribution/Ocean_Basemap",options:{hideLogo:!1,logoPosition:"bottomright",minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"Esri"}},OceansLabels:{urlTemplate:i+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer/tile/{z}/{y}/{x}",options:{hideLogo:!0,logoPosition:"bottomright",minZoom:1,maxZoom:16,subdomains:["server","services"],pane:f?"esri-labels":"tilePane"}},NationalGeographic:{urlTemplate:i+"//{s}.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",options:{hideLogo:!1,logoPosition:"bottomright",minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"National Geographic, Esri, DeLorme, HERE, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, increment P Corp."}},DarkGray:{urlTemplate:i+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{hideLogo:!1,logoPosition:"bottomright",minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"Esri, HERE, DeLorme, MapmyIndia,  OpenStreetMap contributors"}},DarkGrayLabels:{urlTemplate:i+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{hideLogo:!0,logoPosition:"bottomright",minZoom:1,maxZoom:16,subdomains:["server","services"],pane:f?"esri-labels":"tilePane"}},Gray:{urlTemplate:i+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{hideLogo:!1,logoPosition:"bottomright",minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"Esri, HERE, DeLorme, MapmyIndia,  OpenStreetMap contributors"}},GrayLabels:{urlTemplate:i+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{hideLogo:!0,logoPosition:"bottomright",minZoom:1,maxZoom:16,subdomains:["server","services"],pane:f?"esri-labels":"tilePane"}},Imagery:{urlTemplate:i+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{hideLogo:!1,logoPosition:"bottomright",minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"Esri, DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community"}},ImageryLabels:{urlTemplate:i+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}",options:{hideLogo:!0,logoPosition:"bottomright",minZoom:1,maxZoom:19,subdomains:["server","services"],pane:f?"esri-labels":"tilePane"}},ImageryTransportation:{urlTemplate:i+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}",options:{hideLogo:!0,logoPosition:"bottomright",minZoom:1,maxZoom:19,subdomains:["server","services"],pane:f?"esri-labels":"tilePane"}},ShadedRelief:{urlTemplate:i+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",options:{hideLogo:!1,logoPosition:"bottomright",minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"Esri, USGS"}},ShadedReliefLabels:{urlTemplate:i+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places_Alternate/MapServer/tile/{z}/{y}/{x}",options:{hideLogo:!0,logoPosition:"bottomright",minZoom:1,maxZoom:12,subdomains:["server","services"],pane:f?"esri-labels":"tilePane"}},Terrain:{urlTemplate:i+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",options:{hideLogo:!1,logoPosition:"bottomright",minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"Esri, USGS, NOAA"}},TerrainLabels:{urlTemplate:i+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer/tile/{z}/{y}/{x}",options:{hideLogo:!0,logoPosition:"bottomright",minZoom:1,maxZoom:13,subdomains:["server","services"],pane:f?"esri-labels":"tilePane"}},USATopo:{urlTemplate:i+"//{s}.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer/tile/{z}/{y}/{x}",options:{hideLogo:!1,logoPosition:"bottomright",minZoom:1,maxZoom:15,subdomains:["server","services"],attribution:"National Geographic Society, i-cubed"}}}},initialize:function(n,i){var r,u;if("object"==typeof n&&n.urlTemplate&&n.options)r=n;else{if("string"!=typeof n||!g.TILES[n])throw new Error('L.esri.BasemapLayer: Invalid parameter. Use one of "Streets", "Topographic", "Oceans", "OceansLabels", "NationalGeographic", "Gray", "GrayLabels", "DarkGray", "DarkGrayLabels", "Imagery", "ImageryLabels", "ImageryTransportation", "ShadedRelief", "ShadedReliefLabels", "Terrain" or "TerrainLabels"');r=g.TILES[n]}u=t.Util.extend(r.options,i);t.Util.setOptions(this,u);t.TileLayer.prototype.initialize.call(this,r.urlTemplate,u);r.attributionUrl&&this._getAttributionData(r.attributionUrl);this._logo=fr({position:this.options.logoPosition})},onAdd:function(n){this.options.hideLogo||n._hasEsriLogo||(this._logo.addTo(n),n._hasEsriLogo=!0);"esri-labels"===this.options.pane&&this._initPane();n.on("moveend",this._updateMapAttribution,this);t.TileLayer.prototype.onAdd.call(this,n)},onRemove:function(n){this._logo&&this._logo._container&&(n.removeControl(this._logo),n._hasEsriLogo=!1);n.off("moveend",this._updateMapAttribution,this);t.TileLayer.prototype.onRemove.call(this,n)},getAttribution:function(){if(this.options.attribution)var n='<span class="esri-attributions" style="line-height:14px; vertical-align: -3px; text-overflow:ellipsis; white-space:nowrap; overflow:hidden; display:inline-block;">'+this.options.attribution+"<\/span>";return n},_initPane:function(){if(!this._map.getPane(this.options.pane)){var n=this._map.createPane(this.options.pane);n.style.pointerEvents="none";n.style.zIndex=500}},_getAttributionData:function(n){y(n,{},t.Util.bind(function(n,i){var u,f,e;if(!n){for(this._attributions=[],u=0;u<i.contributors.length;u++)for(f=i.contributors[u],e=0;e<f.coverageAreas.length;e++){var r=f.coverageAreas[e],o=t.latLng(r.bbox[0],r.bbox[1]),s=t.latLng(r.bbox[2],r.bbox[3]);this._attributions.push({attribution:f.attribution,score:r.score,bounds:t.latLngBounds(o,s),minZoom:r.zoomMin,maxZoom:r.zoomMax})}this._attributions.sort(function(n,t){return t.score-n.score});this._updateMapAttribution()}},this))},_updateMapAttribution:function(){var t,r,u;if(this._map&&this._map.attributionControl&&this._attributions){for(var n="",e=this._map.getBounds(),f=this._map.getZoom(),i=0;i<this._attributions.length;i++)t=this._attributions[i],r=t.attribution,!n.match(r)&&e.intersects(t.bounds)&&f>=t.minZoom&&f<=t.maxZoom&&(n+=", "+r);n=n.substr(2);u=this._map.attributionControl._container.querySelector(".esri-attributions");u.innerHTML=n;u.style.maxWidth=.65*this._map.getSize().x+"px";this.fire("attributionupdated",{attribution:n})}}}),et=t.TileLayer.extend({options:{zoomOffsetAllowance:.1},statics:{MercatorZoomLevels:{0:156543.033928,1:78271.5169639999,2:39135.7584820001,3:19567.8792409999,4:9783.93962049996,5:4891.96981024998,6:2445.98490512499,7:1222.99245256249,8:611.49622628138,9:305.748113140558,10:152.874056570411,11:76.4370282850732,12:38.2185141425366,13:19.1092570712683,14:9.55462853563415,15:4.77731426794937,16:2.38865713397468,17:1.19432856685505,18:.597164283559817,19:.298582141647617,20:.14929107082381,21:.07464553541191,22:.0373227677059525,23:.0186613838529763}},initialize:function(n){n.url=e(n.url);n=t.Util.setOptions(this,n);this.tileUrl=n.url+"tile/{z}/{y}/{x}";this.service=ft(n);this.service.addEventParent(this);var i=new RegExp(/tiles.arcgis(online)?\.com/g);i.test(n.url)&&(this.tileUrl=this.tileUrl.replace("://tiles","://tiles{s}"),n.subdomains=["1","2","3","4"]);this.options.token&&(this.tileUrl+="?token="+this.options.token);t.TileLayer.prototype.initialize.call(this,this.tileUrl,n)},getTileUrl:function(n){return t.Util.template(this.tileUrl,t.extend({s:this._getSubdomain(n),z:this._lodMap&&this._lodMap[n.z]?this._lodMap[n.z]:n.z,x:n.x,y:n.y},this.options))},createTile:function(n,i){var r=document.createElement("img");return t.DomEvent.on(r,"load",t.bind(this._tileOnLoad,this,i,r)),t.DomEvent.on(r,"error",t.bind(this._tileOnError,this,i,r)),this.options.crossOrigin&&(r.crossOrigin=""),r.alt="",!this._lodMap||this._lodMap&&this._lodMap[n.z]?r.src=this.getTileUrl(n):this.once("lodmap",function(){r.src=this.getTileUrl(n)},this),r},onAdd:function(n){n.options.crs!==t.CRS.EPSG3857||this._lodMap||(this._lodMap={},this.metadata(function(n,t){var i,u,f,s;if(!n)if(i=t.spatialReference.latestWkid||t.spatialReference.wkid,102100===i||3857===i){for(var e=t.tileInfo.lods,o=et.MercatorZoomLevels,r=0;r<e.length;r++){u=e[r];for(f in o)if(s=o[f],this._withinPercentage(u.resolution,s,this.options.zoomOffsetAllowance)){this._lodMap[f]=u.level;break}}this.fire("lodmap")}else a("L.esri.TiledMapLayer is using a non-mercator spatial reference. Support may be available through Proj4Leaflet http://esri.github.io/esri-leaflet/examples/non-mercator-projection.html")},this));t.TileLayer.prototype.onAdd.call(this,n)},metadata:function(n,t){return this.service.metadata(n,t),this},identify:function(){return this.service.identify()},find:function(){return this.service.find()},query:function(){return this.service.query()},authenticate:function(n){var t="?token="+n;return this.tileUrl=this.options.token?this.tileUrl.replace(/\?token=(.+)/g,t):this.tileUrl+t,this.options.token=n,this.service.authenticate(n),this},_withinPercentage:function(n,t,i){var r=Math.abs(n/t-1);return i>r}}),ar=t.ImageOverlay.extend({onAdd:function(n){this._topLeft=n.getPixelBounds().min;t.ImageOverlay.prototype.onAdd.call(this,n)},_reset:function(){this._map.options.crs===t.CRS.EPSG3857?t.ImageOverlay.prototype._reset.call(this):t.DomUtil.setPosition(this._image,this._topLeft.subtract(this._map.getPixelOrigin()))}}),ot=t.Layer.extend({options:{opacity:1,position:"front",f:"image",useCors:w,attribution:null,interactive:!1,alt:""},onAdd:function(n){this._update=t.Util.throttle(this._update,this.options.updateInterval,this);n.on("moveend",this._update,this);this._currentImage&&this._currentImage._bounds.equals(this._map.getBounds())?n.addLayer(this._currentImage):this._currentImage&&(this._map.removeLayer(this._currentImage),this._currentImage=null);this._update();this._popup&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this))},onRemove:function(){this._currentImage&&this._map.removeLayer(this._currentImage);this._popup&&(this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this));this._map.off("moveend",this._update,this)},bindPopup:function(n,i){return this._shouldRenderPopup=!1,this._lastClick=!1,this._popup=t.popup(i),this._popupFunction=n,this._map&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this},unbindPopup:function(){return this._map&&(this._map.closePopup(this._popup),this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._popup=!1,this},bringToFront:function(){return this.options.position="front",this._currentImage&&this._currentImage.bringToFront(),this},bringToBack:function(){return this.options.position="back",this._currentImage&&this._currentImage.bringToBack(),this},getAttribution:function(){return this.options.attribution},getOpacity:function(){return this.options.opacity},setOpacity:function(n){return this.options.opacity=n,this._currentImage.setOpacity(n),this},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(n,t){return this.options.from=n,this.options.to=t,this._update(),this},metadata:function(n,t){return this.service.metadata(n,t),this},authenticate:function(n){return this.service.authenticate(n),this},_renderImage:function(n,t){if(this._map){var i=new ar(n,t,{opacity:0,crossOrigin:this.options.useCors,alt:this.options.alt,pane:this.options.pane||this.getPane(),interactive:this.options.interactive}).addTo(this._map);i.once("load",function(n){if(this._map){var r=n.target,i=this._currentImage;r._bounds.equals(t)&&r._bounds.equals(this._map.getBounds())?(this._currentImage=r,"front"===this.options.position?this.bringToFront():this.bringToBack(),this._map&&this._currentImage._map?this._currentImage.setOpacity(this.options.opacity):this._currentImage._map.removeLayer(this._currentImage),i&&this._map&&this._map.removeLayer(i),i&&i._map&&i._map.removeLayer(i)):this._map.removeLayer(r)}this.fire("load",{bounds:t})},this);this.fire("loading",{bounds:t})}},_update:function(){var n,t,i;if(this._map&&(n=this._map.getZoom(),t=this._map.getBounds(),!(this._animatingZoom||this._map._panTransition&&this._map._panTransition._inProgress))){if(n>this.options.maxZoom||n<this.options.minZoom)return void this._currentImage._map.removeLayer(this._currentImage);i=this._buildExportParams();this._requestExport(i,t)}},_renderPopup:function(n,i,r,u){if(n=t.latLng(n),this._shouldRenderPopup&&this._lastClick.equals(n)){var f=this._popupFunction(i,r,u);f&&this._popup.setLatLng(n).setContent(f).openOn(this._map)}},_resetPopupState:function(n){this._shouldRenderPopup=!1;this._lastClick=n.latlng}}),hi=ot.extend({options:{updateInterval:150,format:"jpgpng",transparent:!0,f:"json"},query:function(){return this.service.query()},identify:function(){return this.service.identify()},initialize:function(n){n.url=e(n.url);this.service=gt(n);this.service.addEventParent(this);t.Util.setOptions(this,n)},setPixelType:function(n){return this.options.pixelType=n,this._update(),this},getPixelType:function(){return this.options.pixelType},setBandIds:function(n){return this.options.bandIds=t.Util.isArray(n)?n.join(","):n.toString(),this._update(),this},getBandIds:function(){return this.options.bandIds},setNoData:function(n,i){return this.options.noData=t.Util.isArray(n)?n.join(","):n.toString(),i&&(this.options.noDataInterpretation=i),this._update(),this},getNoData:function(){return this.options.noData},getNoDataInterpretation:function(){return this.options.noDataInterpretation},setRenderingRule:function(n){this.options.renderingRule=n;this._update()},getRenderingRule:function(){return this.options.renderingRule},setMosaicRule:function(n){this.options.mosaicRule=n;this._update()},getMosaicRule:function(){return this.options.mosaicRule},_getPopupData:function(n){var r=t.Util.bind(function(i,r,u){i||setTimeout(t.Util.bind(function(){this._renderPopup(n.latlng,i,r,u)},this),300)},this),i=this.identify().at(n.latlng);this.options.mosaicRule&&i.setMosaicRule(this.options.mosaicRule);i.run(r);this._shouldRenderPopup=!0;this._lastClick=n.latlng},_buildExportParams:function(){var t=this._map.getBounds(),i=this._map.getSize(),u=this._map.options.crs.project(t._northEast),f=this._map.options.crs.project(t._southWest),e=this._map.latLngToLayerPoint(t._northEast),o=this._map.latLngToLayerPoint(t._southWest),r,n;return(e.y>0||o.y<i.y)&&(i.y=o.y-e.y),r=parseInt(this._map.options.crs.code.split(":")[1],10),n={bbox:[f.x,f.y,u.x,u.y].join(","),size:i.x+","+i.y,format:this.options.format,transparent:this.options.transparent,bboxSR:r,imageSR:r},this.options.from&&this.options.to&&(n.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.options.pixelType&&(n.pixelType=this.options.pixelType),this.options.interpolation&&(n.interpolation=this.options.interpolation),this.options.compressionQuality&&(n.compressionQuality=this.options.compressionQuality),this.options.bandIds&&(n.bandIds=this.options.bandIds),this.options.noData&&(n.noData=this.options.noData),this.options.noDataInterpretation&&(n.noDataInterpretation=this.options.noDataInterpretation),this.service.options.token&&(n.token=this.service.options.token),this.options.renderingRule&&(n.renderingRule=JSON.stringify(this.options.renderingRule)),this.options.mosaicRule&&(n.mosaicRule=JSON.stringify(this.options.mosaicRule)),n},_requestExport:function(n,i){"json"===this.options.f?this.service.request("exportImage",n,function(n,t){n||this._renderImage(t.href,i)},this):(n.f="image",this._renderImage(this.options.url+"exportImage"+t.Util.getParamString(n),i))}}),ci=ot.extend({options:{updateInterval:150,layers:!1,layerDefs:!1,timeOptions:!1,format:"png24",transparent:!0,f:"json"},initialize:function(n){n.url=e(n.url);this.service=ft(n);this.service.addEventParent(this);(n.proxy||n.token)&&"json"!==n.f&&(n.f="json");t.Util.setOptions(this,n)},getDynamicLayers:function(){return this.options.dynamicLayers},setDynamicLayers:function(n){return this.options.dynamicLayers=n,this._update(),this},getLayers:function(){return this.options.layers},setLayers:function(n){return this.options.layers=n,this._update(),this},getLayerDefs:function(){return this.options.layerDefs},setLayerDefs:function(n){return this.options.layerDefs=n,this._update(),this},getTimeOptions:function(){return this.options.timeOptions},setTimeOptions:function(n){return this.options.timeOptions=n,this._update(),this},query:function(){return this.service.query()},identify:function(){return this.service.identify()},find:function(){return this.service.find()},_getPopupData:function(n){var r=t.Util.bind(function(i,r,u){i||setTimeout(t.Util.bind(function(){this._renderPopup(n.latlng,i,r,u)},this),300)},this),i=this.identify().on(this._map).at(n.latlng);this.options.layers?i.layers("visible:"+this.options.layers.join(",")):i.layers("visible");i.run(r);this._shouldRenderPopup=!0;this._lastClick=n.latlng},_buildExportParams:function(){var t=this._map.getBounds(),i=this._map.getSize(),r=this._map.options.crs.project(t.getNorthEast()),u=this._map.options.crs.project(t.getSouthWest()),f=parseInt(this._map.options.crs.code.split(":")[1],10),e=this._map.latLngToLayerPoint(t._northEast),o=this._map.latLngToLayerPoint(t._southWest),n;return(e.y>0||o.y<i.y)&&(i.y=o.y-e.y),n={bbox:[u.x,u.y,r.x,r.y].join(","),size:i.x+","+i.y,dpi:96,format:this.options.format,transparent:this.options.transparent,bboxSR:f,imageSR:f},this.options.dynamicLayers&&(n.dynamicLayers=this.options.dynamicLayers),this.options.layers&&(n.layers="show:"+this.options.layers.join(",")),this.options.layerDefs&&(n.layerDefs=JSON.stringify(this.options.layerDefs)),this.options.timeOptions&&(n.timeOptions=JSON.stringify(this.options.timeOptions)),this.options.from&&this.options.to&&(n.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.service.options.token&&(n.token=this.service.options.token),n},_requestExport:function(n,i){"json"===this.options.f?this.service.request("export",n,function(n,t){n||this._renderImage(t.href,i)},this):(n.f="image",this._renderImage(this.options.url+"export"+t.Util.getParamString(n),i))}}),nt=t.Layer.extend({options:{cellSize:512,updateInterval:150},initialize:function(n){n=t.setOptions(this,n);this._zooming=!1},onAdd:function(n){this._map=n;this._update=t.Util.throttle(this._update,this.options.updateInterval,this);this._reset();this._update()},onRemove:function(){this._map.removeEventListener(this.getEvents(),this);this._removeCells()},getEvents:function(){return{moveend:this._update,zoomstart:this._zoomstart,zoomend:this._reset}},addTo:function(n){return n.addLayer(this),this},removeFrom:function(n){return n.removeLayer(this),this},_zoomstart:function(){this._zooming=!0},_reset:function(){this._removeCells();this._cells={};this._activeCells={};this._cellsToLoad=0;this._cellsTotal=0;this._cellNumBounds=this._getCellNumBounds();this._resetWrap();this._zooming=!1},_resetWrap:function(){var t=this._map,n=t.options.crs,i;n.infinite||(i=this._getCellSize(),n.wrapLng&&(this._wrapLng=[Math.floor(t.project([0,n.wrapLng[0]]).x/i),Math.ceil(t.project([0,n.wrapLng[1]]).x/i)]),n.wrapLat&&(this._wrapLat=[Math.floor(t.project([n.wrapLat[0],0]).y/i),Math.ceil(t.project([n.wrapLat[1],0]).y/i)]))},_getCellSize:function(){return this.options.cellSize},_update:function(){if(this._map){var n=this._map.getPixelBounds(),i=this._getCellSize(),r=t.bounds(n.min.divideBy(i).floor(),n.max.divideBy(i).floor());this._removeOtherCells(r);this._addCells(r);this.fire("cellsupdated")}},_addCells:function(n){for(var i,f,e=[],o=n.getCenter(),s=this._map.getZoom(),r,u=n.min.y;u<=n.max.y;u++)for(i=n.min.x;i<=n.max.x;i++)f=t.point(i,u),f.z=s,this._isValidCell(f)&&e.push(f);if(r=e.length,0!==r)for(this._cellsToLoad+=r,this._cellsTotal+=r,e.sort(function(n,t){return n.distanceTo(o)-t.distanceTo(o)}),i=0;r>i;i++)this._addCell(e[i])},_isValidCell:function(n){var r=this._map.options.crs,i,u;return!r.infinite&&(i=this._cellNumBounds,!r.wrapLng&&(n.x<i.min.x||n.x>i.max.x)||!r.wrapLat&&(n.y<i.min.y||n.y>i.max.y))?!1:this.options.bounds?(u=this._cellCoordsToBounds(n),t.latLngBounds(this.options.bounds).intersects(u)):!0},_cellCoordsToBounds:function(n){var i=this._map,r=this.options.cellSize,u=n.multiplyBy(r),f=u.add([r,r]),e=i.wrapLatLng(i.unproject(u,n.z)),o=i.wrapLatLng(i.unproject(f,n.z));return t.latLngBounds(e,o)},_cellCoordsToKey:function(n){return n.x+":"+n.y},_keyToCellCoords:function(n){var i=n.split(":"),r=parseInt(i[0],10),u=parseInt(i[1],10);return t.point(r,u)},_removeOtherCells:function(n){for(var t in this._cells)n.contains(this._keyToCellCoords(t))||this._removeCell(t)},_removeCell:function(n){var t=this._activeCells[n];t&&(delete this._activeCells[n],this.cellLeave&&this.cellLeave(t.bounds,t.coords),this.fire("cellleave",{bounds:t.bounds,coords:t.coords}))},_removeCells:function(){var n,t,i;for(n in this._cells)t=this._cells[n].bounds,i=this._cells[n].coords,this.cellLeave&&this.cellLeave(t,i),this.fire("cellleave",{bounds:t,coords:i})},_addCell:function(n){this._wrapCoords(n);var i=this._cellCoordsToKey(n),t=this._cells[i];t&&!this._activeCells[i]&&(this.cellEnter&&this.cellEnter(t.bounds,n),this.fire("cellenter",{bounds:t.bounds,coords:n}),this._activeCells[i]=t);t||(t={coords:n,bounds:this._cellCoordsToBounds(n)},this._cells[i]=t,this._activeCells[i]=t,this.createCell&&this.createCell(t.bounds,n),this.fire("cellcreate",{bounds:t.bounds,coords:n}))},_wrapCoords:function(n){n.x=this._wrapLng?t.Util.wrapNum(n.x,this._wrapLng):n.x;n.y=this._wrapLat?t.Util.wrapNum(n.y,this._wrapLat):n.y},_getCellNumBounds:function(){var n=this._map.getPixelWorldBounds(),i=this._getCellSize();return n?t.bounds(n.min.divideBy(i).floor(),n.max.divideBy(i).ceil().subtract([1,1])):null}});u.prototype.query=function(n){var t=this.getIndex(n);return this.values[t]};u.prototype.getIndex=function(n){this.dirty&&this.sort();for(var t,r,u=0,i=this.values.length-1;i>=u;)if(t=(u+i)/2|0,r=this.values[Math.round(t)],+r.value<+n)u=t+1;else{if(!(+r.value>+n))return t;i=t-1}return Math.abs(~i)};u.prototype.between=function(n,t){var r=this.getIndex(n),i=this.getIndex(t);if(0===r&&0===i)return[];for(;this.values[r-1]&&this.values[r-1].value===n;)r--;for(;this.values[i+1]&&this.values[i+1].value===t;)i++;return this.values[i]&&this.values[i].value===t&&this.values[i+1]&&i++,this.values.slice(r,i)};u.prototype.insert=function(n){return this.values.splice(this.getIndex(n.value),0,n),this};u.prototype.bulkAdd=function(n,t){return this.values=this.values.concat([].concat(n||[])),t?this.sort():this.dirty=!0,this};u.prototype.sort=function(){return this.values.sort(function(n,t){return+t.value-+n.value}).reverse(),this.dirty=!1,this};c=nt.extend({options:{attribution:null,where:"1=1",fields:["*"],from:!1,to:!1,timeField:!1,timeFilterMode:"server",simplifyFactor:0,precision:6},initialize:function(n){if(nt.prototype.initialize.call(this,n),n.url=e(n.url),n=t.setOptions(this,n),this.service=ni(n),this.service.addEventParent(this),"*"!==this.options.fields[0]){for(var r=!1,i=0;i<this.options.fields.length;i++)this.options.fields[i].match(/^(OBJECTID|FID|OID|ID)$/i)&&(r=!0);r===!1&&a("no known esriFieldTypeOID field detected in fields Array.  Please add an attribute field containing unique IDs to ensure the layer can be drawn correctly.")}this.options.timeField.start&&this.options.timeField.end?(this._startTimeIndex=new u,this._endTimeIndex=new u):this.options.timeField&&(this._timeIndex=new u);this._cache={};this._currentSnapshot=[];this._activeRequests=0},onAdd:function(n){return n.on("zoomend",this._handleZoomChange,this),nt.prototype.onAdd.call(this,n)},onRemove:function(n){return n.off("zoomend",this._handleZoomChange,this),nt.prototype.onRemove.call(this,n)},getAttribution:function(){return this.options.attribution},createCell:function(n,t){this._requestFeatures(n,t)},_requestFeatures:function(n,i,r){return this._activeRequests++,1===this._activeRequests&&this.fire("loading",{bounds:n},!0),this._buildQuery(n).run(function(u,f,e){e&&e.exceededTransferLimit&&this.fire("drawlimitexceeded");!u&&f&&f.features.length&&t.Util.requestAnimFrame(t.Util.bind(function(){this._addFeatures(f.features,i);this._postProcessFeatures(n)},this));u||!f||f.features.length||this._postProcessFeatures(n);u&&this._postProcessFeatures(n);r&&r.call(this,u,f)},this)},_postProcessFeatures:function(n){this._activeRequests--;this._activeRequests<=0&&this.fire("load",{bounds:n})},_cacheKey:function(n){return n.z+":"+n.x+":"+n.y},_addFeatures:function(n,t){var r=this._cacheKey(t),i,u;for(this._cache[r]=this._cache[r]||[],i=n.length-1;i>=0;i--)u=n[i].id,this._currentSnapshot.push(u),this._cache[r].push(u);this.options.timeField&&this._buildTimeIndexes(n);this.createLayers(n)},_buildQuery:function(n){var t=this.service.query().intersects(n).where(this.options.where).fields(this.options.fields).precision(this.options.precision);return this.options.simplifyFactor&&t.simplify(this._map,this.options.simplifyFactor),"server"===this.options.timeFilterMode&&this.options.from&&this.options.to&&t.between(this.options.from,this.options.to),t},setWhere:function(n,i,r){var o,c,l;this.options.where=n&&n.length?n:"1=1";for(var s=[],u=[],f=0,h=null,a=t.Util.bind(function(n,e){if(n&&(h=n),e)for(var o=e.features.length-1;o>=0;o--)u.push(e.features[o].id);f--;0>=f&&(this._currentSnapshot=u,t.Util.requestAnimFrame(t.Util.bind(function(){this.removeLayers(s);this.addLayers(u);i&&i.call(r,h)},this)))},this),e=this._currentSnapshot.length-1;e>=0;e--)s.push(this._currentSnapshot[e]);for(o in this._activeCells)f++,c=this._keyToCellCoords(o),l=this._cellCoordsToBounds(c),this._requestFeatures(l,o,a);return this},getWhere:function(){return this.options.where},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(n,i,r,u){var o=this.options.from,s=this.options.to,f=0,h=null,a=t.Util.bind(function(t){t&&(h=t);this._filterExistingFeatures(o,s,n,i);f--;r&&0>=f&&r.call(u,h)},this),e,c,l;if(this.options.from=n,this.options.to=i,this._filterExistingFeatures(o,s,n,i),"server"===this.options.timeFilterMode)for(e in this._activeCells)f++,c=this._keyToCellCoords(e),l=this._cellCoordsToBounds(c),this._requestFeatures(l,e,a);return this},refresh:function(){var n,t,i;for(n in this._activeCells)t=this._keyToCellCoords(n),i=this._cellCoordsToBounds(t),this._requestFeatures(i,n);this.redraw&&this.once("load",function(){this.eachFeature(function(n){this._redraw(n.feature.id)},this)},this)},_filterExistingFeatures:function(n,i,r,u){var o=n&&i?this._getFeaturesInTimeRange(n,i):this._currentSnapshot,f=this._getFeaturesInTimeRange(r,u),e,s;if(f.indexOf)for(e=0;e<f.length;e++)s=o.indexOf(f[e]),s>=0&&o.splice(s,1);t.Util.requestAnimFrame(t.Util.bind(function(){this.removeLayers(o);this.addLayers(f)},this))},_getFeaturesInTimeRange:function(n,t){var i,u=[],f,e,r;for(this.options.timeField.start&&this.options.timeField.end?(f=this._startTimeIndex.between(n,t),e=this._endTimeIndex.between(n,t),i=f.concat(e)):i=this._timeIndex.between(n,t),r=i.length-1;r>=0;r--)u.push(i[r].id);return u},_buildTimeIndexes:function(n){var t,i,r,u,f;if(this.options.timeField.start&&this.options.timeField.end){for(r=[],u=[],t=n.length-1;t>=0;t--)i=n[t],r.push({id:i.id,value:new Date(i.properties[this.options.timeField.start])}),u.push({id:i.id,value:new Date(i.properties[this.options.timeField.end])});this._startTimeIndex.bulkAdd(r);this._endTimeIndex.bulkAdd(u)}else{for(f=[],t=n.length-1;t>=0;t--)i=n[t],f.push({id:i.id,value:new Date(i.properties[this.options.timeField])});this._timeIndex.bulkAdd(f)}},_featureWithinTimeRange:function(n){var t,i,r,u,f;return!this.options.from||!this.options.to?!0:(t=+this.options.from.valueOf(),i=+this.options.to.valueOf(),"string"==typeof this.options.timeField)?(r=+n.properties[this.options.timeField],r>=t&&i>=r):this.options.timeField.start&&this.options.timeField.end?(u=+n.properties[this.options.timeField.start],f=+n.properties[this.options.timeField.end],u>=t&&i>=u||f>=t&&i>=f):void 0},_visibleZoom:function(){if(!this._map)return!1;var n=this._map.getZoom();return!(n>this.options.maxZoom||n<this.options.minZoom)},_handleZoomChange:function(){var t,i,n;if(this._visibleZoom())for(t in this._activeCells)i=this._activeCells[t].coords,n=this._cacheKey(i),this._cache[n]&&this.addLayers(this._cache[n]);else this.removeLayers(this._currentSnapshot),this._currentSnapshot=[]},authenticate:function(n){return this.service.authenticate(n),this},metadata:function(n,t){return this.service.metadata(n,t),this},query:function(){return this.service.query()},_getMetadata:function(n){if(this._metadata){var i;n(i,this._metadata)}else this.metadata(t.Util.bind(function(t,i){this._metadata=i;n(t,this._metadata)},this))},addFeature:function(n,i,r){this._getMetadata(t.Util.bind(function(u,f){return u?void(i&&i.call(this,u,null)):void this.service.addFeature(n,t.Util.bind(function(t,u){t||(n.properties[f.objectIdField]=u.objectId,n.id=u.objectId,this.createLayers([n]));i&&i.call(r,t,u)},this))},this))},updateFeature:function(n,t,i){this.service.updateFeature(n,function(r,u){r||(this.removeLayers([n.id],!0),this.createLayers([n]));t&&t.call(i,r,u)},this)},deleteFeature:function(n,t,i){this.service.deleteFeature(n,function(n,r){!n&&r.objectId&&this.removeLayers([r.objectId],!0);t&&t.call(i,n,r)},this)},deleteFeatures:function(n,t,i){return this.service.deleteFeatures(n,function(n,r){if(!n&&r.length>0)for(var u=0;u<r.length;u++)this.removeLayers([r[u].objectId],!0);t&&t.call(i,n,r)},this)}});st=c.extend({options:{cacheLayers:!0},initialize:function(n){c.prototype.initialize.call(this,n);this._originalStyle=this.options.style;this._layers={}},onRemove:function(n){for(var t in this._layers)n.removeLayer(this._layers[t]);return c.prototype.onRemove.call(this,n)},createNewLayer:function(n){var i=t.GeoJSON.geometryToLayer(n,this.options);return i.defaultOptions=i.options,i},_updateLayer:function(n,i){var r=[],u=this.options.coordsToLatLng||t.GeoJSON.coordsToLatLng;switch(i.properties&&(n.feature.properties=i.properties),i.geometry.type){case"Point":r=t.GeoJSON.coordsToLatLng(i.geometry.coordinates);n.setLatLng(r);break;case"LineString":r=t.GeoJSON.coordsToLatLngs(i.geometry.coordinates,0,u);n.setLatLngs(r);break;case"MultiLineString":r=t.GeoJSON.coordsToLatLngs(i.geometry.coordinates,1,u);n.setLatLngs(r);break;case"Polygon":r=t.GeoJSON.coordsToLatLngs(i.geometry.coordinates,1,u);n.setLatLngs(r);break;case"MultiPolygon":r=t.GeoJSON.coordsToLatLngs(i.geometry.coordinates,2,u);n.setLatLngs(r)}},createLayers:function(n){for(var t,r,i,u=n.length-1;u>=0;u--)r=n[u],i=this._layers[r.id],this._visibleZoom()&&i&&!this._map.hasLayer(i)&&this._map.addLayer(i),i&&this.options.simplifyFactor>0&&(i.setLatLngs||i.setLatLng)&&this._updateLayer(i,r),i||(t=this.createNewLayer(r),t.feature=r,t.addEventParent(this),this.options.onEachFeature&&this.options.onEachFeature(t.feature,t),this._layers[t.feature.id]=t,this.setFeatureStyle(t.feature.id,this.options.style),this.fire("createfeature",{feature:t.feature},!0),this._visibleZoom()&&(!this.options.timeField||this.options.timeField&&this._featureWithinTimeRange(r))&&this._map.addLayer(t))},addLayers:function(n){for(var i,t=n.length-1;t>=0;t--)i=this._layers[n[t]],i&&(this.fire("addfeature",{feature:i.feature},!0),this._map.addLayer(i))},removeLayers:function(n,t){for(var u,i,r=n.length-1;r>=0;r--)u=n[r],i=this._layers[u],i&&(this.fire("removefeature",{feature:i.feature,permanent:t},!0),this._map.removeLayer(i)),i&&t&&delete this._layers[u]},cellEnter:function(n,i){!this._zooming&&this._map&&t.Util.requestAnimFrame(t.Util.bind(function(){var t=this._cacheKey(i),r=this._cellCoordsToKey(i),n=this._cache[t];this._activeCells[r]&&n&&this.addLayers(n)},this))},cellLeave:function(n,i){this._zooming||t.Util.requestAnimFrame(t.Util.bind(function(){var t,r,u;if(this._map){var e=this._cacheKey(i),f=this._cellCoordsToKey(i),n=this._cache[e],o=this._map.getBounds();if(!this._activeCells[f]&&n){for(t=!0,r=0;r<n.length;r++)u=this._layers[n[r]],u&&u.getBounds&&o.intersects(u.getBounds())&&(t=!1);t&&this.removeLayers(n,!this.options.cacheLayers);!this.options.cacheLayers&&t&&(delete this._cache[e],delete this._cells[f],delete this._activeCells[f])}}},this))},resetStyle:function(){return this.options.style=this._originalStyle,this.eachFeature(function(n){this.resetFeatureStyle(n.feature.id)},this),this},setStyle:function(n){return this.options.style=n,this.eachFeature(function(t){this.setFeatureStyle(t.feature.id,n)},this),this},resetFeatureStyle:function(n){var i=this._layers[n],r=this._originalStyle||t.Path.prototype.options;return i&&(t.Util.extend(i.options,i.defaultOptions),this.setFeatureStyle(n,r)),this},setFeatureStyle:function(n,t){var i=this._layers[n];return"function"==typeof t&&(t=t(i.feature)),i.setStyle&&i.setStyle(t),this},eachFeature:function(n,t){for(var i in this._layers)n.call(t,this._layers[i]);return this},getFeature:function(n){return this._layers[n]},bringToBack:function(){this.eachFeature(function(n){n.bringToBack&&n.bringToBack()})},bringToFront:function(){this.eachFeature(function(n){n.bringToFront&&n.bringToFront()})},redraw:function(n){return n&&this._redraw(n),this},_redraw:function(n){var i=this._layers[n],r=i.feature,u,f,e,o;i&&i.setIcon&&this.options.pointToLayer&&this.options.pointToLayer&&(u=this.options.pointToLayer(r,t.latLng(r.geometry.coordinates[1],r.geometry.coordinates[0])),f=u.options.icon,i.setIcon(f));i&&i.setStyle&&this.options.pointToLayer&&(e=this.options.pointToLayer(r,t.latLng(r.geometry.coordinates[1],r.geometry.coordinates[0])),o=e.options,this.setFeatureStyle(r.id,o));i&&i.setStyle&&this.options.style&&this.resetStyle(r.id)}});n.VERSION="2.0.0";n.Support=o;n.Util=r;n.get=b;n.post=yt;n.request=wt;n.Task=s;n.task=ir;n.Query=ii;n.query=p;n.Find=ri;n.find=bt;n.Identify=d;n.identify=rr;n.IdentifyFeatures=ui;n.identifyFeatures=kt;n.IdentifyImage=fi;n.identifyImage=dt;n.Service=h;n.service=ur;n.MapService=ei;n.mapService=ft;n.ImageService=oi;n.imageService=gt;n.FeatureLayerService=si;n.featureLayerService=ni;n.BasemapLayer=g;n.basemapLayer=er;n.TiledMapLayer=et;n.tiledMapLayer=or;n.RasterLayer=ot;n.ImageMapLayer=hi;n.imageMapLayer=sr;n.DynamicMapLayer=ci;n.dynamicMapLayer=hr;n.FeatureManager=c;n.FeatureLayer=st;n.featureLayer=cr});L.GeoSearch={};L.GeoSearch.Provider={};L.GeoSearch.Result=function(n,t,i,r,u){this.X=n;this.Y=t;this.Label=i;this.bounds=r;u&&(this.details=u)};L.Control.GeoSearch=L.Control.extend({options:{position:"topleft",showMarker:!0,showPopup:!1,customIcon:!1,retainZoomLevel:!1,draggable:!1},_config:{country:"",searchLabel:"Enter address",notFoundMessage:"Sorry, that address could not be found.",messageHideDelay:3e3,zoomLevel:18},initialize:function(n){L.Util.extend(this.options,n);L.Util.extend(this._config,n)},resetLink:function(n){var t=this._container.querySelector("a");t.className="leaflet-bar-part leaflet-bar-part-single "+n},onAdd:function(){var n,t,i,r;return this._container=L.DomUtil.create("div","leaflet-bar leaflet-control leaflet-control-geosearch"),n=L.DomUtil.create("a","",this._container),n.href="#",n.title=this._config.searchLabel,this.resetLink("glass"),t=L.DomUtil.create("form","displayNone",this._container),i=L.DomUtil.create("input",null,t),i.type="text",i.placeholder=this._config.searchLabel,this._searchbox=i,r=L.DomUtil.create("div","leaflet-bar message displayNone",this._container),this._msgbox=r,L.DomEvent.on(n,"click",L.DomEvent.stopPropagation).on(n,"click",L.DomEvent.preventDefault).on(n,"click",function(){L.DomUtil.hasClass(t,"displayNone")?(L.DomUtil.removeClass(t,"displayNone"),i.focus()):L.DomUtil.addClass(t,"displayNone")}).on(n,"dblclick",L.DomEvent.stopPropagation),L.DomEvent.addListener(this._searchbox,"keypress",this._onKeyPress,this).addListener(this._searchbox,"keyup",this._onKeyUp,this).addListener(this._searchbox,"input",this._onInput,this),L.DomEvent.disableClickPropagation(this._container),this._container},geosearch:function(n){var r=this,t,i;try{t=this._config.provider;"function"==typeof t.GetLocations?t.GetLocations(n,function(t){r._processResults(t,n)}):(i=t.GetServiceUrl(n),this.sendRequest(t,i,n))}catch(u){this._printError(u)}},cancelSearch:function(){var n=this._container.querySelector("form");L.DomUtil.addClass(n,"displayNone");this._searchbox.value="";this.resetLink("glass");L.DomUtil.addClass(this._msgbox,"displayNone");this._map._container.focus()},startSearch:function(){this.resetLink("spinner");this.geosearch(this._searchbox.value)},sendRequest:function(n,t,i){function e(n){n+="&callback=parseLocation";var t=document.createElement("script");t.id="getJsonP";t.src=n;t.async=!0;document.body.appendChild(t)}var f=this,r,u;(window.parseLocation=function(t){var r=n.ParseJSON(t);f._processResults(r,i);document.body.removeChild(document.getElementById("getJsonP"));delete window.parseLocation},XMLHttpRequest)&&(r=new XMLHttpRequest,"withCredentials"in r?(r=new XMLHttpRequest,r.onreadystatechange=function(){if(4==r.readyState)if(200==r.status){var u=JSON.parse(r.responseText),o=n.ParseJSON(u);f._processResults(o,i)}else 0==r.status||400==r.status?e(t):f._printError(r.responseText)},r.open("GET",t,!0),r.send()):XDomainRequest?(u=new XDomainRequest,u.onerror=function(n){f._printError(n)},u.onload=function(){var t=JSON.parse(u.responseText),r=n.ParseJSON(t);f._processResults(r,i)},u.open("GET",t),u.send()):e(t))},_processResults:function(n,t){n.length>0?(this._map.fireEvent("geosearch_foundlocations",{Locations:n}),this._showLocation(n[0],t),this.cancelSearch()):this._printError(this._config.notFoundMessage)},_showLocation:function(n,t){1==this.options.showMarker&&("undefined"==typeof this._positionMarker?(this._positionMarker=L.marker([n.Y,n.X],{draggable:this.options.draggable}).addTo(this._map),this.options.customIcon&&this._positionMarker.setIcon(this.options.customIcon),this.options.showPopup&&this._positionMarker.bindPopup(t).openPopup()):(this._positionMarker.setLatLng([n.Y,n.X]),this.options.showPopup&&this._positionMarker.bindPopup(t).openPopup()));!this.options.retainZoomLevel&&n.bounds&&n.bounds.isValid()?this._map.fitBounds(n.bounds):this._map.setView([n.Y,n.X],this._getZoomLevel(),!1);this._map.fireEvent("geosearch_showlocation",{Location:n,Marker:this._positionMarker})},_isShowingError:!1,_printError:function(n){this._msgbox.innerHTML=n;L.DomUtil.removeClass(this._msgbox,"displayNone");this._map.fireEvent("geosearch_error",{message:n});this.resetLink("alert");this._isShowingError=!0},_onKeyUp:function(n){n.keyCode===27&&this.cancelSearch()},_getZoomLevel:function(){return this.options.retainZoomLevel?this._map._zoom:this._config.zoomLevel},_onInput:function(){this._isShowingError&&(this.resetLink("glass"),L.DomUtil.addClass(this._msgbox,"displayNone"),this._isShowingError=!1)},_onKeyPress:function(n){n.keyCode===13&&(n.preventDefault(),n.stopPropagation(),this.startSearch())}});L.GeoSearch.Provider.Esri=L.Class.extend({options:{},initialize:function(n){n=L.Util.setOptions(this,n)},GetServiceUrl:function(n){var t=L.Util.extend({text:n,f:"pjson"},this.options);return("https:"===location.protocol?"https:":"http:")+"//geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/find"+L.Util.getParamString(t)},ParseJSON:function(n){if(0==n.locations.length)return[];for(var i=[],t=0;t<n.locations.length;t++)i.push(new L.GeoSearch.Result(n.locations[t].feature.geometry.x,n.locations[t].feature.geometry.y,n.locations[t].name));return i}}),function(){var t,r,u,n,f,i=function(n,t){function r(){this.constructor=n}for(var i in t)e.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},e={}.hasOwnProperty;window.HcMap=function(){function n(n,t){this.elem=n;this.templatesDir=t;this.map=L.map(this.elem.get(0),{scrollWheelZoom:!1});this.mapObjectElems=this.elem.find("> layer, > layerGroup, > marker");this.arcgisUrl="https://services.arcgis.com/apTfC6SUmnNfnxuF/arcgis/rest/services/HCWebMap/FeatureServer/";this.hasOverlays=_.isUndefined(this.elem.data("has-overlay"))?!1:this.elem.data("has-overlay");this.zoom=_.isUndefined(this.elem.data("zoom"))?!1:this.elem.data("zoom");this.clickToScroll=_.isUndefined(this.elem.data("click-scroll"))?!0:this.elem.data("click-scroll");this.mapObjects=[];this.overlayToggles=[];this.map.setView([0,0],10);L.esri.basemapLayer("Topographic").addTo(this.map);L.control.locate().addTo(this.map);this.northWest=L.latLng(28.173379,-82.823669);this.southEast=L.latLng(27.57055,-82.054012);this.map.fitBounds(L.latLngBounds(this.northWest,this.southEast));this.clickToScroll&&this.scrollWheelToggle();this.createObjects();this.zoom&&this.zoomToFit();this.hasOverlays&&new f(this)}return n.prototype.createObjects=function(){var n;return n=this,this.mapObjectElems.each(function(){var i;switch($(this).prop("tagName").toLowerCase()){case"layer":i=new t($(this),n);break;case"layergroup":i=new r($(this),n);break;case"marker":i=new u($(this),n)}n.mapObjects.push(i);$(this).hide()})},n.prototype.addGeoMarker=function(n){var t,i;return i=this,t=new L.GeoSearch.Provider.Esri,$.get(t.GetServiceUrl(n.address),function(r){var u;u=t.ParseJSON(r)[0];i.addCoordsMarker(n,[u.Y,u.X])},"json")},n.prototype.addCoordsMarker=function(n,t){var r,i;if(t==null&&(t=!1),r=t?t:n.latlng,i=L.marker(r,{icon:L.divIcon({className:null,html:n.renderedIcon().get(0).outerHTML})}),this.bindPopupFor(n,i),this.bindHrefFor(n,i),this.hasOverlays){if(n.visible)return i.addTo(this.map)}else return i.addTo(this.map)},n.prototype.addHcLayer=function(n){var t;if(t=n.feature(),_.isUndefined(n.color)||t.setStyle({color:n.color}),this.bindPopupFor(n,t),this.bindHrefFor(n,t),this.bindListFor(n,t),this.bindFilterFor(n,t),this.hasOverlays){if(this.overlayToggles.push({obj:n,leafletObj:t}),n.visible)return t.addTo(this.map)}else return t.addTo(this.map)},n.prototype.addHcLayerGroup=function(n){var t,i;if(i=this,t=new L.layerGroup,$.each(n.layers,function(n,r){var u;u=r.feature();i.bindPopupFor(r,u);i.bindHrefFor(r,u);t.addLayer(u)}),this.hasOverlays){if(this.overlayToggles.push({obj:n,leafletObj:t}),n.visible)return t.addTo(this.map)}else return t.addTo(this.map)},n.prototype.bindPopupFor=function(n,t){$.get(this.templatesDir+"popups/"+n.popupProperties.template+".html",function(i){var r;r=_.template(i);t.bindPopup(function(t){var i;return i=n.popupProperties.template!=="default"?t.feature.properties:n.popupProperties,L.Util.template(r({properties:i}),i)})},"html")},n.prototype.bindHrefFor=function(n,t){if(!_.isUndefined(n.href))return t.on("click",function(){return window.location=n.href})},n.prototype.scrollWheelToggle=function(){return this.map.on("click",function(){this.scrollWheelZoom.enabled()?this.scrollWheelZoom.disable():this.scrollWheelZoom.enable()})},n.prototype.zoomToFit=function(){var n=new L.latLngBounds;return this.map.on("layeradd",function(t){t.layer._latlng&&t.layer._icon&&(n.extend(t.layer._latlng),this.fitBounds(n))})},n.prototype.bindListFor=function(n,t){var i;if(i=this,!(_.isUndefined(n.listElem)||_.isUndefined(n.listTemplate)))return t.on("load",function(t){var r;return r=t.target._layers,$.get(i.templatesDir+"/lists/"+n.listTemplate+".html",function(t){var i;return i=_.template(t),$(n.listElem).html(i({layers:r,elem:n}))})})},n.prototype.bindFilterFor=function(n,t){var i;if(i=this,!(_.isUndefined(n.filterField)||_.isUndefined(n.filterElem)))return t.on("load",function(t){var r;return r=_.uniq(_.map(t.target._layers,function(t){return t.feature.properties[n.filterField]})),$.get(i.templatesDir+"/filters/filter.html",function(t){var i;return i=_.template(t),$(n.filterElem).append(i({filter_field:n.filterField,filters:r}))})})},n}();n=function(){function n(n,t){this.elem=n;this.map=t;this.name=this.elem.data("name");this.href=this.elem.attr("href");this.icon={char:_.isUndefined(this.elem.data("icon-char"))?"":this.elem.data("icon-char"),color:_.isUndefined(this.elem.data("icon-color"))?"#ff6f59":this.elem.data("icon-color")};this.visible=_.isUndefined(this.elem.data("visible"))?!1:this.elem.data("visible");this.popupProperties={template:_.isUndefined(this.elem.data("template"))?"default":this.elem.data("template"),title:this.name,content:this.elem.html()}}return n.prototype.renderedIcon=function(){return $('<div class="hc-map-icon"><\/div>').css({background:this.icon.color,boxShadow:"0 0 0 1px "+this.icon.color}).html(this.icon.char)},n}();u=function(n){function t(n,i){this.elem=n;this.map=i;t.__super__.constructor.call(this,this.elem,this.map);this.latlng=_.isUndefined(this.elem.data("latlng"))?void 0:this.elem.data("latlng").split(",");this.address=this.elem.data("address");_.isUndefined(this.latlng)?_.isUndefined(this.address)||this.map.addGeoMarker(this):this.map.addCoordsMarker(this)}return i(t,n),t}(n);t=function(n){function t(n,i,r){this.elem=n;this.map=i;r==null&&(r=!1);t.__super__.constructor.call(this,this.elem,this.map);this.id=this.elem.data("id");this.color=this.elem.data("color");this.url=_.isUndefined(this.elem.data("url"))?this.map.arcgisUrl+this.id:this.elem.data("url");_.isUndefined(this.id&&_.isUndefined(this.elem.data("template")))||(this.popupProperties.template="hc-arcgis");this.whereClause=this.elem.data("where");this.listElem=this.elem.data("list-elem");this.listTemplate=this.elem.data("list-template");this.filterElem=this.elem.data("filter-elem");this.filterField=this.elem.data("filter-field");r||this.map.addHcLayer(this)}return i(t,n),t.prototype.feature=function(){var n;return n=this,L.esri.featureLayer({url:this.url,where:n.where(),pointToLayer:function(t,i){return L.marker(i,{icon:L.divIcon({className:null,html:n.renderedIcon().get(0).outerHTML})})}})},t.prototype.where=function(){var n;return n=new UrlParser,_.isUndefined(this.whereClause)?n.params.filter!==void 0?this.filterField+" = '"+n.params.filter+"'":"":this.whereClause},t}(n);r=function(n){function r(n,t){this.elem=n;this.map=t;r.__super__.constructor.call(this,this.elem,this.map);this.layerElems=this.elem.find("> layer");this.layers=[];_.isUndefined(this.elem.data("content"))||(this.popupProperties.content=this.elem.data("content"));this.initHcLayers();this.map.addHcLayerGroup(this)}return i(r,n),r.prototype.initHcLayers=function(){var n;return n=this,this.layerElems.each(function(){var i;return i=new t($(this),n.map,!0),_.isUndefined(n.elem.attr("href"))||(i.href=n.href),i.icon.char=n.icon.char,i.icon.color=n.icon.color,_.isUndefined(n.elem.data("template"))||(i.popupProperties.template=n.popupProperties.template),_.isUndefined(n.elem.data("name"))||(i.popupProperties.title=n.popupProperties.title),_.isUndefined(n.elem.data("content"))||(i.popupProperties.content=n.elem.data("content")),n.layers.push(i)})},r}(n);f=function(){function n(n){var t;this.map=n;t=this;$.get(this.map.templatesDir+"overlays.html",function(n){var i,r,u;u=_.template(n);i=$(u({properties:{}}));r=i.find("#map-overlay-toggles");$(document).click(function(){var n,t;n=i.find("#map-overlays");t=n.hasClass("in");t===!0&&n.removeClass("in")});$.each(t.map.overlayToggles,function(n,i){var u;u=$('<a href="#" class="map-overlay-toggle"><\/a>').html(i.obj.renderedIcon().get(0).outerHTML+"&nbsp;"+i.obj.name);t.map.map.hasLayer(i.leafletObj)&&u.addClass("active");u.on("click",function(n){n.preventDefault();n.stopPropagation();t.map.map.hasLayer(i.leafletObj)?(t.map.map.removeLayer(i.leafletObj),u.removeClass("active")):(t.map.map.addLayer(i.leafletObj),u.addClass("active"))});r.append(u)});t.map.elem.before(i)},"html")}return n}();window.UrlParser=function(){function n(n){var t;n==null&&(n=window.location.href);t=document.createElement("a");t.href=n;this.source=n;this.path=t.pathname.replace(/^([^\/])/,"/$1");this.protocol=t.protocol.replace(":","");this.host=t.hostname;this.port=t.port;this.query=t.search;this.hash=t.hash.replace("#","");this.params=this.getParams(t);this.fullPath=this.getFullPath()}return n.prototype.getFullPath=function(){return this.path+this.query},n.prototype.getParams=function(n){var t,f,u,i,r;for(u={},r=n.search.replace(/^\?/,"").split("&"),f=r.length,t=0,i=void 0;t<f;){if(!r[t]){t++;continue}i=r[t].split("=");u[i[0]]=i[1];t++}return u},n}()}.call(this)